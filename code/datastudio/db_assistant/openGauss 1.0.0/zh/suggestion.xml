<?xml version="1.0" encoding="utf-8"?>
<commands>
  <command id="ALTER DATABASE" alias="ALTER DATABASE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a87e1249944954b829942351125d0077f">修改数据库的属性，包括它的名称、所有者、连接数限制<span id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_ph18473165319522">、对象隔离属性</span>等。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_ul887132913315"><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_li104602311533">只有拥有数据库所有者权限的用户才能执行ALTER DATABASE命令，系统管理员默认拥有此权限。如果是非系统管理员，针对所要修改属性的不同，对其还有以下权限约束：<ul id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_ul014713351537"><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_li188772914318">修改数据库名称，必须拥有CREATEDB权限。</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_li68911291534">修改数据库所有者，当前用户必须是该database的所有者，必须拥有CREATEDB权限，且该用户是新所有者角色的成员。</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_li15896291831">修改数据库默认表空间，该用户必须是该database的所有者或系统管理员，必须拥有新表空间的CREATE权限。这个语句会从物理上将一个数据库原来缺省表空间上的表和索引移至新的表空间。注意不在缺省表空间的表和索引不受此影响。</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_li2090129333">修改某个按数据库设置的相关参数，只有数据库所有者或者系统管理员可以改变这些设置。</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_li199018441317">修改某个数据库对象隔离属性，只有数据库所有者或者系统管理员可以执行此操作。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_li959412388319">不能重命名当前使用的数据库，如果需要重新命名，须连接至其他数据库上。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--设置music数据库的连接数为10。
postgres=# ALTER DATABASE music CONNECTION LIMIT= 10 ; 

--将music名称改为music4。
postgres=# ALTER DATABASE music RENAME TO music4 ; 

--将数据库music2的所属者改为tom。
postgres=# ALTER DATABASE music2 OWNER TO tom ; 

--设置music3的表空间为PG_DEFAULT。
postgres=# ALTER DATABASE music3 SET TABLESPACE PG_DEFAULT ; 

--关闭在数据库music3上缺省的索引扫描。
postgres=# ALTER DATABASE music3 SET enable_indexscan TO off ; 

--重置enable_indexscan参数。
postgres=# ALTER DATABASE music3 RESET enable_indexscan ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_u3065de5d8f994e55b3f6fdeccb4fa5f5"><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_lede38c69cc214f80859cb530818b28db">修改数据库的最大连接数。<pre class="screen" id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_s9e0f7656de8741edbced89bfdb6f14c5">ALTER DATABASE database_name 
    [ [ WITH ] CONNECTION LIMIT connlimit ];</pre>
</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l2572c88e88a243e99dd707ecaf5562f6">修改数据库名称。<pre class="screen" id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_s2e68b24d8c2c49cab811c3f17d479532">ALTER DATABASE database_name 
    RENAME TO new_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l205fb81496f149fdaff08245e55b10ed">修改数据库所属者。<pre class="screen" id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_s4bb330b512664562a6f89ca954b67b19">ALTER DATABASE database_name 
    OWNER TO new_owner;</pre>
</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l70841dedac2b4e0588ee0f85f386a34a">修改数据库默认表空间。<pre class="screen" id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_s275954e6929f467fb267b2ee70e3b394">ALTER DATABASE database_name 
    SET TABLESPACE new_tablespace;</pre>
</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l9d2fd04c7a294fb4835f03c46c0fda01">修改数据库指定会话参数值。<pre class="screen" id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_sdab1da1eb8bc4b46b431c2a50110bd04">ALTER DATABASE database_name 
    SET configuration_parameter { { TO | = } { value | DEFAULT } | FROM CURRENT };</pre>
</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l66e3b2d7216d4b2d8f89304600bd5a24">数据库配置参数重置。<pre class="screen" id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_s75f9ef356e9e4072a67224b091fc3913">ALTER DATABASE database_name RESET 
    { configuration_parameter | ALL };</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a0b38a4a8d5724a5faf0063dfaf702bde">database_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_ac953bda2ae664f628ff3454fa96ce97f">需要修改属性的数据库名称。</p>
<p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a6eb32c27d7f44591be7918fcbd291de7">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_ae694aee3ed974ee59ed0eccaa62e20af">connlimit</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a2fe0ce67cf2e430da7000484059893d8">数据库可以接收的最大并发连接数（管理员用户连接除外）。</p>
<p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a8111dd675a374f5caf1776ae37f839f5">取值范围：整数，建议填写1~50的整数。-1（缺省）表示没有限制。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a92fdc429dc4b401fa06905881b461ccb">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a90b2884e0c2e4ff885700eeae988990a">数据库的新名称。</p>
<p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_zh-cn_topic_0058966144_p704859143734">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a562112f4891b45de8d430b1693ac7a43">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a72a2adb3284c41bb8e93e85e555262c8">数据库的新所有者。</p>
<p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a3d49ed4fb2eb49a6b4b0dd8c8f16796b">取值范围：字符串，有效的用户名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a449cf69d7aaa494d99dfd9abaa45d116">new_tablespace</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_aa73a8622c35b4aaea2e3ddde0f34f87d">数据库新的默认表空间，该表空间为数据库中已经存在的表空间。默认的表空间为pg_default。</p>
<p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a75ec6929efdc468d91329d2307db88c8">取值范围：字符串，有效的表空间名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a187c9602051347fda59e72bab0356b42">configuration_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_aa30b58a884134902901d5b8fbe55ef7d"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a920fa55cf6764b72a5e729e484aabacb">value</strong></p>
<p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a184839ec25664059a91e7bc307e7fb3d">把指定的数据库会话参数值设置为给定的值。如果value是DEFAULT或者RESET，则在新的会话中使用系统的缺省设置。OFF关闭设置。</p>
<p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a1d1c737afb5f43cca47b4305be749c01">取值范围：字符串，</p>
<ul id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_ucfce7696e9954f1bb64853140503939e"><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l830d5ee08dea4b2a91aa1021391ca186">DEFAULT</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l02de6cbbb8aa4524804996e758ca2d63">OFF</li><li id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_l08488b962b2e4a3192b93b1afe8c397e">RESET</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a1cf4c642a3ac49d48fc92a299a85b634">FROM CURRENT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a7f7e0da488464c488c7533e9af671383">根据当前会话连接的数据库设置该参数的值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a846a7bab96674628ba868752192431b3">RESET configuration_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a521da5a4a68e4f45ac97d7a0811f6b2e">重置指定的数据库会话参数值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a2ba0b409ab5640a493acb547dfbe1530">RESET ALL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370519__zh-cn_topic_0237122055_zh-cn_topic_0059779247_a16ec76688dde4ba2bbf23b739dc65f07">重置全部的数据库会话参数值。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER DATA SOURCE" alias="ALTER DATA SOURCE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p3168173316390">修改Data Source对象的属性和内容。</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p7461175083917">属性有：名称和属主；内容有：类型、版本和连接选项。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改名称。
postgres=# ALTER DATA SOURCE ds_test1 RENAME TO ds_test;

--修改属主。
postgres=# CREATE USER user_test1 IDENTIFIED BY ' Gs@123456 ' ; 
postgres=# ALTER USER user_test1 WITH SYSADMIN ; 
postgres=# ALTER DATA SOURCE ds_test OWNER TO user_test1 ; 

--修改TYPE和VERSION。
postgres=# ALTER DATA SOURCE ds_test TYPE ' MPPDB_TYPE ' VERSION ' XXX ' ; 

--添加字段。
postgres=# ALTER DATA SOURCE ds_test OPTIONS ( add dsn ' gaussdb ' , username ' test_user ' ) ; 

--修改字段。
postgres=# ALTER DATA SOURCE ds_test OPTIONS ( set dsn ' unknown ' ) ; 

--删除字段。
postgres=# ALTER DATA SOURCE ds_test OPTIONS ( drop username ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_screen14904131312571">ALTER DATA SOURCE src_name
    [TYPE  'type_str']
    [VERSION  {'version_str' | NULL}]
    [OPTIONS ( {[ ADD | SET | DROP ] optname ['optvalue']} [, ...] )];
ALTER DATA SOURCE src_name RENAME TO src_new_name;
ALTER DATA SOURCE src_name OWNER TO new_owner;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_b5194155164211">src_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p138531139121116">待修改的Data Source的名称。</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p14484141081410">取值范围：字符串，需要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_b1672718542422">TYPE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p172601454121211">将Data Source原来的TYPE修改为指定值。</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p13854444191318">取值范围：空串或非空字符串。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_b564818587428">VERSION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p9418184216141">将Data Source原来的VERSION修改为指定值。</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p1677574156">取值范围：空串或非空字符串或NULL。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_b972102104316">OPTIONS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p10307135617225">修改OPTIONS中的字段：增加（ADD）、修改（SET）、删除（DROP），且字段名称optname需唯一，具体要求如下：</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p1823153551815">增加字段：ADD可以省略，待增加字段不能已经存在了；</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p3606153842319">修改字段：SET不可省略，待修改字段必须存在；</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p13928131915249">删除字段：DROP不可省略，待删除字段必须存在，且不能指定optvalue；</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_b58433614431">src_new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p1824319427108">新的Data Source名称。</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p14580227121119">取值范围：字符串，需符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_b121861610114314">new_user</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p13602999132">对象的新属主。</p>
<p id="ZH-CN_TOPIC_0242370520__zh-cn_topic_0237122056_p7733201213131">取值范围：字符串，有效的用户名。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER DEFAULT PRIVILEGES" alias="ALTER DEFAULT PRIVILEGES">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a261f14bd16a44ff2961130147f9fa053">设置应用于将来创建的对象的权限（这不会影响分配到已有对象中的权限）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a672978cddb414478bd439b1e7e0e9a77">目前只支持表（包括视图）、 函数和类型（包括域）的权限更改。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--将创建在模式tpcds里的所有表（和视图）的SELECT权限授予每一个用户。
postgres=# ALTER DEFAULT PRIVILEGES IN SCHEMA tpcds GRANT SELECT ON TABLES TO PUBLIC ; 

--将tpcds下的所有表的插入权限授予用户jack。
postgres=# ALTER DEFAULT PRIVILEGES IN SCHEMA tpcds GRANT INSERT ON TABLES TO jack ; 

--撤销上述权限。
postgres=# ALTER DEFAULT PRIVILEGES IN SCHEMA tpcds REVOKE SELECT ON TABLES FROM PUBLIC ; 
postgres=# ALTER DEFAULT PRIVILEGES IN SCHEMA tpcds REVOKE INSERT ON TABLES FROM jack ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_sa870403cc0df4c7cbd8e1eb9d1a393ee">ALTER DEFAULT PRIVILEGES
    [ FOR { ROLE | USER } target_role [, ...] ]
    [ IN SCHEMA schema_name [, ...] ]
    abbreviated_grant_or_revoke;</pre>
<ul id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_ul847984018506"><li id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_li1747912402509">其中abbreviated_grant_or_revoke子句用于指定对哪些对象进行授权或回收权限。<pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_sdff2650d515048ea9ce0cef70adebb67">grant_on_tables_clause
  | grant_on_functions_clause
  | grant_on_types_clause
  | revoke_on_tables_clause
  | revoke_on_functions_clause
  | revoke_on_types_clause</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_uc169ecad5d7c4db7b5f6f341eb291e54"><li id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_l169724d621874ccba36a3a87027cde92">其中grant_on_tables_clause子句用于对表授权。<pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_s6e79fd3f94894a549f2b356df5b2bc06">GRANT { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES } 
    [, ...] | ALL [ PRIVILEGES ] }
    ON TABLES 
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ]</pre>
</li><li id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_zh-cn_topic_0058966089_li84595284546">其中grant_on_functions_clause子句用于对函数授权。<pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_s351aacf8a6d24581b09a028429d20268">GRANT { EXECUTE | ALL [ PRIVILEGES ] }
    ON FUNCTIONS 
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ]</pre>
</li><li id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_lb367e832b28441ee9980ba1c1a00d912">其中grant_on_types_clause子句用于对类型授权。<pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_s2772679b6e6749f4a31f57f95461dd8b">GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON TYPES 
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ]</pre>
</li><li id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_ld04e27c2b8b8451a9e7b1d5898596a36">其中revoke_on_tables_clause子句用于回收表对象的权限。<pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_s4d934941780b4cc5941b585afebf7f6b">REVOKE [ GRANT OPTION FOR ]
    { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES } 
    [, ...] | ALL [ PRIVILEGES ] }
    ON TABLES 
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT | CASCADE CONSTRAINTS ]</pre>
</li><li id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_l7e786b63a5d140f48e184439ea6601ff">其中revoke_on_functions_clause子句用于回收函数的权限。<pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_s689943e62fd24579b096ffe8bda06a82">REVOKE [ GRANT OPTION FOR ]
    { EXECUTE | ALL [ PRIVILEGES ] }
    ON FUNCTIONS 
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT | CASCADE CONSTRAINTS ]</pre>
</li><li id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_lb56dadb4f75f4f8c9388305b848318cf">其中revoke_on_types_clause子句用于回收类型的权限。<pre class="screen" id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_sab6df62fbc4b4617a21d97c96ca52d87">REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON TYPES 
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT | CASCADE CONSTRAINTS ]</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a3c8629cfe3fc4ca5a4aa216aa18d8e95">target_role</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a7b06d32bad13497598baf73e13730227">已有角色的名称。如果省略FOR ROLE/USER，则缺省值为当前角色/用户。</p>
<p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_ad4e836cf4ea44750a652c9339e10ddf8">取值范围：已有角色的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a841b74af013e484d81f6b90053a04f37">schema_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_ad2a7eeb8e3ae4d6fafd5086fde71ea45">现有模式的名称。</p>
<p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a5e6528e46f844e8fbf4b9b7ab250d2c2">target_role必须有schema_name的CREATE权限。</p>
<p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_ac29f8399b2d84e069be51395e237b6ea">取值范围：现有模式的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a73a4f6b89257401a8ce4841fe6e16e14">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_abb8c705cb5f5469d9295ae8aba1e3e83">被授予或者取消权限角色的名称。</p>
<p id="ZH-CN_TOPIC_0252797127__zh-cn_topic_0237122057_zh-cn_topic_0059778935_a03f241138eaf4b109e9ec5000e9585d3">取值范围：已存在的角色名称。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER DIRECTORY" alias="ALTER DIRECTORY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370522__zh-cn_topic_0237122058_zh-cn_topic_0059778392_ada17a7e219a1411bb29a60a26fdb508c">对directory属性进行修改。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370522__zh-cn_topic_0237122058_ul2019191594119"><li id="ZH-CN_TOPIC_0242370522__zh-cn_topic_0237122058_li919161564116">目前只支持修改directory属主。</li><li id="ZH-CN_TOPIC_0242370522__zh-cn_topic_0237122058_li19302119174111">属主仅允许是sysadmin权限用户，不允许赋予普通用户。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改目录的owner。
postgres=# ALTER DIRECTORY dir OWNER TO system ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370522__zh-cn_topic_0237122058_zh-cn_topic_0059778392_screen2698157143714">ALTER DIRECTORY directory_name
    OWNER TO new_owner;</pre>
</div>]]></suggestion>
  </command>
  <command id="ALTER FUNCTION" alias="ALTER FUNCTION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_zh-cn_topic_0058965748_p598913108474">修改自定义函数的属性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_p21666797145042">只有该函数的所有者，才有权限执行该命令，系统管理员默认拥有该权限。如果函数中涉及对临时表相关的操作，则无法使用ALTER FUNCTION。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改函数add的执行规则为IMMUTABLE，即参数不变时返回相同结果。
postgres=# ALTER FUNCTION func_add_sql2 ( INTEGER , INTEGER ) IMMUTABLE ; 

--将函数add的名称修改为add_two_number。
postgres=# ALTER FUNCTION func_add_sql2 ( INTEGER , INTEGER ) RENAME TO add_two_number ; 

--将函数add的属者改为omm。
postgres=# ALTER FUNCTION add_two_number ( INTEGER , INTEGER ) OWNER TO omm ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_u69b7128203554b388c374ea0ca44c602"><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_l61b1c12094594cb5b6ba9bd6cc1b9f59">修改自定义函数的附加参数。<pre class="screen" id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_s3c36a7a2c29242a3878da627e1eb45fa">ALTER FUNCTION function_name ( [ { [ argmode ] [ argname ] argtype} [, ...] ] )
    action [ ... ] [ RESTRICT ];</pre>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_zh-cn_topic_0058965748_p84276458474">其中附加参数action子句语法为。</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_s49bfa259a8c941da98ae8ba3e61099d1">{CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT}
 | {IMMUTABLE | STABLE | VOLATILE}
 | {SHIPPABLE | NOT SHIPPABLE}
 | {NOT FENCED | FENCED}
 | [ NOT ] LEAKPROOF
 | { [ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER }
 | AUTHID { DEFINER | CURRENT_USER }
 | COST execution_cost
 | ROWS result_rows
 | SET configuration_parameter { { TO | = } { value | DEFAULT }| FROM CURRENT}
 | RESET {configuration_parameter | ALL}</pre>
</li><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_l68d48a5a94f440e99cea3171fac15fef">修改自定义函数的名称。<pre class="screen" id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_s20ca138e20a7462191bb709301036fba">ALTER FUNCTION funname ( [ { [ argmode ] [ argname ] argtype} [, ...] ] )
    RENAME TO new_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_l1247e355f77c4a7ab09b0f8061d4ca93">修改自定义函数的所属者。<pre class="screen" id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_s36dc3ada915a4bdc91e516dcacd62f5c">ALTER FUNCTION funname ( [ { [ argmode ] [ argname ] argtype} [, ...] ] )
    OWNER TO new_owner;</pre>
</li><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_lf650b9d8c5d346e68229ce442a188cbe">修改自定义函数的模式。<pre class="screen" id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_sd7ef318b8afb4d64bfe76ac880887d61">ALTER FUNCTION funname ( [ { [ argmode ] [ argname ] argtype} [, ...] ] )
    SET SCHEMA new_schema;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a22b95fc8aa434b8a85841cfdfa8be1fb">function_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a78c005b2a6d84d51877b01ec06500e86">要修改的函数名称。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a7cb4f082168a4ab59bd898fe8e73c314">取值范围：已存在的函数名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a3c1c583ea88f4d399e8bc9c0aaf18dce">argmode</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a6ee9680076634bbe92174a73466a8a62">标识该参数是输入、输出参数。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a08035b95aceb4e969f4ac611df030ca5">取值范围：IN/OUT/IN OUT</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a853aad70274f4de396f3fe9f0de32e27">argname</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a67237de794a5468b93bd86e84e6a7de0">参数名称。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_ac3719df9022447dbac97b1383930d4de">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a8619aee8538d431e9aa579081dac8e8c">argtype</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a40c4c978761049caa03dc2fe57d0fdd8">参数类型。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a4a94f8680eca487c84aa4912a1ccec88">取值范围：有效的类型，请参考<a>数据类型</a>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a95be87cff4544ad0b7d9d1ef25a2c45a">CALLED ON NULL INPUT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_aaa68f0e4ce0a46f68fec3435842f7f7f">表明该函数的某些参数是NULL的时候可以按照正常的方式调用。缺省时与指定此参数的作用相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a9aebca356f194e2088b2cf5880bb72bd">RETURNS NULL ON NULL INPUT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a93c57c8738a94650abcdc9b224f7ace9"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a36df7dfded494c3faad0f233a65e0aba">STRICT</strong></p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a4e5eee8080f84ca69a6f4832519c0b17">STRICT用于指定如果函数的某个参数是NULL，此函数总是返回NULL。如果声明了这个参数，则如果存在NULL参数时不会执行该函数；而只是自动假设一个NULL结果。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_adde229c2d3604e3ab7370239619cfd05">RETURNS NULL ON NULL INPUT和STRICT的功能相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_af6d50f050a6241d48275be51513b89b8">IMMUTABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a4f527b8d35a6470a872d85175d3c4e03">表示该函数在给出同样的参数值时总是返回同样的结果。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_zh-cn_topic_0058965748_b337271217489">STABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a08cc5e095659425fa662681eb58e591d">表示该函数不能修改数据库，对相同参数值，在同一次表扫描里，该函数的返回值不变，但是返回值可能在不同SQL语句之间变化。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a5334c27d74434da3a871a8b1ca00dcd1">VOLATILE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a07a54ebac74244b7b2b8fb9eb41ad6f7">表示该函数值可以在一次表扫描内改变，不会做任何优化。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_zh-cn_topic_0058965748_b475424417489">LEAKPROOF</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_abbafea877112488d90bc18b8ef9372a9">表示该函数没有副作用，指出参数只包括返回值。LEAKROOF只能由系统管理员设置。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a19155b2819af44e68a794a7210226d2d">EXTERNAL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_add0aee64d0f84941b62a1aa8bf42a929">（可选）目的是和SQL兼容，这个特性适合于所有函数，而不仅是外部函数</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a7a3db301429447c7863c1cf569380083">SECURITY INVOKER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a9e38f7b3b08b4216a83d8cb2d1c8b0fa"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a3b7cc4fe36bc447c92034dfce2cbfaab">AUTHID CURREN_USER</strong></p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a311c5a0ad3684dab8d4eb4f183ba08ae">表明该函数将以调用它的用户的权限执行。缺省时与指定此参数的作用相同。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a87a265952a624f20abfe479a1e372614">SECURITY INVOKER和AUTHID CURREN_USER的功能相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a7aba3b8de9b54bb483ce5af31c6fb251">SECURITY DEFINER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a73e07ae91bb146e3a7c5ec5c2b8eca91"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a0f2365fa22ff4afe868ce014897972fc">AUTHID DEFINER</strong></p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_af1d8ba5df4e9465299295d57914c8284">声明该函数将以创建它的用户的权限执行。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a52561243fe07462b95714781d1ff9636">AUTHID DEFINER和SECURITY DEFINER的功能相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_aa56e65754bf34d9797fa139c279c713a">COST execution_cost</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a826a0c9296b2435da9c5097b9051fe34">用来估计函数的执行成本。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_zh-cn_topic_0058965748_p913142174333">execution_cost以cpu_operator_cost为单位。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_adb33515f8faf42fa9ee568b4a9106e4b">取值范围：正数</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a007f7e429f554923a601af405a89fb06">ROWS result_rows</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_af206887a428f471db673a2b838373a5a">估计函数返回的行数。用于函数返回的是一个集合。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a0f473070b4bc489c9442b871340c023e">取值范围：正数，默认值是1000行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_afcaf2cbeab6c4920851cc06fe388ba14">configuration_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_u262414e923794be5b18bca840918e274"><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_ld51ffbdbfcd64a5183fd56e0797c9147"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a576db87d23cb42dc95cc3380fcd01c39">value</strong><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a5c3e34b969ec420ba937a978a26715ca">把指定的数据库会话参数值设置为给定的值。如果value是DEFAULT或者RESET，则在新的会话中使用系统的缺省设置。OFF关闭设置。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a5dd57c0260af43c4b6e4c2f3c58383e6">取值范围：字符串</p>
<ul id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_u076287da9cb642dea00b5977f336ca7b"><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_l7ef2f65429a54be4a0995ebd5d5f0340">DEFAULT</li><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_lbfc202a3d8ed40ae87bd9da48639c971">OFF</li><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_l136b2114c9e74f11a4f0b3d950e7de54">RESET</li></ul>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_aaa067b04c8734f13b10f477340ab8fcb">指定默认值。</p>
</li><li id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_ld2e8259a5a6c4315a36f21d746bd7cf0"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a7c15648a62b041a99cf6ea0dcef5aa6a">from current</strong><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_zh-cn_topic_0058965748_p822724145036">取当前会话中的值设置为configuration_parameter的值。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a22fa6a6f40714c0d876da5ac73d039b8">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_af3238335648841f9b6282781513f0518">函数的新名称。要修改函数的所属模式，必须拥有新模式的CREATE权限。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a3f44905f24444fab8af6cfd78951f8d4">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a03594383c6fe483c955866454741e319">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a6fd5820cc2e54ba58d539cccb32de494">函数的新所有者。要修改函数的所有者，新所有者必须拥有该函数所属模式的CREATE权限。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a9a8c203167a14e0dbc33f4c02108dc90">取值范围：已存在的用户角色。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a33febe62b4f94d99bc5c17042f625a18">new_schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_a178ae9fe886a4d7eb241f389be304ffd">函数的新模式。</p>
<p id="ZH-CN_TOPIC_0242370525__zh-cn_topic_0237122061_zh-cn_topic_0059778614_aa43c24687e3d4fe7a1b65eeee2a2fa75">取值范围：已存在的模式。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER GROUP" alias="ALTER GROUP">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_a0097c15f06be43868d68cdc5970df551">修改一个用户组的属性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_p672421012476">ALTER GROUP是ALTER ROLE的别名，非SQL标准语法，不推荐使用，建议用户直接使用ALTER ROLE替代。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--向用户组中添加用户。
postgres=# ALTER GROUP super_users ADD USER lche , jim ; 

--从用户组中删除用户。
postgres=# ALTER GROUP super_users DROP USER jim ; 

--修改用户组的名称。
postgres=# ALTER GROUP super_users RENAME TO normal_users ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_ufce88cd3457846a2833621ca826448bd"><li id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_l4cb106e99e9440848aa0eda0aea4ae90">向用户组中添加用户。<pre class="screen" id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_sd9dd26c20d9d477ca5bc6fb59c77e9f2">ALTER GROUP group_name 
    ADD USER user_name [, ... ];</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_u3a928ffa470e4c3e85662b194bba7489"><li id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_l2855bc3b683643bd9334653af7cbd742">从用户组中删除用户。<pre class="screen" id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_sa7c336cdf52c4017a13cb022905498ee">ALTER GROUP group_name 
    DROP USER user_name [, ... ];</pre>
</li><li id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_l0ba645842334469db9f1cc75398a8d8a">修改用户组的名称。<pre class="screen" id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_s2070c136d91e498b90ab24025407eb87">ALTER GROUP group_name 
    RENAME TO new_name;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370526__zh-cn_topic_0237122062_zh-cn_topic_0059777426_a08992c0db550456daba0566764b8dbfd">请参考ALTER ROLE的<a>参数说明</a>。</p>
</div>]]></suggestion>
  </command>
  <command id="ALTER INDEX" alias="ALTER INDEX">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p154343512513">ALTER INDEX用于修改现有索引的定义。</p>
<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p36629087161054">它有几种子形式：</p>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_ua9bd38825dd443e5aadac547678dd05c"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li64843850155140">IF EXISTS<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p49912669155149">如果指定的索引不存在，则发出一个notice而不是error。</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li30912795155157">RENAME TO<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p5490394915520">只改变索引的名称。对存储的数据没有影响。</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li36527492155218">SET TABLESPACE<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p31401065155220">这个选项会改变索引的表空间为指定表空间，并且把索引相关的数据文件移动到新的表空间里。</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li2149457155226">SET (  { STORAGE_PARAMETER = value  }  [, ...] )<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p3923349155229">改变索引的一个或多个索引方法特定的存储参数。  需要注意的是索引内容不会被这个命令立即修改，根据参数的不同，可能需要使用REINDEX重建索引来获得期望的效果。</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li62260850155236">RESET (  { storage_parameter  }  [, ...] )<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p36571309155238">重置索引的一个或多个索引方法特定的存储参数为缺省值。与SET一样，可能需要使用REINDEX来完全更新索引。</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li27113821155243">[ MODIFY PARTITION index_partition_name  ] UNUSABLE<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p8825393155245">用于设置表或者索引分区上的索引不可用。</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li43629588155249">REBUILD [ PARTITION index_partition_name ]<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p31802353155252">用于重建表或者索引分区上的索引。</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li44487309155255">RENAME PARTITION<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p33702077155257">用于重命名索引分区</p>
</li><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_li150514515530">MOVE PARTITION<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p3040665815534">用于修改索引分区的所属表空间。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_p19988454175616">只有索引的所有者有权限执行此命令，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--重命名一个现有的索引。
postgres=# ALTER INDEX tpcds.ds_ship_mode_t1_index1 RENAME TO ds_ship_mode_t1_index5 ; 

--设置索引不可用。
postgres=# ALTER INDEX tpcds.ds_ship_mode_t1_index2 UNUSABLE ; 

--重建索引。
postgres=# ALTER INDEX tpcds.ds_ship_mode_t1_index2 REBUILD ; 

--修改分区表索引CA_ADDRESS_SK_index2的表空间为example1。
postgres=# ALTER INDEX tpcds.ds_customer_address_p1_index2 MOVE PARTITION CA_ADDRESS_SK_index2 TABLESPACE example1 ; 

--修改分区表索引CA_ADDRESS_SK_index3的表空间为example2。
postgres=# ALTER INDEX tpcds.ds_customer_address_p1_index2 MOVE PARTITION CA_ADDRESS_SK_index3 TABLESPACE example2 ; 

--重命名分区表索引。
postgres=# ALTER INDEX tpcds.ds_customer_address_p1_index2 RENAME PARTITION CA_ADDRESS_SK_index1 TO CA_ADDRESS_SK_index4 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_uea902df6f4324576b33513e8390e1120"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_l83209fd9d82d410e889d01b34f5275f3">重命名表索引的名称。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_s3522f9cf45ae40c783bb274bde7ae603">ALTER INDEX [ IF EXISTS ] index_name 
    RENAME TO new_name;</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_u93b9e4002b004d83bfd087c181a464e9"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_lccdb723ba1514c1f822fda96269d1dd7">修改表索引的所属空间。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_s784755ff5e464d328489c6fcd840b6fe">ALTER INDEX [ IF EXISTS ] index_name 
    SET TABLESPACE tablespace_name;</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_ua9298716d6424fbe830775cf5e2ff805"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_l707a04d7194f469aaec8df0fce33f6f8">修改表索引的存储参数。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_s6c3744e5cc354d7c9607c5a6dc6ef26a">ALTER INDEX [ IF EXISTS ] index_name 
    SET ( {storage_parameter = value} [, ... ] );</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_u2b8e5958182e4e248b8a984883129f2b"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_l87edee14f32f456ab7ca56e57797e8b6">重置表索引的存储参数。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_sb4f7544cfe694651834e64859c6a3fd8">ALTER INDEX [ IF EXISTS ] index_name 
    RESET ( storage_parameter [, ... ] ) ;</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_u8f85bf51bfcf4bb887b49a5224904165"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_la58cac2a58ac4f1682611af480f9d512">设置表索引或索引分区不可用。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_sbeb59e6735544e9d9dc069446bd940cd">ALTER INDEX [ IF EXISTS ] index_name 
    [ MODIFY PARTITION index_partition_name ] UNUSABLE;</pre>
<div class="note" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_n7382215e69c34fa39dcf66feb92d058d"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_zh-cn_topic_0058966167_p415508615411">列存表不支持该语法。</p>
</div></div>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_uf4db968770044c8fb787b3aec9b12523"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_l98bab95b4e384d42bf6c804a60b8fe23">重建表索引或索引分区。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_s61ed0f1189f34ce9bc171a03065bbcad">ALTER INDEX index_name 
    REBUILD [ PARTITION index_partition_name ];</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_u346ff031255440beb4568cf7c10a43ba"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_l796466c3006643ce8f49569e36aaa9b9">重命名索引分区。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_s37795e4a545d40afa82146ad26a62c5d">ALTER INDEX [ IF EXISTS ] index_name 
    RENAME PARTITION index_partition_name TO new_index_partition_name;</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_ub37164c1ec4746a7b5b9515718e60b5f"><li id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_ld3bc36a3eb44494d800c56b16b047d13">修改索引分区的所属表空间。<pre class="screen" id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_se2312aaebc234bc2bfedb4f477a5ac79">ALTER INDEX [ IF EXISTS ] index_name 
    MOVE PARTITION index_partition_name TABLESPACE new_tablespace;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_acb5c30cbe26f44c09860cbd80e45a928">index_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a621bb41934444f14bae4c2e07606b092">要修改的索引名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_adf30500f86b645b0a011e49fa427eba4">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_ae081b2ac20c14d8283763fe9d479b090">新的索引名。</p>
<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_aebea76eb7d804040998d0866e9e74e71">取值范围：字符串，且符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a3e273ba69b1b4825a742ed4144f1597c">tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_ad2a275c79a7c4c0b84804adec2d91049">表空间的名称。</p>
<p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a31280bc298b543f3806bff34378cc1ab">取值范围：已存在的表空间。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a24754b5aea4b4ceab08c6c66996f5b04">storage_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a641082462ed44612baa3832adb3e2825">索引方法特定的参数名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a14fccab2f65042adbe9ee56422fd67d3">value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a544bdf9879db47279332e3f9d0e29e71">索引方法特定的存储参数的新值。根据参数的不同，这可能是一个数字或单词。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_ae201304549eb4f19b2b1fc55806e4d04">new_index_partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a0b98608dfd104a8a88ace165f67bd85d">新索引分区名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a0bde03529bdc462a89375040e744b739">index_partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_aead9917922a04e5098b9b4fb96e89c4e">索引分区名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a4e9629b60476462fbf9b75aea55fa0a5">new_tablespace</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370527__zh-cn_topic_0237122063_zh-cn_topic_0059778960_a43ddff6940fe4a3cacd747b6160f4736">新表空间。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER LARGE OBJECT" alias="ALTER LARGE OBJECT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_aa16c9dd9f29746758cf38fc898d0b855">ALTER LARGE OBJECT用于更改一个large object的定义。它的唯一的功能是分配一个新的所有者。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_zh-cn_topic_0058966307_p237786069197">使用ALTER LARGE OBJECT必须是系统管理员或者是其所有者。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_s0065d9ebd7584b9598fcda943542d9a5">ALTER LARGE OBJECT large_object_oid 
    OWNER TO new_owner;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_ab383a16e460540899b1a6b0fc322ae52">large_object_oid</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_ab474eef498ef48e2b9f2c0918421eb21">要被变large object的OID 。</p>
<p id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_ad0974253ce364b3084c7f48bc542f7f4">取值范围：已存在的大对象名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_a637bcbb9549342cf9fd45d6c3d67b2a0">OWNER TO new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_abc98dd0b11bb4f539fef6919f5219aac">large object新的所有者。</p>
<p id="ZH-CN_TOPIC_0242370528__zh-cn_topic_0237122064_zh-cn_topic_0059778505_a97b1e6a85c7b419ca9951e42b0c7cf12">取值范围：已存在的用户名/角色名。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER ROLE" alias="ALTER ROLE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_zh-cn_topic_0058966285_p278943619369">修改角色属性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改角色manager的密码为abcd@123。
postgres=# ALTER ROLE manager IDENTIFIED BY ' abcd@123 ' REPLACE ' Bigdata@123 ' ; 

--修改角色manager为系统管理员。
postgres=# ALTER ROLE manager SYSADMIN ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_u6357de6599d646609c0aecca821dabe4"><li id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_lbaf33910f88f4ee5afbb7adc5fded063">修改角色的权限。<pre class="screen" id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_sa2c0f01619434adab2b757d2eba12550">ALTER ROLE role_name [ [ WITH ] option [ ... ] ];</pre>
<p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_zh-cn_topic_0058966285_p47913869369">其中权限项子句option为。</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_s7f3df916361943b6b8617d6ace72bf58">{CREATEDB | NOCREATEDB}
    | {CREATEROLE | NOCREATEROLE}
    | {INHERIT | NOINHERIT}
    | {AUDITADMIN | NOAUDITADMIN}
    | {SYSADMIN | NOSYSADMIN}
    | {MONADMIN | NOMONADMIN}
    | {OPRADMIN | NOOPRADMIN}
    | {POLADMIN | NOPOLADMIN}
    | {USEFT | NOUSEFT}
    | {LOGIN | NOLOGIN}
    | {REPLICATION | NOREPLICATION}
    | {INDEPENDENT | NOINDEPENDENT}
    | {VCADMIN | NOVCADMIN}
    | CONNECTION LIMIT connlimit
    | [ ENCRYPTED | UNENCRYPTED ] PASSWORD 'password'
    | [ ENCRYPTED | UNENCRYPTED ] IDENTIFIED BY 'password' [ REPLACE 'old_password' ]
    | [ ENCRYPTED | UNENCRYPTED ] PASSWORD { 'password' | DISABLE }
    | [ ENCRYPTED | UNENCRYPTED ] IDENTIFIED BY { 'password' [ REPLACE 'old_password' ] | DISABLE }
    | VALID BEGIN 'timestamp'
    | VALID UNTIL 'timestamp'
    | RESOURCE POOL 'respool'
    | PERM SPACE 'spacelimit'
    | ACCOUNT { LOCK | UNLOCK }
    | PGUSER</pre>
</li><li id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_l67117feb62124426bd1ba539483ae70f">修改角色的名称。<pre class="screen" id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_sd2f53e176e2743b281ec376517cfbf01">ALTER ROLE role_name 
    RENAME TO new_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_l79a895cd7bee468182952114a0a57211">设置角色的配置参数。<pre class="screen" id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_s1ecfed4ab9844c2bb11704c31c214512">ALTER ROLE role_name [ IN DATABASE database_name ]
    SET configuration_parameter {{ TO | = } { value | DEFAULT } | FROM CURRENT};</pre>
</li><li id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_zh-cn_topic_0058966285_li4818799369">重置角色的配置参数。<pre class="screen" id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_s623d3129ab644d97aaba9cda0002dbcd">ALTER ROLE role_name
    [ IN DATABASE database_name ] RESET {configuration_parameter|ALL};</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_ad331fb2c54c545c5b473bd898ee9b88e">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_a89921cf8f15b4ef18d186c4bfd3d116c">现有角色名。</p>
<p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_aa68f8fb351964a03ae2dd43f06a128f6">取值范围：已存在的用户名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_ae4de98ee49d14faba046f3a1959bf356">IN DATABASE database_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_ad52f0e5a0fa54aafa7dd906e90d44783">表示修改角色在指定数据库上的参数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_aec5bb00c4c7444b0a936542653661c78">SET configuration_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_a17c65d4611ef4ee3ba1f0bc52aef43c2">设置角色的参数。ALTER ROLE中修改的会话参数只针对指定的角色，且在下一次该角色启动的会话中有效。</p>
<p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_a901828fe2da04665b896342b6b6e67e9">取值范围：</p>
<p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_a8fada3677b5844b3b7407e1fb11019e4">configuration_parameter和value的取值请参见<a>SET</a>。</p>
<p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_a8f76dabebc8740a58840d3a9b541d009">DEFAULT：表示清除configuration_parameter参数的值，configuration_parameter参数的值将继承本角色新产生的SESSION的默认值。</p>
<p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_ab96b9dba9cf54febb085e59a70942f6f">FROM CURRENT：取当前会话中的值设置为configuration_parameter参数的值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_a7a0bddd9ea554a9ea0d2601c5ca9445c">RESET configuration_parameter/ALL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_a3170889365d24894a9cea3ec749d8282">清除configuration_parameter参数的值。与SET configuration_parameter TO DEFAULT的效果相同。</p>
<p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_ac7e1f022de184fc6800a66fc49903029">取值范围：ALL表示清除所有参数的值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_af22077b72d2e44a2bc35fc7255b52896">ACCOUNT LOCK | ACCOUNT UNLOCK</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_u4da10022e82c41dfa848abd0d2046f9c"><li id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_l58e8d71a198a403ca8e0257e68a294eb">ACCOUNT LOCK：锁定帐户，禁止登录数据库。</li><li id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_l1fca52a6657b46faa123f59dbeb7807d">ACCOUNT UNLOCK：解锁帐户，允许登录数据库。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_b3970141517311">PGUSER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370532__zh-cn_topic_0237122068_zh-cn_topic_0059778744_p12970121511315">当前版本不允许修改角色的PGUSER属性</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER ROW LEVEL SECURITY POLICY" alias="ALTER ROW LEVEL SECURITY POLICY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_p9688122114409">对已存在的行访问控制策略（包括行访问控制策略的名称，行访问控制指定的用户，行访问控制的策略表达式）进行修改。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_p4506162315333">表的所有者或管理员用户才能进行此操作。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改行访问控制all_data_rls的名称
postgres=# ALTER ROW LEVEL SECURITY POLICY all_data_rls ON all_data RENAME TO all_data_new_rls ; 

--修改行访问控制策略影响的用户
postgres=# ALTER ROW LEVEL SECURITY POLICY all_data_new_rls ON all_data TO alice , bob ; 
postgres=# \d+ all_data
Table "public.all_data"
Column | Type | Modifiers | Storage | Stats target | Description
--------+------------------------+-----------+----------+--------------+-------------
id | integer | | plain | |
role | character varying ( 100 ) | | extended | |
data | character varying ( 100 ) | | extended | |
Row Level Security Policies:
POLICY "all_data_new_rls"
TO alice , bob
USING ( ( ( role ) ::name = "current_user" ( ) ) ) 
Has OIDs: no
Location Nodes: ALL DATANODES
Options: orientation=row , compression=no , enable_rowsecurity=true

--修改行访问控制策略表达式
postgres=# ALTER ROW LEVEL SECURITY POLICY all_data_new_rls ON all_data USING ( id &gt; 100 AND role = current_user ) ; 
postgres=# \d+ all_data
Table "public.all_data"
Column | Type | Modifiers | Storage | Stats target | Description
--------+------------------------+-----------+----------+--------------+-------------
id | integer | | plain | |
role | character varying ( 100 ) | | extended | |
data | character varying ( 100 ) | | extended | |
Row Level Security Policies:
POLICY "all_data_new_rls"
TO alice , bob
USING ( ( ( id &gt; 100 ) AND ( ( role ) ::name = "current_user" ( ) ) ) ) 
Has OIDs: no
Location Nodes: ALL DATANODES
Options: orientation=row , compression=no , enable_rowsecurity=true
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_zh-cn_topic_0059778640_sd280eae8999640289a894f0805c065e5">ALTER [ ROW LEVEL SECURITY ] POLICY [ IF EXISTS ] policy_name ON table_name RENAME TO new_policy_name;

ALTER [ ROW LEVEL SECURITY ] POLICY policy_name ON table_name
    [ TO { role_name | PUBLIC } [, ...] ]
    [ USING ( using_expression ) ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">policy_name&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_zh-cn_topic_0059778640_a9c8e900e45924054b2bab79c34aed057">行访问控制策略名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">table_name&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_zh-cn_topic_0059778640_zh-cn_topic_0058965747_p531928510524">行访问控制策略的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">new_policy_name&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_p52581226154415">新的行访问控制策略名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">role_name&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_p1214035154417">行访问控制策略应用的数据库用户，可以指定多个用户，PUBLIC表示应用到所有用户。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">using_expression&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370533__zh-cn_topic_0237122069_p194321011172315">行访问控制的表达式，返回值为boolean类型。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER SCHEMA" alias="ALTER SCHEMA">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a310177b632f14a9f8452d3dee5731b34">修改模式属性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_p26534795155132">只有模式的所有者有权限执行ALTER SCHEMA命令，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--将当前模式ds更名为ds_new。
postgres=# ALTER SCHEMA ds RENAME TO ds_new ; 

--将DS_NEW的所有者修改为jack。
postgres=# ALTER SCHEMA ds_new OWNER TO jack ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_uff16e539d014449f93c2e770af97d5d6"><li id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_ld07a4a3ed8164048983e52f813c06719">修改模式的名称。<pre class="screen" id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_s4f8de53a6885427d916b0bd959b26f06">ALTER SCHEMA schema_name 
    RENAME TO new_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_lb5f86ead376f43bb8b59b5e93c1bee39">修改模式的所有者。<pre class="screen" id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_s689ed0e2c5404d3697eeb34dfe583f95">ALTER SCHEMA schema_name 
    OWNER TO new_owner;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a0c19b94575844bd59f44e5d47a0ae63b">schema_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a73117c1c378d4913b2e353f6ad5317bd">现有模式的名称。</p>
<p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a9ce16621c11d412fafbae98444a3e923">取值范围：已存在的模式名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a92b93ec91479410c8b746850aa1356bc">RENAME TO new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a2292b31260a044d78ba62d77b030214a">修改模式的名称。</p>
<p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a83ce11f20379418aa51d20c7e87775fd">new_name：模式的新名称。</p>
<p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_ac6ca01da96734607aab3b7d15bf3b9c1">取值范围：字符串，要符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a56554f2dcc0749c097806027988f3bd7">OWNER TO new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_a26c3e5099219423bbe2122de594a7dcc">修改模式的所有者。非系统管理员要改变模式的所有者，该用户还必须是新的所有角色的直接或间接成员， 并且该成员必须在此数据库上有CREATE权限。</p>
<p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_aee19a538647946b08306dc3af12119d3">new_owner：模式的新所有者。</p>
<p id="ZH-CN_TOPIC_0242370534__zh-cn_topic_0237122070_zh-cn_topic_0059779037_acbdf160f85054c31983c020bc17febb6">取值范围：已存在的用户名/角色名。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER SEQUENCE" alias="ALTER SEQUENCE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_a310177b632f14a9f8452d3dee5731b34">修改一个现有的序列的参数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_ul18451101592317"><li id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_li114511915102313">使用ALTER SEQUENCE的用户必须是该序列的所有者。</li><li id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_li445118158235">当前版本仅支持修改拥有者、归属列和最大值。若要修改其他参数，可以删除重建，并用Setval函数恢复当前值。</li><li id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_li1524614354533">ALTER SEQUENCE MAXVALUE不支持在事务、函数和存储过程中使用。</li><li id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_li19211124544">修改序列的最大值后，会清空该序列在所有会话的cache。</li><li id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_li1053011326542">ALTER SEQUENCE会阻塞nextval、setval、currval和lastval的调用、</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--将序列serial的归属列变为T1.C1。
postgres=# ALTER SEQUENCE serial OWNED BY T1.C1 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p7288701154649">修改序列归属列</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_screen1981080415477">ALTER SEQUENCE [ IF EXISTS ] name 
    [MAXVALUE maxvalue | NO MAXVALUE | NOMAXVALUE]
    [ OWNED BY { table_name.column_name | NONE } ] ;</pre>
<p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p36596365154649">修改序列的拥有者</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_screen61825853154719">ALTER SEQUENCE [ IF EXISTS ] name OWNER TO new_owner;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">name&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p54692824154815">将要修改的序列名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">IF EXISTS&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p43643246154818">当序列不存在时使用该选项不会出现错误消息，仅有一个通知。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">OWNED BY&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p3012484715492">将序列和一个表的指定字段进行关联。这样，在删除那个字段或其所在表的时候会自动删除已关联的序列。</p>
<p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p6207407115492">如果序列已经和表有关联后，使用这个选项后新的关联关系会覆盖旧的关联。</p>
<p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p4137947815492">关联的表和序列的所有者必须是同一个用户，并且在同一个模式中。</p>
<p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p59463412154859">使用OWNED BY NONE将删除任何已经存在的关联。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">new_owner&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370535__zh-cn_topic_0237122071_zh-cn_topic_0062358310_p47350753154855">序列新所有者的用户名。用户要修改序列的所有者，必须是新角色的直接或者间接成员，并且那个角色必须有序列所在模式上的CREATE权限。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER SESSION" alias="ALTER SESSION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_a083b259a6b6a4c03b1d1dab05a22ccb4">ALTER SESSION命令用于定义或修改那些对当前会话有影响的条件或参数。修改后的会话参数会一直保持，直到断开当前会话。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_u29f47c1331a04628bb873166287963ec"><li id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_lc606b9ab30984f31baaaad52cdfe76ae">如果执行SET TRANSACTION之前没有执行START TRANSACTION，则事务立即结束，命令无法显示效果。</li><li id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_l61f4d67f371e456cb9eb539bcc23f657">可以用START TRANSACTION里面声明所需要的transaction_mode(s)的方法来避免使用SET TRANSACTION。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--设置当前会话的字符编码为UTF8。
postgres=# ALTER SESSION SET NAMES ' UTF8 ' ; 

--设置当前模式。
postgres=# ALTER SESSION SET CURRENT_SCHEMA TO tpcds ; 

--设置XML OPTION为DOCUMENT。
postgres=# ALTER SESSION SET XML OPTION DOCUMENT ; 

--创建角色joe，并设置会话的角色为joe。
postgres=# CREATE ROLE joe WITH PASSWORD ' Bigdata@123 ' ; 
postgres=# ALTER SESSION SET SESSION AUTHORIZATION joe PASSWORD ' Bigdata@123 ' ; 

--切换到默认用户。
postgres=&gt; ALTER SESSION SET SESSION AUTHORIZATION default;
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_ub78ea4a55cef47e3a7fde211b489b507"><li id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_l71d8a036db8445508e8d5891b41c744f">设置会话的事务参数。<pre class="screen" id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_s84fbf17c00ff4d1da196f817633f13aa">ALTER SESSION SET [ SESSION CHARACTERISTICS AS ] TRANSACTION
    { ISOLATION LEVEL { READ COMMITTED } | { READ ONLY  | READ WRITE } } [, ...] ;</pre>
</li><li id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_labadacd9bd6144809f41f1b4caa0f1ff">设置会话的其他运行时参数。<pre class="screen" id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_s66e37d104eca46dfb5592553b92fabad">ALTER SESSION SET 
    {{config_parameter { { TO  | =  }  { value | DEFAULT }
      | FROM CURRENT }} 
      | TIME ZONE time_zone
      | CURRENT_SCHEMA schema
      | NAMES encoding_name
      | ROLE role_name PASSWORD 'password'
      | SESSION AUTHORIZATION { role_name PASSWORD 'password' | DEFAULT }
      | XML OPTION { DOCUMENT | CONTENT }
    } ;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370537__zh-cn_topic_0237122073_zh-cn_topic_0059778275_a18f51b478ec549b899ca8bd0f7e5d3ce">修改会话涉及到的参数说明请参见SET语法中的<a>参数说明</a>。</p>
</div>]]></suggestion>
  </command>
  <command id="ALTER SYNONYM" alias="ALTER SYNONYM">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0251888992__zh-cn_topic_0237122074_zh-cn_topic_0059778392_ada17a7e219a1411bb29a60a26fdb508c">修改SYNONYM对象的属性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0251888992__zh-cn_topic_0237122074_ul1841741521412"><li id="ZH-CN_TOPIC_0251888992__zh-cn_topic_0237122074_li1876417541166">目前仅支持修改SYNONYM对象的属主。</li><li id="ZH-CN_TOPIC_0251888992__zh-cn_topic_0237122074_li16417191515146">只有系统管理员有权限修改SYNONYM对象的属主信息。</li><li id="ZH-CN_TOPIC_0251888992__zh-cn_topic_0237122074_li3667818111416">新属主必须具有SYNONYM对象所在模式的CREATE权限。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改同义词t1的owner为u1。
postgres=# ALTER SYNONYM t1 OWNER TO u1 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0251888992__zh-cn_topic_0237122074_zh-cn_topic_0059778392_screen2698157143714">ALTER SYNONYM synonym_name
    OWNER TO new_owner;</pre>
</div>]]></suggestion>
  </command>
  <command id="ALTER SYSTEM KILL SESSION" alias="ALTER SYSTEM KILL SESSION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370539__zh-cn_topic_0237122075_zh-cn_topic_0059778605_a0bed1f38375a4cc286f2e97e54e60ae5">ALTER SYSTEM KILL SESSION命令用于结束一个会话。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--结束SID为140131075880720的会话。
postgres=# ALTER SYSTEM KILL SESSION ' 140131075880720 , 0 ' IMMEDIATE ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370539__zh-cn_topic_0237122075_zh-cn_topic_0059778605_s28ecb3bd6f8441c8b2c086de2860974e">ALTER SYSTEM KILL SESSION 'session_sid, serial' [ IMMEDIATE ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370539__zh-cn_topic_0237122075_zh-cn_topic_0059778605_a2fcfcd9c698e408bb6917a5d5acae25b">session_sid, serial</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370539__zh-cn_topic_0237122075_zh-cn_topic_0059778605_a5c4e08d994e94eec8b8715943548cb2a">会话的SID和SERIAL（获取方法请参考示例）。</p>
<p id="ZH-CN_TOPIC_0242370539__zh-cn_topic_0237122075_zh-cn_topic_0059778605_a97197eaafacb4ee382ee9e609f7d26bf">
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370539__zh-cn_topic_0237122075_zh-cn_topic_0059778605_a7425a3ec6d1e48569ee9da20b864b65d">IMMEDIATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370539__zh-cn_topic_0237122075_zh-cn_topic_0059778605_a0bc1363bc84d4becb8f1a1ff9f2bd30a">表明会话将在命令执行后立即结束。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER TABLE" alias="ALTER TABLE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p17187172419520">修改表，包括修改表的定义、重命名表、重命名表中指定的列、重命名表的约束、设置表的所属模式、添加/更新多个列<span id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_ph1867219495171">、打开/关闭行访问控制开关</span>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_u534a0a21c1e747dc9fb36df0758e2c74"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l55bb4c7e7cc64465b6300ec9e77a860c">只有表的所有者有权限执行ALTER TABLE命令，系统管理员默认拥有此权限。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l33576edeb8014d84a0bc75b0343c1c51">不能修改分区表的tablespace，但可以修改分区的tablespace。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l582d7ae2ca35425a981696058e513b52">不支持修改存储参数ORIENTATION。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_lc5e9933a958243adbc409aaa82ea2022">SET SCHEMA操作不支持修改为系统内部模式，当前仅支持用户模式之间的修改。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l0b4111663aa84671af4cb2c5dfe4f8ff">列存表只支持PARTIAL CLUSTER KEY表级约束，不支持主外键等表级约束。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_lc8be2eff0eb644ea81b6b58bbbd666c3">列存表只支持添加字段ADD COLUMN、修改字段的数据类型ALTER TYPE、设置单个字段的收集目标SET STATISTICS、支持更改表名称、支持更改表空间，支持删除字段DROP COLUMN。对于添加的字段和修改的字段类型要求是列存支持的<a>数据类型</a>。ALTER TYPE的USING选项只支持常量表达式和涉及本字段的表达式，暂不支持涉及其他字段的表达式。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_lfbbd897a0c1a46a198d89bb7b41d8e62">列存表支持的字段约束包括NULL、NOT NULL和DEFAULT常量值；对字段约束的修改当前只支持对DEFAULT值的修改（SET DEFAULT）和删除（DROP DEFAULT），暂不支持对非空约束NULL/NOT NULL的修改。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--向tpcds.warehouse_t19表中增加一个varchar列。
postgres=# ALTER TABLE tpcds.warehouse_t19 ADD W_GOODS_CATEGORY varchar ( 30 ) ; 

--给tpcds.warehouse_t19表增加一个检查约束。
postgres=# ALTER TABLE tpcds.warehouse_t19 ADD CONSTRAINT W_CONSTR_KEY4 CHECK ( W_STATE IS NOT NULL ) ; 

--在一个操作中改变两个现存字段的类型。
postgres=# ALTER TABLE tpcds.warehouse_t19
ALTER COLUMN W_GOODS_CATEGORY TYPE varchar ( 80 ) , 
ALTER COLUMN W_STREET_NAME TYPE varchar ( 100 ) ; 

--此语句与上面语句等效。
postgres=# ALTER TABLE tpcds.warehouse_t19 MODIFY ( W_GOODS_CATEGORY varchar ( 30 ) , W_STREET_NAME varchar ( 60 ) ) ; 

--给一个已存在字段添加非空约束。
postgres=# ALTER TABLE tpcds.warehouse_t19 ALTER COLUMN W_GOODS_CATEGORY SET NOT NULL ; 

--移除已存在字段的非空约束。
postgres=# ALTER TABLE tpcds.warehouse_t19 ALTER COLUMN W_GOODS_CATEGORY DROP NOT NULL ; 

--如果列存表中还未指定局部聚簇，向在一个列存表中添加局部聚簇列。
postgres=# ALTER TABLE tpcds.warehouse_t17 ADD PARTIAL CLUSTER KEY ( W_WAREHOUSE_SK ) ; 

--查看约束的名称，并删除一个列存表中的局部聚簇列。
postgres=# \d+ tpcds.warehouse_t17
Table "tpcds.warehouse_t17"
Column | Type | Modifiers | Storage | Stats target | Description
-------------------+-----------------------+-----------+----------+--------------+-------------
w_warehouse_sk | integer | not null | plain | |
w_warehouse_id | character ( 16 ) | not null | extended | |
w_warehouse_name | character varying ( 20 ) | | extended | |
w_warehouse_sq_ft | integer | | plain | |
w_street_number | character ( 10 ) | | extended | |
w_street_name | character varying ( 60 ) | | extended | |
w_street_type | character ( 15 ) | | extended | |
w_suite_number | character ( 10 ) | | extended | |
w_city | character varying ( 60 ) | | extended | |
w_county | character varying ( 30 ) | | extended | |
w_state | character ( 2 ) | | extended | |
w_zip | character ( 10 ) | | extended | |
w_country | character varying ( 20 ) | | extended | |
w_gmt_offset | numeric ( 5 , 2 ) | | main | |
Partial Cluster :
"warehouse_t17_cluster" PARTIAL CLUSTER KEY ( w_warehouse_sk ) 
Has OIDs: no
Location Nodes: ALL DATANODES
Options: compression=no , version=0.12
postgres=# ALTER TABLE tpcds.warehouse_t17 DROP CONSTRAINT warehouse_t17_cluster ; 

--将表移动到另一个表空间。
postgres=# ALTER TABLE tpcds.warehouse_t19 SET TABLESPACE PG_DEFAULT ; 

--将表移动到另一个模式中。
postgres=# ALTER TABLE tpcds.warehouse_t19 SET SCHEMA joe ; 

--重命名已存在的表。
postgres=# ALTER TABLE joe.warehouse_t19 RENAME TO warehouse_t23 ; 

--从warehouse_t23表中删除一个字段。
postgres=# ALTER TABLE joe.warehouse_t23 DROP COLUMN W_STREET_NAME ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_u849c63ad590e491aac3c42de4e798271"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l0adcd6d016354529ba3e73a52bcc7ca6">修改表的定义。<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_s7ee14a1a27c44463a12ae51227627796">ALTER TABLE [ IF EXISTS ] { table_name [*] | ONLY table_name | ONLY ( table_name ) }
    action [, ... ];</pre>
<div class="p" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_p1028011583322">其中具体表操作action可以是以下子句之一：<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_s54ee1de35ecc4692ae51b076af8d6c2f">column_clause
    | ADD table_constraint [ NOT VALID ]
    | ADD table_constraint_using_index
    | VALIDATE CONSTRAINT constraint_name
    | DROP CONSTRAINT [ IF EXISTS ]  constraint_name [ RESTRICT | CASCADE ]
    | CLUSTER ON index_name
    | SET WITHOUT CLUSTER
    | SET ( {storage_parameter = value} [, ... ] )
    | RESET ( storage_parameter [, ... ] )
    | OWNER TO new_owner
    | SET TABLESPACE new_tablespace
    | SET {COMPRESS|NOCOMPRESS}
    | TO { GROUP groupname | NODE ( nodename [, ... ] ) }
    | ADD NODE ( nodename [, ... ] )
    | DELETE NODE ( nodename [, ... ] )
    | DISABLE TRIGGER [ trigger_name | ALL | USER ]
    | ENABLE TRIGGER [ trigger_name | ALL | USER ]
    | ENABLE REPLICA TRIGGER trigger_name
    | ENABLE ALWAYS TRIGGER trigger_name
    | DISABLE ROW LEVEL SECURITY
    | ENABLE ROW LEVEL SECURITY
    | FORCE ROW LEVEL SECURITY
    | NO FORCE ROW LEVEL SECURITY</pre>
<div class="note" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_note72241047509"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_ul1262412162508"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l835b4c0e20d14725ba533b867b7e24b5"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_aa5f71a4712534b89b9dfbffb79b9ef18">ADD table_constraint [ NOT VALID ]</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_p168965915527">给表增加一个新的约束。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ld4042e8e6e614e408a5e4d9b3e4e50aa"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a8d7cf5c61d0c4fd8b6b2e171319f2ce7">ADD table_constraint_using_index</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a566fe434566e4cb99b1cf83f63032a68">根据已有唯一索引为表增加主键约束或唯一约束。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l3f194fa8598847d0adee89a419a0e0a2"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a0fa6d97fb7d3463b8772fcdb4b1c58c6">VALIDATE CONSTRAINT constraint_name</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a1768b86f5aca4192ba89f45e1be7cdb6">验证一个使用NOT VALID选项创建的检查类约束，通过扫描全表来保证所有记录都符合约束条件。如果约束已标记为有效时，什么操作也不会发生。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l057268847a4f4a4b9de10ed99296377a"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a012fdfa04a8f4d0c86560103b8b4a020">DROP CONSTRAINT [ IF EXISTS ]  constraint_name [ RESTRICT | CASCADE ]</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_p172696311568">删除一个表上的约束。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l625e2d82113042bc92038e56031e7aa0"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a5350d8d50c8e42d2ab7501b293ea6f98">CLUSTER ON index_name</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a62907d5ed55f4a7b9c9f407408355573">为将来的CLUSTER（聚簇）操作选择默认索引。实际上并没有重新盘簇化处理该表。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l3ae25893a850491c971882fcfb7aed3f"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a18cc7fa3653a40c5913a210c89e55d5f">SET WITHOUT CLUSTER</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_p893699915626">从表中删除最新使用的CLUSTER索引。这样会影响将来那些没有声明索引的CLUSTER（聚簇）操作。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li56571130135116"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_adc9716cd0c07490abf0cb09ee8f14636">SET ( {storage_parameter = value} [, ... ] )</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p185710613613">修改表的一个或多个存储参数。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l87393c71480040b6a76777c4bbfcc302"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a8353161806c2438b8b90f624075bb8e7">RESET ( storage_parameter [, ... ] )</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_af8ad72c6d2c1481eaf4cff74d9a7c4ca">重置表的一个或多个存储参数。与SET一样，根据参数的不同可能需要重写表才能获得想要的效果。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l95f91b83a6fb4488a514e3c3ff7dd818"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a31a1c14e1ba04edda654bd8ec30cb450">OWNER TO new_owner</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a794c56917b504b38870b54f24d4fbd33">将表、序列、视图的属主改变成指定的用户。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_lebcb2751b65f4ea395fa6e3e33aa7306"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_af6b2a2cd6cfe45159178e2a6eec0ecf8">SET TABLESPACE new_tablespace</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_p556979461578">这种形式将表空间修改为指定的表空间并将相关的数据文件移动到新的表空间。但是表上的所有索引都不会被移动，索引可以通过ALTER INDEX语法的SET TABLESPACE选项来修改索引的表空间。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l9a4900b5b1324295a8dc9ff44657a7ac"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_b201295115212">SET {COMPRESS|NOCOMPRESS}</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_addd50385b54f4a089d51e901b0e17ec6">修改表的压缩特性。表压缩特性的改变只会影响后续批量插入的数据的存储方式，对已有数据的存储毫无影响。也就是说，表压缩特性的修改会导致该表中同时存在着已压缩和未压缩的数据。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_la3b715a2b7e844db9f8b22081dff84d2"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a2843551bf787421888ab4b01aaa033a9">TO { GROUP groupname | NODE ( nodename [, ... ] ) }</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a3a20880eb80840d5851d3adeb18f9230">此语法仅在扩展模式（GUC参数support_extended_features为on时）下可用。该模式谨慎打开，主要供内部扩容工具使用，一般用户不应使用该模式。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li56519590587"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b1965105945817">ADD NODE ( nodename [, ... ] )</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p3651115913587">此语法主要供内部扩容工具使用，一般用户不建议使用。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1657714219591"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b757772185916">DELETE NODE ( nodename [, ... ] )</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p7577228597">此语法主要供内部缩容工具使用，一般用户不建议使用。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li96011923154115"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b4856193213527">DISABLE TRIGGER [ trigger_name | ALL | USER ]</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1756911432476">禁用trigger_name所表示的单个触发器，或禁用所有触发器，或仅禁用用户触发器（此选项不包括内部生成的约束触发器，例如，可延迟唯一性和排除约束的约束触发器）。</p>
<div class="note" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_note952219464525"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p852274613524">应谨慎使用此功能，因为如果不执行触发器，则无法保证原先期望的约束的完整性。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li20336415185413"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b1792831616553">| ENABLE TRIGGER [ trigger_name | ALL | USER ]</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1055911685411">启用trigger_name所表示的单个触发器，或启用所有触发器，或仅启用用户触发器。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li4405143218417"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b10572162711555">| ENABLE REPLICA TRIGGER trigger_name</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1598142917322">触发器触发机制受配置变量<a>session_replication_role</a>的影响，当复制角色为“origin”（默认值）或“local”时，将触发简单启用的触发器。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p4569943164716">配置为ENABLE REPLICA的触发器仅在会话处于“replica”模式时触发。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li7530636164112"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b16269436205518">| ENABLE ALWAYS TRIGGER trigger_name</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1323484582310">无论当前复制模式如何，配置为ENABLE ALWAYS的触发器都将触发。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1024418116410"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b1244911642">| DISABLE/ENABLE ROW LEVEL SECURITY</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p57428381684">开启或关闭表的行访问控制开关。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p6244611943">当开启行访问控制开关时，如果未在该数据表定义相关行访问控制策略，数据表的行级访问将不受影响；如果关闭表的行访问控制开关，即使定义了行访问控制策略，数据表的行访问也不受影响。详细信息参见<a>CREATE ROW LEVEL SECURITY POLICY</a>章节。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1473416210320"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b0734526327">| </strong><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b18584175214519">NO FORCE/FORCE ROW LEVEL SECURITY</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p59117412819">强制开启或关闭表的行访问控制开关。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p3735826322">默认情况，表所有者不受行访问控制特性影响，但当强制开启表的行访问控制开关时，表的所有者（不包含系统管理员用户）会受影响。系统管理员可以绕过所有的行访问控制策略，不受影响。</p>
</li></ul>
</div></div>
</div>
<ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ub48b83839fb84ac98b613d8fb8bee81a"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l9e8a72e35ec64dada795f304d3be94de">其中列相关的操作column_clause可以是以下子句之一：<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_s742b2ab7a65e46dbb2bde3ed311a708f">ADD [ COLUMN ] column_name data_type [ compress_mode ] [ COLLATE collation ] [ column_constraint [ ... ] ]    
| MODIFY column_name data_type    
| MODIFY column_name [ CONSTRAINT constraint_name ] NOT NULL [ ENABLE ]
| MODIFY column_name [ CONSTRAINT constraint_name ] NULL
| DROP [ COLUMN ] [ IF EXISTS ] column_name [ RESTRICT | CASCADE ]    
| ALTER [ COLUMN ] column_name [ SET DATA ] TYPE data_type [ COLLATE collation ] [ USING expression ]    
| ALTER [ COLUMN ] column_name { SET DEFAULT expression | DROP DEFAULT }    
| ALTER [ COLUMN ] column_name { SET | DROP } NOT NULL    
| ALTER [ COLUMN ] column_name SET STATISTICS [PERCENT] integer    
| ADD STATISTICS (( column_1_name, column_2_name [, ...] ))    
| DELETE STATISTICS (( column_1_name, column_2_name [, ...] ))    
| ALTER [ COLUMN ] column_name SET ( {attribute_option = value} [, ... ] )    
| ALTER [ COLUMN ] column_name RESET ( attribute_option [, ... ] )    
| ALTER [ COLUMN ] column_name SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN }</pre>
<div class="p" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p144115326344"><div class="note" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_note1915883013419"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_ul1013725218345"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li17319125313343"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b19575316173418">ADD [ COLUMN ] column_name data_type [ compress_mode ] [ COLLATE collation ] [ column_constraint [ ... ] ]</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1576316153419">向表中增加一个新的字段。用ADD COLUMN增加一个字段，所有表中现有行都初始化为该字段的缺省值（如果没有声明DEFAULT子句，值为NULL）。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li205811116193410"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b165841416133418">ADD ( { column_name data_type [ compress_mode ] } [, ...] )</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1858631603412">向表中增加多列。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1024214213357"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b258919161342">MODIFY ( { column_name data_type | column_name [ CONSTRAINT constraint_name ] NOT NULL [ ENABLE ] | column_name [ CONSTRAINT constraint_name ] NULL } [, ...] )</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p162482021153511">修改表已存在字段的数据类型。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li353213421351"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b553464263516">DROP [ COLUMN ] [ IF EXISTS ] column_name [ RESTRICT | CASCADE ]</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p15535154293511">从表中删除一个字段，和这个字段相关的索引和表约束也会被自动删除。如果任何表之外的对象依赖于这个字段，必须声明CASCADE ，比如视图。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1253712429359">DROP COLUMN命令并不是物理上把字段删除，而只是简单地把它标记为对SQL操作不可见。随后对该表的插入和更新将在该字段存储一个NULL。因此，删除一个字段是很快的，但是它不会立即释放表在磁盘上的空间，因为被删除了的字段占据的空间还没有回收。这些空间将在执行VACUUM时而得到回收。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1538511245367"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b12389112483618">ALTER [ COLUMN ] column_name [ SET DATA ] TYPE data_type [ COLLATE collation ] [ USING expression ]</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p143921924193617">改变表字段的数据类型。该字段涉及的索引和简单的表约束将被自动地转换为使用新的字段类型，方法是重新分析最初提供的表达式。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p4397724173619">ALTER TYPE要求重写整个表的特性有时候是一个优点，因为重写的过程消除了表中没用的空间。比如，要想立刻回收被一个已经删除的字段占据的空间，最快的方法是</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_screen103991424113620">ALTER TABLE table ALTER COLUMN anycol TYPE anytype;</pre>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p11406202419368">这里的anycol是任何在表中还存在的字段，而anytype是和该字段的原类型一样的类型。这样的结果是在表上没有任何可见的语意的变化，但是这个命令强迫重写，这样就删除了不再使用的数据。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li125215194714"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b6255145119478">ALTER [ COLUMN ] column_name { SET DEFAULT expression | DROP DEFAULT }</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p5257951174712">为一个字段设置或者删除缺省值。请注意缺省值只应用于随后的INSERT命令，它们不会修改表中已经存在的行。也可以为视图创建缺省，这个时候它们是在视图的ON INSERT规则应用之前插入到INSERT句中的。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li16393616422"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b194213615424">ALTER [ COLUMN ] column_name { SET | DROP } NOT NULL</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1944106134217">修改一个字段是否允许NULL值或者拒绝NULL值。如果表在字段中包含非NULL，则只能使用SET NOT NULL。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1068251364212"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b14682131394216">ALTER [ COLUMN ] column_name SET STATISTICS [PERCENT] integer</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p10682181317425">为随后的ANALYZE操作设置针对每个字段的统计收集目标。目标的范围可以在0到10000之内设置。设置为-1时表示重新恢复到使用系统缺省的统计目标。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1493571614422"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b1793591619423">{ADD | DELETE} STATISTICS ((column_1_name, column_2_name [, ...]))</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p59351216124213">用于添加和删除多列统计信息声明（不实际进行多列统计信息收集），以便在后续进行全表或全库analyze时进行多列统计信息收集。每组多列统计信息最多支持32列。不支持添加/删除多列统计信息声明的表：系统表、外表。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li18868131914427"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b38682197428">ALTER [ COLUMN ] column_name SET ( {attribute_option = value} [, ... ] )</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p11868201984212"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b178681719194215">ALTER [ COLUMN ] column_name RESET ( attribute_option [, ... ] )</strong></p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p178681819134218">设置/重置属性选项。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p7868101919428">目前，属性选项只定义了n_distinct和n_distinct_inherited。n_distinct影响表本身的统计值，而n_distinct_inherited影响表及其继承子表的统计。目前，只支持SET/RESET n_distinct参数，禁止SET/RESET n_distinct_inherited参数。</p>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li27101623104210"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b107091223174217">ALTER [ COLUMN ] column_name SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN }</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p97102023154211">为一个字段设置存储模式。这个设置控制这个字段是内联保存还是保存在一个附属的表里，以及数据是否要压缩。仅支持对行存表的设置；对列存表没有意义，执行时报错。SET STORAGE本身并不改变表上的任何东西，只是设置将来的表操作时，建议使用的策略。</p>
</li></ul>
</div></div>
</div>
<ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ud25412407ea841829580d5cac9249076"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_la7b5f67aecbf406daa91c639ef89bd2b">其中列约束column_constraint为：<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_s634916f338c040679cd23b7ce31ae6cf">[ CONSTRAINT constraint_name ]
    { NOT NULL |
      NULL |
      CHECK ( expression ) |
      DEFAULT default_expr  |
      UNIQUE index_parameters |
      PRIMARY KEY index_parameters }
    [ DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE ]</pre>
</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l78dd0c878152447eb98dd55dee3fac4e">其中列的压缩可选项compress_mode为：<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_s38ed152d26e74c12aafe46147d17af96">[ DELTA | PREFIX | DICTIONARY | NUMSTR | NOCOMPRESS ]</pre>
</li></ul>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_u65f7cf0b530d45929ba0d1ed713fef3d"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l9beacda41a7f4fa2b4e91d6fed531d4d">其中根据已有唯一索引为表增加主键约束或唯一约束table_constraint_using_index为：<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_s84dc87f3ea8840209d456e7f6ddc22a5">[ CONSTRAINT constraint_name ]
    { UNIQUE | PRIMARY KEY } USING INDEX index_name
    [ DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE ]</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_u1a790679e7934ccab7c99fe9e4322bc2"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_lb1e29cf4f8c84d26bf239864128aff50">其中表约束table_constraint为：<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_sba74ef6c24714a48b51e3d1cfaa44ddc">[ CONSTRAINT constraint_name ]
    { CHECK ( expression ) |
      UNIQUE ( column_name [, ... ] ) index_parameters |
      PRIMARY KEY ( column_name [, ... ] ) index_parameters |
      PARTIAL CLUSTER KEY ( column_name [, ... ] }
    [ DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE ]</pre>
<div class="p" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_p189571428193520">其中索引参数index_parameters为：<pre class="screen" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_s264b0a814bc34b70a3ff2a2b8568771e">[ WITH ( {storage_parameter = value} [, ... ] ) ]
    [ USING INDEX TABLESPACE tablespace_name ]</pre>
</div>
</li></ul>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a7102e2cf462343dd85e9879624201566">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a683ef762e3f14cf8b8921b80a9bca443">如果不存在相同名称的表，不会抛出一个错误，而会发出一个通知，告知表不存在。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a03ad505ba3a146e6b644b7a5145ab4bd">table_name  [*] | ONLY table_name | ONLY ( table_name  )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a40d0eb8e0bed4f088a4a7078606cdbe6">table_name是需要修改的表名。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_aba3aafca94d443d3aa290386308739bc">若声明了ONLY选项，则只有那个表被更改。若未声明ONLY，该表及其所有子表都将会被更改。另外，可以在表名称后面显示地增加*选项来指定包括子表，即表示所有后代表都被扫描，这是默认行为。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a7814ccfe2c7e47faa59c820338f0c9c2">constraint_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ab7982a84760c4da9afb7f7acbad0a6f7">要删除的现有约束的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a939333c47cf744f98b089c3e0d8482bc">index_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_aee53cbd7d5c546799837e07cc010a67c">索引名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ab355f5a2cdc94bb5897fd1a4bb504c8b">storage_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ab72856433b234969ba9afc5e3db90533">表的存储参数的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_b659404691112">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a0a8beef4a4aa4ceeb5efb94e58963581">表新拥有者的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_adda317c89e1648f2877911abf4fa62d1">new_tablespace</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_p625816361117">表所属新的表空间名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a8edb55d3b00d4f07aafbbcd02b681502">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'>，<strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b1510855917433">column_1_name， column_2_name</strong><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a432048d461784a5cac18cec47f324bdf">现存的或新字段的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a5377ce07f896404b9ef1aedaa0c7c525">data_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a67a348c931db455eb145b153989b9336">新字段的类型，或者现存字段的新类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a9e2af8561a46442f8eeb49f402b9d9aa">compress_mode</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a91fd41da6d0745ce880e4d0d0cb6fde9">表字段的压缩可选项，当前仅对行存表有效。该子句指定该字段优先使用的压缩算法。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_afd589b497edf43f2877e55a12e1e6c7b">collation</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a49218252ecda462991a220f1db14cbba">字段排序规则名称。可选字段COLLATE指定了新字段的排序规则，如果省略，排序规则为新字段的默认类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b11975175583717">USING expression</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p149311312123815">USING子句声明如何从旧的字段值里计算新的字段值；如果省略，缺省从旧类型向新类型的赋值转换。如果从旧数据类型到新类型没有隐含或者赋值的转换，则必须提供一个USING子句。</p>
<div class="note" id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_note13845185263813"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p38451752183820">ALTER TYPE的USING选项实际上可以声明涉及该行旧值的任何表达式，即它可以引用除了正在被转换的字段之外其他的字段。这样，就可以用ALTER TYPE语法做非常普遍性的转换。因为这个灵活性，USING表达式并没有作用于该字段的缺省值（如果有的话），结果可能不是缺省表达式要求的常量表达式。这就意味着如果从旧类型到新类型没有隐含或者赋值转换的话，即使存在USING子句，ALTER TYPE也可能无法把缺省值转换成新的类型。在这种情况下，应该用DROP DEFAULT先删除缺省，执行ALTER TYPE，然后使用SET DEFAULT增加一个合适的新缺省值。类似的考虑也适用于涉及该字段的索引和约束。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a02b17436ced743ca8e56779da052b4ff">NOT NULL | NULL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a3658ba93454c403ab433af12a9fd039b">设置列是否允许空值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_abe9fe4b754524a66b56e89f110465413">integer</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a84ffa367d1fe4ba4879662b8f4e2473d">带符号的整数常值。当使用PERCENT时表示按照表数据的百分比收集统计信息，integer的取值范围为0-100。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ae87a0eef45454a53b92e0a42a186bfa3">attribute_option</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a2844d7afb0234a5695ec19dfbeca7d1a">属性选项。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b93206231174">PLAIN | EXTERNAL | EXTENDED | MAIN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_p1588010584718">字段存储模式。</p>
<ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_ul711394913816"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li955210451285">PLAIN必需用于定长的数值（比如integer）并且是内联的、不压缩的。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li174261251388">MAIN用于内联、可压缩的数据。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li236116539813">EXTERNAL用于外部保存、不压缩的数据。使用EXTERNAL将令在text和bytea字段上的子字符串操作更快，但付出的代价是增加了存储空间。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_li1332312553811">EXTENDED用于外部的压缩数据，EXTENDED是大多数支持非PLAIN存储的数据的缺省。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a1494dec51b714885b4e6238a5d2506e0">CHECK ( expression )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a051e783b17e548aa9e28295e9f13c23a">每次将要插入的新行或者将要被更新的行必须使表达式结果为真才能成功，否则会抛出一个异常并且不会修改数据库。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a1d8f7c7caef644d4a944a61a703fca9a">声明为字段约束的检查约束应该只引用该字段的数值，而在表约束里出现的表达式可以引用多个字段。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a4c181256c6c94378b907464fd2576355">目前，CHECK表达式不能包含子查询也不能引用除当前行字段之外的变量。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_af95531abd6cb4c9eb58a9f101cf7f858">DEFAULT default_expr</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_p928263015193">给字段指定缺省值。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a2baf43203f8d4f1b9e1436ced341fd83">缺省表达式的数据类型必须和字段类型匹配。</p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a89a5f8d759654a0591cd4753281da096">缺省表达式将被用于任何未声明该字段数值的插入操作。如果没有指定缺省值则缺省值为NULL 。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a29495eebe8174f26acb587b566f25dc4">UNIQUE index_parameters</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a68e11d6b764a44f9ae19d76ad809a923"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a542603a56c7442f3ba58e164b08deef2">UNIQUE ( column_name [, ... ] ) index_parameters</strong></p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ab968876e17984b638b5647f357f1f9de">UNIQUE约束表示表里的一个或多个字段的组合必须在全表范围内唯一。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a76c8e039e08f4bf38bec7cffdb7e7799">PRIMARY KEY index_parameters</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a4534023c92824413aaa07708bc6a9a2a"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a9eb971c67ffe486da6434246d1323480">PRIMARY KEY ( column_name [, ... ] ) index_parameters</strong></p>
<p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a4de9e926894142d6b237c7ee8f4f1006">主键约束表明表中的一个或者一些字段只能包含唯一（不重复）的非NULL值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_aa3b1b38b6c314a2bb9f7c9b28a31feae">DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a34719ecceaeb48ba86300311d3ef2f6d">设置该约束是否可推迟。</p>
<ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_u504ace83e158481d928d2b38921c4ebc"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l0cc5f60ab3ef4ddc9d590d0d5b737d1a">DEFERRABLE：可以推迟到事务结尾使用SET CONSTRAINTS命令检查。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_le30ab068f2214e2eb99977c9402603ed">NOT DEFERRABLE：在每条命令之后马上检查。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l42bd9205c50d4f268a488043814fbe75">INITIALLY IMMEDIATE：那么每条语句之后就立即检查它。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l7bdf9be9bfc443d7a8e564ec3723ea91">INITIALLY DEFERRED：只有在事务结尾才检查它。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_af486b5adf8a94bdeb23eac817fbf1a21">WITH ( {storage_parameter = value} [, ... ] )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a0aa4f0765a0b441cb54e0d9c7d4ac49d">为表或索引指定一个可选的存储参数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a0646dcbf777f4b69a9fb047e70fac288">tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a105e12d62ace4194ab38871383c18e00">索引所在表空间的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_b15956141105416">COMPRESS|NOCOMPRESS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_u60137cff3eb24b049b413b295f206f5e"><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_l9f72a32f87454444ba24ebc9d87b42dc">NOCOMPRESS：如果指定关键字NOCOMPRESS则不会修改表的现有压缩特性。</li><li id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_lbf704334cc0e4ae9a19af2de0e5a8625">COMPRESS：如果指定COMPRESS关键字，则对该表进行批量插入元组时触发该特性。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_zh-cn_topic_0058965831_b188270211209">new_table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ac45d376d051d40da958a5b72c1cfdd9d">修改后新的表名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a0d8d2639ba304a999fd8386b8eeff5a3">new_column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_ad51140f6022a429784a10b7d018e9a32">表中指定列修改后新的列名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a4ffd703ca2914255b04c84a67c36c2b1">new_constraint_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a3b66a6f017fe48ccbf437ce2faa87296">修改后表约束的新名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a5f0159d29e104e0cbe7acd215965323f">new_schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a4c6700f5d0804b1e94c7e5f1913827c0">修改后新的模式名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a14f1bf508b064b9e8d5f1b6d118b035a">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_aa902fed80ea74825890829e629eb65fa">级联删除依赖于被依赖字段或者约束的对象（比如引用该字段的视图）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_abc6a26b1b9b048b29b6297b9cbedaa90">RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a40c71f71d8774c38b5e6fd70fab54b79">如果字段或者约束还有任何依赖的对象，则拒绝删除该字段。这是缺省行为。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a94c60284083744349018b0d783ffee18">schema_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370540__zh-cn_topic_0237122076_zh-cn_topic_0059779051_a911f6d0b1ef74b05ab47a6ee0f47e834">表所在的模式名称。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER TABLE PARTITION" alias="ALTER TABLE PARTITION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a871f08f854cc4f1ab32a1871bce244ae">修改表分区，包括增删分区、切割分区、合成分区，以及修改分区属性等。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ue6f3a4c1f1c14d3ebbd88f92bee7be8e"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_le7fae91ae70b41ca926fe7f1ec8c79a9">添加分区的表空间不能是PG_GLOBAL。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l81b03899f0c141319a399d807af8fea6">添加分区的名称不能与该分区表已有分区的名称相同。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l077b46ae92bd480ab11fbf21e1038942">添加分区的分区键值要和分区表的分区键的类型一致，且要大于分区表中最后一个范围分区的上边界。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l99c01a04ddc74db09638cdaaeeb32b4c">如果目标分区表中已有分区数达到了最大值（32767），则不能继续添加分区。</li></ul>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u6b4b964b7cf54bb88ba8fd085fa9bdbe"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l9799cfc3b81243c3a8b8df2bab87034e">当分区表只有一个分区时，不能删除该分区。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l2a07cd3722f34d99969ac486f7c3f144">选择分区使用PARTITION FOR()，括号里指定值个数应该与定义分区时使用的列个数相同，并且一一对应。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_lbf6fe1f0ec5548c98d72a7b6575b4c48">Value分区表不支持相应的Alter Partition操作。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li1798504742317">列存分区表不支持切割分区。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除分区P8。
postgres=# ALTER TABLE tpcds.web_returns_p1 DROP PARTITION P8 ; 

--增加分区WR_RETURNED_DATE_SK介于2453005和2453105之间。
postgres=# ALTER TABLE tpcds.web_returns_p1 ADD PARTITION P8 VALUES LESS THAN ( 2453105 ) ; 

--增加分区WR_RETURNED_DATE_SK介于2453105和MAXVALUE之间。
postgres=# ALTER TABLE tpcds.web_returns_p1 ADD PARTITION P9 VALUES LESS THAN ( MAXVALUE ) ; 

--删除分区P8。
postgres=# ALTER TABLE tpcds.web_returns_p1 DROP PARTITION FOR ( 2453005 ) ; 

--分区P7重命名为P10。
postgres=# ALTER TABLE tpcds.web_returns_p1 RENAME PARTITION P7 TO P10 ; 

--分区P6重命名为P11。
postgres=# ALTER TABLE tpcds.web_returns_p1 RENAME PARTITION FOR ( 2452639 ) TO P11 ; 

--修改分区P1的表空间为example2。
postgres=# ALTER TABLE tpcds.web_returns_p2 MOVE PARTITION P1 TABLESPACE example2 ; 

--修改分区P2的表空间为example3。
postgres=# ALTER TABLE tpcds.web_returns_p2 MOVE PARTITION P2 TABLESPACE example3 ; 

--以2453010为分割点切分P8。
postgres=# ALTER TABLE tpcds.web_returns_p2 SPLIT PARTITION P8 AT ( 2453010 ) INTO
 ( 
PARTITION P9 , 
PARTITION P10
 ) ; 

--将P6，P7合并为一个分区。
postgres=# ALTER TABLE tpcds.web_returns_p2 MERGE PARTITIONS P6 , P7 INTO PARTITION P8 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u43c47aa1d33e4696b6bcbe140fd14d59"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_lb27744e60c2649368f199d7cb19161a5">修改表分区主语法。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_s6ca52da9ccf64d9ea2437e22895b3f37">ALTER TABLE [ IF EXISTS ] { table_name  [*] | ONLY table_name | ONLY ( table_name  )}
    action [, ... ];</pre>
<div class="p" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_p15262184813213">其中action统指如下分区维护子语法。当存在多个分区维护子句时，保证了分区的连续性，无论这些子句的排序如何，<span id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_text1648832444116"><span id="ZH-CN_TOPIC_0242370541__text10694195317199">openGauss</span></span>总会先执行DROP PARTITION再执行ADD PARTITION操作，最后顺序执行其它分区维护操作。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_s810bb76a5cb443f0a9baa15fca7d2e82">move_clause  |
    exchange_clause  |
    row_clause  |
    merge_clause  |
    modify_clause  |
    split_clause  |
    add_clause  |
    drop_clause</pre>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ul21778309345"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li7386205110527">move_clause子语法用于移动分区到新的表空间。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_screen10386195165217">MOVE PARTITION { partion_name | FOR ( partition_value [, ...] ) } TABLESPACE tablespacename</pre>
</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li29552301845">exchange_clause子语法用于把普通表的数据迁移到指定的分区。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_sf79aea85e602421c8765223edf035448">EXCHANGE PARTITION { ( partition_name ) | FOR ( partition_value [, ...] ) } 
    WITH TABLE {[ ONLY ] ordinary_table_name | ordinary_table_name * | ONLY ( ordinary_table_name )} 
    [ { WITH | WITHOUT } VALIDATION ] [ VERBOSE ]</pre>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a38012ae8c3674034869292433d7bca78">进行交换的普通表和分区必须满足如下条件：</p>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ueae852536e544cf48cda3c6fc83a8158"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l79ae3a2f40b1435397fcf5a41f69dc39">普通表和分区的列数目相同，对应列的信息严格一致，包括：列名、列的数据类型、列约束、列的Collation信息、列的存储参数、列的压缩信息等。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l384a05bb3f024e438d16ad45c9b93cc5">普通表和分区的表压缩信息严格一致。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l14e39f26238a44a3a34929f815dfaff1">普通表和分区的分布列信息严格一致。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l7e66cbf047f248f19f6b7f6748e9d7fb">普通表和分区的索引个数相同，且对应索引的信息严格一致。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l420ec58f43724687aacba758e6371020">普通表和分区的表约束个数相同，且对应表约束的信息严格一致。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l7238eef65aa84c8688de7130466894e2">普通表不可以是临时表。</li></ul>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_p15362318105420">完成交换后，普通表和分区的数据被置换，同时普通表和分区的表空间信息被置换。此时，普通表和分区的统计信息变得不可靠，需要对普通表和分区重新执行analyze。</p>
</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li8216173315418">row_clause子语法用于设置分区表的行迁移开关。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_screen1321617333412">{ ENABLE | DISABLE } ROW MOVEMENT</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u35994792428d4b009292f8eb49ce05a8"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_lc7bb6b1f74a24179b89dd677d621182b">merge_clause子语法用于把多个分区合并成一个分区。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_sb5d249a3ac634fb6a8e76ec183a46067">MERGE PARTITIONS { partition_name } [, ...] INTO PARTITION partition_name 
    [ TABLESPACE tablespacename ]</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ul1658274519349"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_li10582114510341">modify_clause子语法用于设置分区索引是否可用。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_screen1583345173414">MODIFY PARTITION partition_name { UNUSABLE LOCAL INDEXES | REBUILD UNUSABLE LOCAL INDEXES }</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ue0d621e7024a49bdb559e96ac39f7ee4"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_lac0857cc65794fd1ab0123e85bda811a">split_clause子语法用于把一个分区切割成多个分区。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_s6ba1c884a6584d7faeabed2f925442e7">SPLIT PARTITION { partition_name | FOR ( partition_value [, ...] ) } { split_point_clause | no_split_point_clause }</pre>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ueffac594a02b42e6968d8b69106d587e"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l07fe943108f94902b5bf6536bf5a19f9">指定切割点split_point_clause的语法为。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_screen11941165918810">AT ( partition_value ) INTO ( PARTITION partition_name [ TABLESPACE tablespacename ] , PARTITION partition_name [ TABLESPACE tablespacename ] )</pre>
<div class="notice" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_n5424076063df4e129ec3fa1252aebd31"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_ul6721112215513"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li19721132205513">列存分区表不支持切割分区。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li27211222155518">切割点的大小要位于正在被切割的分区的分区键范围内，指定切割点的方式只能把一个分区切割成两个新分区。</li></ul>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_le6cbd22808bc4b50b56dbd1f1b803934">不指定切割点no_split_point_clause的语法为。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_s020603f7e46c482287598e5bbe9f090c">INTO { ( partition_less_than_item [, ...] ) | ( partition_start_end_item [, ...] ) }</pre>
<div class="notice" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_na8e6fd3f718b436e869d3c96834ccd8e"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_ul1643215449297"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li14331444182913">不指定切割点的方式，partition_less_than_item指定的第一个新分区的分区键要大于正在被切割的分区的前一个分区（如果存在的话）的分区键，partition_less_than_item指定的最后一个分区的分区键要等于正在被切割的分区的分区键大小。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li1033113873014">不指定切割点的方式，partition_start_end_item指定的第一个新分区的起始点（如果存在的话）必须等于正在被切割的分区的前一个分区（如果存在的话）的分区键，partition_start_end_item指定的最后一个分区的终止点（如果存在的话）必须等于正在被切割的分区的分区键。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li432911121677">partition_less_than_item支持的分区键个数最多为4，而partition_start_end_item仅支持1个分区键，其支持的数据类型参见<a>PARTITION BY RANGE(parti...</a>。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li189383465">在同一语句中partition_less_than_item和partition_start_end_item两者不可同时使用；不同split语句之间没有限制。</li></ul>
</div></div>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u7ee8627891ea401b9772deb027bdb61a"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_li1845984953910">分区项partition_less_than_item的语法为。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_screen67041112194013">PARTITION partition_name VALUES LESS THAN ( { partition_value | MAXVALUE }  [, ...] ) 
    [ TABLESPACE tablespacename ]</pre>
</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l19179ba0f48d43b7aebab97a4ea8ba20">分区项partition_start_end_item的语法为，其约束参见<a>START END语法描述</a>。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_sfddb4ad405bf464fb276f8861a869cdf">PARTITION partition_name {
        {START(partition_value) END (partition_value) EVERY (interval_value)} |
        {START(partition_value) END ({partition_value | MAXVALUE})} |
        {START(partition_value)} |
        {END({partition_value | MAXVALUE})}
} [TABLESPACE tablespace_name]
</pre>
</li></ul>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u539cf434dbdb4dc6a629fd8b66a341c1"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l88532efca38c446aab776bb8a32d494c">add_clause子语法用于为指定的分区表添加一个或多个分区。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_sb636b347bdf7420bb7259b4b2de0a45d">ADD {partition_less_than_item | partition_start_end_item}</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u90e66379ef60431f8a0776e9ddbf6cf5"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_le4b248b0f7454e629ef1def34d21a663">drop_clause子语法用于删除分区表中的指定分区。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_s24ec1bf201074e6383788568dd781a36">DROP PARTITION  { partition_name | FOR (  partition_value [, ...] )  } </pre>
</li></ul>
</div>
</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_le22a7271815a4ed5934b929acb838aa1">修改表分区名称的语法。<pre class="screen" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_sffcb852ac43648ccb27fa32f638c1b38">ALTER TABLE [ IF EXISTS ] { table_name [*] | ONLY table_name | ONLY ( table_name  )}
    RENAME PARTITION { partion_name | FOR ( partition_value [, ...] ) } TO partition_new_name;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a5d690044f71d48c09de6524de92b2b80">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_aa653fea5fab34c978951dcd769cc9de6">分区表名。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_zh-cn_topic_0058966064_p760090195743">取值范围：已存在的分区表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a954b240321294188b1276a7a869a9ea2">partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a3caeacd930104540b5b191ac53b236d8">分区名。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a011d63de4c474d498e34e4df97dd4a60">取值范围：已存在的分区名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a5a1c081c3d7c42ba924538d482d2681a">tablespacename</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a7f61843c65c44757b824c2b943e869eb">指定分区要移动到哪个表空间。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a38051ca93db6402b9a7ba64db262953a">取值范围：已存在的表空间名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a3aa29072ab744bebb1634e5063810c2f">partition_value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a801c343ce1cd41858fbd421a4becdcc7">分区键值。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a33e79014f1cc4ecb9766ef9bee5056af">通过PARTITION FOR ( partition_value [, ...] )子句指定的这一组值，可以唯一确定一个分区。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a9397bcb4e9df40029b4ec1f7a7d1bca6">取值范围：需要进行重命名的分区的分区键的取值范围。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a4891643d35f74d0780cc93aa3220687e">UNUSABLE LOCAL INDEXES</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_adf174980b7ab48caaefc146539356145">设置该分区上的所有索引不可用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a767f6395c68a422195a0153a56d3bc44">REBUILD UNUSABLE LOCAL INDEXES</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ac04f0415f5cb4061b99438ba13d6f350">重建该分区上的所有索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_aba08680a480e4f2cbc0bf23d84b4306e">ENABLE/DISABLE ROW MOVEMET</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a50fbdac16da14ad3ac027e57eeef1ef2">行迁移开关。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a328f0b052b3a4ad2b494a53131d4a0b0">如果进行UPDATE操作时，更新了元组在分区键上的值，造成了该元组所在分区发生变化，就会根据该开关给出报错信息，或者进行元组在分区间的转移。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a604c180b368448af9bf9c62bf55a9e9f">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u6d41cd46b19c4498ac9b6413f4a36540"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l3b521a65495a4f1eba79eeb5a48ffcb6">ENABLE：打开行迁移开关。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l70340c47a452459f85ba142d64fc8f73">DISABLE：关闭行迁移开关。</li></ul>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ae454a3ea1ea14d6f930e72de125d8c2d">默认是打开状态。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_af590235fea444aa08b6c7e259ab9924c">ordinary_table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a205c65adfee9458da8a2b0d105a0770c">进行迁移的普通表的名称。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a9a01da5aae2244749d1691fd8549e63a">取值范围：已存在的普通表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_zh-cn_topic_0058966064_b512778222005">{ WITH | WITHOUT } VALIDATION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a1b07a083c48345f2a0e00bfffc671030">在进行数据迁移时，是否检查普通表中的数据满足指定分区的分区键范围。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a17ab6882ae5445a386c911e4d1e14b90">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_u9e730510862e45e38083dc645b6f8c3c"><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ld0436ceb1ce24b37b50cdd84876bbebf">WITH：对于普通表中的数据要检查是否满足分区的分区键范围，如果有数据不满足，则报错。</li><li id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_l16c4f2969a8c4715bb4818d8037d2124">WITHOUT：对于普通表中的数据不检查是否满足分区的分区键范围。</li></ul>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a28aaf13fbef0416c8e4c7b12c63810cc">默认是WITH状态。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_ad530136cb88c46529a723d476ffcab63">由于检查比较耗时，特别是当数据量很大的情况下更甚。所以在保证当前普通表中的数据满足分区的分区键范围时，可以加上WITHOUT来指明不进行检查。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a59b2f92968a3473abadc10b14a58644c">VERBOSE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_zh-cn_topic_0058966064_p582460620044">在VALIDATION是WITH状态时，如果检查出普通表有不满足要交换分区的分区键范围的数据，那么把这些数据插入到正确的分区，如果路由不到任何分区，再报错。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_n8a800026aa904d8684d3066f94992f0c"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a296855b2432247109c13a1f2e6737d4e">只有在VALIDATION是WITH状态时，才可以指定VERBOSE。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_adb5523a2ec5246bd8ad8b2b78c882b59">partition_new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a7c11c16f8f0b41aa89d5529d4f6ac446">分区的新名称。</p>
<p id="ZH-CN_TOPIC_0242370541__zh-cn_topic_0237122077_zh-cn_topic_0059778761_a07b4b25cc51e4fd8b981b1499163af06">取值范围：字符串，要符合标识符的命名规范。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER TABLESPACE" alias="ALTER TABLESPACE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_affa2dc3224c74dbca1c7858bff3ef0a9">修改表空间的属性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_ub3317a217d064e3ea89f1e8eee42c93f"><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l6fc827ec0d3549d4ba438d2a2eb5305b">只有表空间的所有者有权限执行ALTER TABLESPACE命令，系统管理员默认拥有此权限。</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_ld3b27c910608403597dc044a22393bd7">要修改表空间的所有者A为B，则A必须是B的直接或者间接成员。<div class="note" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_n291a9d930a7f4bc1ba5c6cb658e65e00"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a72ac89c693ac4349bc403fe5ed03cad8">如果new_owner与old_owner一致，此处不再校验当前执行操作的用户是否具有修改权限，而直接显示ALTER成功。</p>
</div></div>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--把表空间ds_location1重命名为ds_location3。
postgres=# ALTER TABLESPACE ds_location1 RENAME TO ds_location3 ; 

--改变表空间ds_location2的所有者。
postgres=# ALTER TABLESPACE ds_location2 OWNER TO jay ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_ub4527c2981024b8bbd1f8ffb7ef8d7a2"><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l1c387044fea14a6889c9bc46e1aca712">重命名表空间的语法。<pre class="screen" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_s9eb873e5bb4e4d11b28354e6759e5cde">ALTER TABLESPACE tablespace_name 
    RENAME TO new_tablespace_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l2506c5cbdc624bc99af4954772ba6298">设置表空间所有者的语法。<pre class="screen" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_sd659ea5492f24565a9892db823784229">ALTER TABLESPACE tablespace_name 
    OWNER TO new_owner;</pre>
</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l195d3c661c874f1588e8e83b9fca5294">设置表空间属性的语法。<pre class="screen" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_sd87c9a0914a5402dbc10592d41ef62bc">ALTER TABLESPACE tablespace_name 
    SET ( {tablespace_option = value} [, ... ] );</pre>
</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l88145edc86c74236a3f1f5a250ecf0a1">重置表空间属性的语法。<pre class="screen" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_scd58cf0cc0b34c1d93f0078e61ec945f">ALTER TABLESPACE tablespace_name 
    RESET ( { tablespace_option } [, ...] );</pre>
</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l7f90cb673a3f4ab08b9d8fddc5e7ae03">设置表空间限额的语法<pre class="screen" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_s7452cb60f4ed4c3eab75b78a4ca367eb">ALTER TABLESPACE tablespace_name 
    RESIZE MAXSIZE { UNLIMITED | 'space_size'};</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a922850c9a78b484f82075904e29de298">tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_afb2c199507c64aee92e84928858f5baa">要修改的表空间。</p>
<p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a038b5937cc244cf58ebf5cd8327f5f85">取值范围：已存在的表空间名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a23a930a5885048c1bde5c9d1a136b95f">new_tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a6bb565af58bd41c9adc5594195212f7d">表空间的新名称。</p>
<p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a384ed2bf307c46dbb8a4409999a2b443">新名称不能以"PG_"开头。</p>
<p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_af12f0dac76ea4cd4a89f1141c68c7b84">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a63b31414dbd142a0aa31230acd29fc87">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a803a94bee6b8494b91ccf982f4934053">表空间的新所有者。</p>
<p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a64e90d1c53e64a5e976a22697061873e">取值范围：已存在的用户名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_abc4c48f631774b0a8fe8ed7ca7fefd8d">tablespace_option</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a021ceccd7eaa4bc3b7acdb7d4118358c">设置或者重置表空间的参数。</p>
<p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a6f28874682b344b7acec16b95b5ca1d4">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_u17bbc4c9845247b58654c887bc4413f9"><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l65be5931f6f943fcaf2200bfa0f9a453">seq_page_cost：设置优化器计算一次顺序获取磁盘页面的开销。缺省为1.0。</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l184073ddf1ae4528b188d87fd76e30b3">random_page_cost：设置优化器计算一次非顺序获取磁盘页面的开销。缺省为4.0。<div class="note" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_naf4c2420880240e08bbbbf616663da79"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_ul56402595526"><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_li19640259185215">random_page_cost是相对于seq_page_cost的取值，等于或者小于seq_page_cost时毫无意义。</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_li164115599528">默认值为4.0的前提条件是，优化器采用索引来扫描表数据，并且表数据在cache中命中率可以90%左右。</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_li13641125913529">如果表数据空间要比物理内存小，那么减小该值到一个适当水平；相反地，如果表数据在cache中命中率要低于90%，那么适当增大该值。</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_li2641259165212">如果采用了类似于SSD的随机访问代价较小的存储器，可以适当减小该值，以反映真正的随机扫描代价。</li></ul>
</div></div>
</li></ul>
<p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_ad5637cb7ac344a5f951a5f51cf9341fe">value的取值范围：正的浮点类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a6f33581ddc5544b38cc687ca152bf8f2">RESIZE MAXSIZE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_afabbf4476a8b402193e8733cd8e8dd11">重新设置表空间限额的数值。</p>
<p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_ae4438942e91847258540f50fde63fd31">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_uac546dffcfa64720be238d6f29cc5c2f"><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l261b58ba3792420e93de780783e62dbd">UNLIMITED，该表空间不设置限额。</li><li id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_l27fc2b7cce5d4f8b86c84916af08c96d">由space_size来确定，其格式参考<a>CREATE TABLESPACE</a>。<div class="note" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_n80dc75c48fe94c14b35f4927008084ab"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_a932745e33f8d454e9d4e36059bf97cde">修改参数MAXSIZE时也可使用：</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370542__zh-cn_topic_0237122078_zh-cn_topic_0059777507_s0ba979be9fb8401687b276b2e3057e17">ALTER TABLESPACE tablespace_name RESIZE MAXSIZE
 { 'UNLIMITED' | 'space_size'};</pre>
</div></div>
</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER TEXT SEARCH CONFIGURATION" alias="ALTER TEXT SEARCH CONFIGURATION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a713cebfefafa424b91de31e3d44aac58">更改文本搜索配置的定义。用户可以将映射从字串类型调整为字典，或者改变配置的名称或者所有者，或者修改搜索配置的配置参数。</p>
<p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a900f4f1fd88a477cab98e4e7983b0ab7">ADD MAPPING FOR选项为文本搜索配置增加字串类型映射；如果ADD MAPPING FOR后面任何一个字串类型的映射已经存在于此文本搜索配置中，那么系统将会报错。</p>
<p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a04680e94e34f481fad8c51951c3c7e48">ALTER MAPPING FOR选项会首先清除已有的字串类型映射，然后添加指定的字串类型映射。</p>
<p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a769c2a88f97e4e348b90644b21cdff74">ALTER MAPPING REPLACE ... WITH ... 与ALTER MAPPING FOR ... REPLACE ... WITH ...选项会直接使用new_dictionary替换old_dictionary。需要注意的是，只有pg_ts_config_map系统表中存在maptokentype与old_dictionary对应关系的元组时，才能更新成功，否则不会成功，也不会有任何提示信息返回。</p>
<p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_afdce3e11b6cc4a69a2bd5fd032e199e4">DROP MAPPING FOR选项会删除当前文本搜索配置中指定的字串类型映射。 如果没有指定IF EXISTS选项，当DROP MAPPING FOR选项指定的字串类型映射在文本搜索配置中不存在时，数据库会报错。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_ul19842101013576"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_li178421210165714">当一个搜索配置已经被引用（如被用来创建索引），则不允许用户修改此文本搜索配置。</li><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_li7908422155720">要使用ALTER TEXT SEARCH CONFIGURATION，用户必须是配置的所有者。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--增加文本搜索配置字串类型映射语法。
postgres=# ALTER TEXT SEARCH CONFIGURATION english_1 ADD MAPPING FOR word WITH simple , english_stem ; 
ALTER TEXT SEARCH CONFIGURATION

--增加文本搜索配置字串类型映射语法。
postgres=# ALTER TEXT SEARCH CONFIGURATION english_1 ADD MAPPING FOR email WITH english_stem , french_stem ; 
ALTER TEXT SEARCH CONFIGURATION

--增加文本搜索配置字串类型映射语法。
postgres=# ALTER TEXT SEARCH CONFIGURATION english_1 ALTER MAPPING REPLACE french_stem with german_stem ; 
ALTER TEXT SEARCH CONFIGURATION
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_u73cd947bc62342939d91bf93771356cf"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_l2aaa1d322e194658a1b609e691d2ee6a">增加文本搜索配置字串类型映射语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_s6037c4d1e30a42d2a2648fb3ec7a6bc1">ALTER TEXT SEARCH CONFIGURATION name 
    ADD MAPPING FOR token_type [, ... ] WITH dictionary_name [, ... ];</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_u43e0877075074d6299a4d65886a81426"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_la0142086bb45482c8acd0d0c55b7fc47">修改文本搜索配置字典语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_sbdda694611394fa0bd592e3bcda4a6c9">ALTER TEXT SEARCH CONFIGURATION name 
    ALTER MAPPING FOR token_type [, ... ] REPLACE old_dictionary WITH new_dictionary;</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_u43e13f9d75434b99bf6559e78c10998e"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_l967fe03df00f47c9a0607cc1b7e5dd2b">修改文本搜索配置字串类型语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_sdfadc908450f41f082e08f6b31aff4a7">ALTER TEXT SEARCH CONFIGURATION name
    ALTER MAPPING FOR token_type [, ... ] WITH dictionary_name [, ... ];</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_u517474599f6c48069ac294beace3f607"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_lceee00514aee4fc480f7642f5ea86f78">更改文本搜索配置字典语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_s51a0f121974d4688b55a96235e55135e">ALTER TEXT SEARCH CONFIGURATION name
    ALTER MAPPING REPLACE old_dictionary WITH new_dictionary;</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_uc1257a24c8b8464590e470b1255ebc1a"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_le7d0255f7a4a49309e53ee00e49df1c3">删除文本搜索配置字串类型映射语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_s7fd3d45cc3b04e1c9358c41554a4ed40">ALTER TEXT SEARCH CONFIGURATION name
    DROP MAPPING [ IF EXISTS ] FOR token_type [, ... ];</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_u98bc368de5bb46fc80bbdb20b542badf"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_l2da495aa15df403e994d48390a44af32">重命名文本搜索配置所有者语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_s76135a7af4e746839c2cca8cbd3c8892">ALTER TEXT SEARCH CONFIGURATION name OWNER TO new_owner;</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_u21c3857cbfd548fcaf789438d36e252c"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_l7b6102810af64ea4b50a51a7fc49b20f">重命名文本搜索配置名称语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_s8093c648659341c395c90ccee776678e">ALTER TEXT SEARCH CONFIGURATION name RENAME TO new_name;</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_uc9ffc49156e34c09982ae03120c05b07"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_le4dd7c3616b14480b0d91fc1e03e764c">重命名文本搜索配置命名空间语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_sf4e436ac361046e39872c1bd5a42fbcf">ALTER TEXT SEARCH CONFIGURATION name SET SCHEMA new_schema;</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_ul179313422718"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_li157941034172710">修改文本搜索配置属性语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_screen157958343270">ALTER TEXT SEARCH CONFIGURATION name SET ( { configuration_option = value } [, ...] );</pre>
<ul id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_u754f2365888446f88a37d2755e328c9e"><li id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_l32700b2f31f444dbaadfbec6b02b2f01">重置文本搜索配置属性语法</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_s8010073c9a9d4d79943d13744734ad68">ALTER TEXT SEARCH CONFIGURATION name RESET ( {configuration_option} [, ...] );</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a8a8bee5eaae9468280f9f225727c8d1c">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a52605d9aa04949469253769b75191bf5">已有文本搜索配置的名称（可以有模式修饰）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a327aec8bbe564d9aa25e3490f940684a">token_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_abb32ace79d144b168286fb1a6deb75e1">与配置的语法解析器关联的字串类型的名称。详细信息参见<a>解析器</a>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a2ebb283c117f485fb36b28860b9deaaa">dictionary_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_aa110afa8f8804fed926cc0b52e583360">文本搜索字典名称。 如果有多个字典，则它们会按指定的顺序搜索。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_zh-cn_topic_0058966157_b486297541591">old_dictionary</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a3fdc050d2552487cb4cbde547c2c7881">映身中拟被替换的文本搜索字典名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_zh-cn_topic_0058966157_b288237201593">new_dictionary</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_ae8602331bd4b46848ae4326f8e6d65cf">替换old_dictionary的文本搜索字典的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a1696cd9af71e4099b68de4d27d94d810">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a5d283b32027c4709add9c83be9bee828">文本搜索配置的新所有者。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_zh-cn_topic_0058966157_b465736061596">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a083fd84fbbda4003906208cfd79e04e2">文本搜索配置的新名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_adc3253b63bd44faf9a1a1ad3abc37aeb">new_schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a2771aa07f63042909a904266e52fa5a2">文本搜索配置的新模式名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a23e004897bba47589276d0f69cb4a7a4">configuration_option</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a259cabe40be14b458b9b441542084565">文本搜索配置项。详细信息参见<a>CREATE TEXT SEARCH CONFIGURATION</a>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_a0d55dfc6c93b414f81b72513d77f6bbb">value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370543__zh-cn_topic_0237122079_zh-cn_topic_0059778328_ab684d680d33e408180d07a1029fdb575">文本搜索配置项的值。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER TEXT SEARCH DICTIONARY" alias="ALTER TEXT SEARCH DICTIONARY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_zh-cn_topic_0059777936_a3983da1834514a79a16b293aa7f5d9ff">修改全文检索词典的相关定义，包括参数、名称、所有者、以及模式等。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_ul94641895249"><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li10355217162410">预定义词典不支持ALTER操作。</li><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li10464891245">只有词典的所有者可以执行ALTER操作，系统管理员默认拥有此权限。</li><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li8982216208">创建或修改词典之后，任何对于filepath路径下用户自定义的词典定义文件的修改，将不会影响到数据库中的词典。如果需要在数据库中使用这些修改，需使用ALTER TEXT SEARCH DICTIONARY语句更新对应词典的定义文件。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--更改Snowball类型字典的停用词定义，其他参数保持不变。
postgres=# ALTER TEXT SEARCH DICTIONARY my_dict ( StopWords = newrussian , FilePath = ' file:///home/dicts ' ) ; 

--更改Snowball类型字典的Language参数，并删除停用词定义。
postgres=# ALTER TEXT SEARCH DICTIONARY my_dict ( Language = dutch， StopWords ) ; 

--更新词典定义，不实际更改任何内容。
postgres=# ALTER TEXT SEARCH DICTIONARY my_dict ( dummy ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_ul10315143352818"><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li03150330288">修改词典定义。<pre class="screen" id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_zh-cn_topic_0059777936_s92a0deb0c52b4eb0a4b341a63983a0f0">ALTER TEXT SEARCH DICTIONARY name (
    option [ = value ] [, ... ]
);</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_ul17769119192715"><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li1376918912278">重命名词典。<pre class="screen" id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_screen18483847122817">ALTER TEXT SEARCH DICTIONARY name RENAME TO new_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li4195342272">设置词典的所属模式。<pre class="screen" id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_screen739711222911">ALTER TEXT SEARCH DICTIONARY name SET SCHEMA new_schema;</pre>
</li><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li1818014540276">修改词典的所属者。<pre class="screen" id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_screen16146121163217">ALTER TEXT SEARCH DICTIONARY name OWNER TO new_owner;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b524483759421">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p447093219453">已存在的词典名（可指定模式名，否则默认在当前模式下）。</p>
<p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p53237289456">取值范围：已存在的词典名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_b153445112487">option</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p118691945144417">要修改的参数名。与template对应，不同的词典类型具有不同的参数列表，且与指定顺序无关。详细参数说明请见<a>option</a>。</p>
<div class="note" id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_note175317431496"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_ul1472713514498"><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li1610613580526">不支持修改词典的TEMPLATE参数值。</li><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li881719523446">不支持仅修改FILEPATH参数而不修改对应的词典定义文件参数。</li><li id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_li164261957192413">词典定义文件的文件名仅支持小写字母、数据、下划线混合。</li></ul>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_b132416254537">value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p1282819465442">要修改的参数值。如果省略等号（=）和value，则表示删除该option的先前设置，使用默认值。</p>
<p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p082844644419">取值范围：对应option定义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_b17985114734417">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p4986347144410">词典的新名称。</p>
<p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p7986447104414">取值范围：符合标识符命名规范的字符串，且最大长度不超过63个字符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_b1820732016573">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p1790174824414">词典新的所有者。</p>
<p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p1679004804418">取值范围：已存在的用户。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_b146411150155713">new_schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p43482361404">词典的新模式。</p>
<p id="ZH-CN_TOPIC_0242370544__zh-cn_topic_0237122080_p534813362019">取值范围：已存在的模式。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER TRIGGER" alias="ALTER TRIGGER">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_zh-cn_topic_0059777936_a3983da1834514a79a16b293aa7f5d9ff">修改触发器定义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_zh-cn_topic_0059777936_a3ca3b936f2b844a990da3214d6d19778">只有触发器所在表的所有者可以执行ALTER TRIGGER操作，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改触发器
postgres=# ALTER TRIGGER delete_trigger ON test_trigger_src_tbl RENAME TO delete_trigger_renamed ; 

--禁用insert_trigger触发器
postgres=# ALTER TABLE test_trigger_src_tbl DISABLE TRIGGER insert_trigger ; 

--禁用当前表上所有触发器
postgres=# ALTER TABLE test_trigger_src_tbl DISABLE TRIGGER ALL ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_zh-cn_topic_0059777936_s92a0deb0c52b4eb0a4b341a63983a0f0">ALTER TRIGGER trigger_name ON table_name RENAME TO new_name;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b524483759421">trigger_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p447093219453">要修改的触发器名称。</p>
<p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p53237289456">取值范围：已存在的触发器。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_b10748195216598">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_p318211253564">要修改的触发器所在的表名称。</p>
<p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_p185906551621">取值范围：已存在的含触发器的表。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_b1068605218276">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_p13341238202719">修改后的新名称。</p>
<p id="ZH-CN_TOPIC_0242370545__zh-cn_topic_0237122081_p917531510307">取值范围：符合标识符命名规范的字符串，最大长度不超过63个字符，且不能与所在表上其他触发器同名。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER TYPE" alias="ALTER TYPE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_zh-cn_topic_0059777461_a0af9cfc40a874236b1f8bdde9bbe73cc">修改一个类型的定义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--重命名数据类型。
postgres=# ALTER TYPE compfoo RENAME TO compfoo1 ; 

--要改变一个用户定义类型compfoo1的所有者为usr1。
postgres=# CREATE USER usr1 PASSWORD ' Bigdata@123 ' ; 
postgres=# ALTER TYPE compfoo1 OWNER TO usr1 ; 

--把用户定义类型compfoo1的模式改变为usr1。
postgres=# ALTER TYPE compfoo1 SET SCHEMA usr1 ; 

--给一个数据类型增加一个新的属性。
postgres=# ALTER TYPE usr1.compfoo1 ADD ATTRIBUTE f3 int;

--添加一个标签值。
postgres=# ALTER TYPE bugstatus ADD VALUE IF NOT EXISTS ' regress ' BEFORE ' closed ' ; 

--重命名一个标签值。
postgres=# ALTER TYPE bugstatus RENAME VALUE ' create ' TO ' new ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_zh-cn_topic_0059777461_uabb2b524fffd41c48cdd03f4f1644bdd"><li id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_li0127110173016">修改类型<pre class="screen" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_screen83411251876">ALTER TYPE name action [, ... ]
ALTER TYPE name OWNER TO { new_owner | CURRENT_USER | SESSION_USER }
ALTER TYPE name RENAME ATTRIBUTE attribute_name TO new_attribute_name [ CASCADE | RESTRICT ]
ALTER TYPE name RENAME TO new_name
ALTER TYPE name SET SCHEMA new_schema
ALTER TYPE name ADD VALUE [ IF NOT EXISTS ] new_enum_value [ { BEFORE | AFTER } neighbor_enum_value ] 
ALTER TYPE name RENAME VALUE existing_enum_value TO new_enum_value

where action is one of:
    ADD ATTRIBUTE attribute_name data_type [ COLLATE collation ] [ CASCADE | RESTRICT ]
    DROP ATTRIBUTE [ IF EXISTS ] attribute_name [ CASCADE | RESTRICT ]
    ALTER ATTRIBUTE attribute_name [ SET DATA ] TYPE data_type [ COLLATE collation ] [ CASCADE | RESTRICT ]</pre>
</li><li id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_zh-cn_topic_0059777461_l0cd384b3efeb4c55a2a09ad575dc877e">给复合类型增加新的属性。<pre class="screen" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_zh-cn_topic_0059777461_sd2765dbfa2e048e0ad2041f9d3dee05b">ALTER TYPE name ADD ATTRIBUTE attribute_name data_type [ COLLATE collation ] [ CASCADE | RESTRICT ]</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong style="color:#353A3F;" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b47953517327">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p99042019114515"><span style="color:#353A3F;">一个需要修改的现有的类型的名称</span><span style="color:#353A3F;">(</span><span style="color:#353A3F;">可以有模式修饰</span><span style="color:#353A3F;">) </span><span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong style="color:#353A3F;" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b14651341193219">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p4904519144516"><span style="color:#353A3F;">该类型的新名称</span><span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong style="color:#353A3F;" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b442616451323">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p13904819134512"><span style="color:#353A3F;">新所有者的用户名</span> <span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong style="color:#353A3F;" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b32222501324">new_schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p19904119124517"><span style="color:#353A3F;">该类型的新模式</span> <span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong style="color:#353A3F;" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b11752555103214">attribute_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p190441924516"><span style="color:#353A3F;">拟增加、更改或删除的属性的名称</span><span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong style="color:#353A3F;" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b4891919333">new_attribute_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p11904141917458"><span style="color:#353A3F;">拟改名的属性的新名称</span><span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong style="color:#353A3F;" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b16197970335">data_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p10905101916455"><span style="color:#353A3F;">拟新增属性的数据类型，或是拟更改的属性的新类型名</span><span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b7158171141314">new_enum_value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p202878120100">枚举类型新增加的标签值，是一个非空的长度不超过64个字节的字符串。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b17402149138">neighbor_enum_value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p49515961115">一个已有枚举标签值，新值应该被增加在紧接着该枚举值之前或者之后的位置上。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b639714290132">existing_enum_value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p1095921918133">现有的要重命名的枚举值，是一个非空的长度不超过64个字节的字符串</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b2941173334620">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_p89341647463">自动级联更新需更新类型以及相关联的记录和继承它们的子表。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_b88998318466">RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_zh-cn_topic_0059777461_ac5f307db334b45588d533c228c3ee00e">如果需联动更新类型是已更新类型的关联记录，则拒绝更新。这是缺省选项。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_note8202014163518"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_ul16147153053614"><li id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_li1014883093616">ADD ATTRIBUTE、DROP ATTRIBUTE和ALTER ATTRIBUTE选项可以组合成一个列表同时处理。 例如，在一条命令中同时增加几个属性或是更改几个属性的类型是可以实现的。</li><li id="ZH-CN_TOPIC_0242370546__zh-cn_topic_0237122082_li18148530133615">要使用ALTER TYPE，必须是该类型的所有者。 要修改一个类型的模式，还必须在新模式上拥有CREATE权限。 要修改所有者，必须是新的所有角色的直接或间接成员， 并且该成员必须在此类型的模式上有CREATE权限。 （这些限制强制了修改所有者不会做任何通过删除和重建类型不能做的事情。 不过，系统管理员可以以任何方式修改任意类型的所有权。） 要增加一个属性或是修改一个属性的类型，也必须有该类型的USAGE权限。</li></ul>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER USER" alias="ALTER USER">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a0af9cfc40a874236b1f8bdde9bbe73cc">修改数据库用户的属性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a02caaffcc37c4f6d8ed2040515d993db">ALTER USER中修改的会话参数只针对指定的用户，且在下一次会话中有效。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--将用户jim的登录密码由Bigdata@123修改为Abcd@123。
postgres=# ALTER USER jim IDENTIFIED BY ' Abcd@123 ' REPLACE ' Bigdata@123 ' ; 

--为用户jim追加CREATEROLE权限。
postgres=# ALTER USER jim CREATEROLE ; 

--将enable_seqscan的值设置为on， 设置成功后，在下一会话中生效。
postgres=# ALTER USER jim SET enable_seqscan TO on ; 

--重置jim的enable_seqscan参数。
postgres=# ALTER USER jim RESET enable_seqscan ; 

--锁定jim帐户。
postgres=# ALTER USER jim ACCOUNT LOCK ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_uabb2b524fffd41c48cdd03f4f1644bdd"><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_lfa8227f085254af68079dad421756615">修改用户的权限等信息。<pre class="screen" id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_saa1c4aba371147be8bfa157bf8ff13dd">ALTER USER user_name [ [ WITH ] option [ ... ] ];</pre>
<p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a1013850897524a8f8c7398fcacb8a6b1">其中option子句为。</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_s33f8effd7f894f028340d355f5a5178d">{ CREATEDB | NOCREATEDB }
    | { CREATEROLE | NOCREATEROLE }
    | { INHERIT | NOINHERIT }
    | { AUDITADMIN | NOAUDITADMIN }
    | { SYSADMIN | NOSYSADMIN }
    | {MONADMIN | NOMONADMIN}
    | {OPRADMIN | NOOPRADMIN}
    | {POLADMIN | NOPOLADMIN}
    | { USEFT | NOUSEFT }
    | { LOGIN | NOLOGIN }
    | { REPLICATION | NOREPLICATION }
    | {INDEPENDENT | NOINDEPENDENT}
    | {VCADMIN | NOVCADMIN}
    | CONNECTION LIMIT connlimit
    | [ ENCRYPTED | UNENCRYPTED ] PASSWORD { 'password' | DISABLE }
    | [ ENCRYPTED | UNENCRYPTED ] IDENTIFIED BY { 'password' [ REPLACE 'old_password' ] | DISABLE }
    | VALID BEGIN 'timestamp'
    | VALID UNTIL 'timestamp'
    | RESOURCE POOL 'respool'
    | PERM SPACE 'spacelimit'
    | ACCOUNT { LOCK | UNLOCK }
    | PGUSER</pre>
</li><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_lcf3b5f4f321d4ee8874185f221c9d123">修改用户名。<pre class="screen" id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_sac07b1681356489d9c46306b167b6a09">ALTER USER user_name 
    RENAME TO new_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_lbad877b0a5124b7c989f59c8c23ba456">修改与用户关联的指定会话参数值。<pre class="screen" id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_s7ba293508b134b3e8c836bd26cbe3698">ALTER USER user_name 
    SET configuration_parameter { { TO | = } { value | DEFAULT } | FROM CURRENT };</pre>
</li><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_l0cd384b3efeb4c55a2a09ad575dc877e">重置与用户关联的指定会话参数值。<pre class="screen" id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_sd2765dbfa2e048e0ad2041f9d3dee05b">ALTER USER user_name 
    RESET { configuration_parameter | ALL };</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a24526f4c87764f2a950175b5017ea75b">user_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a8b439007f2cd47b18fd6384606b6581a">现有用户名。</p>
<p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_adc6224038fab468e96a6b98d48753a44">取值范围：已存在的用户名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a46d39b6349264f2493a040cc60fdf138">new_password</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_ac5f307db334b45588d533c228c3ee00e">新密码。</p>
<p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a58e9661cbcff47c8a267b2180b3c7b21">密码规则如下：</p>
<ul id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_ua1a4b0f79ac54816b45261944ae6c21a"><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_lffc5bf0a509e4ffabd56c0358688209a">不能与当前密码相同。</li><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_l2e079c8ed93b4d7399c85d93588aa288">密码默认不少于8个字符。</li><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_lc6830cce12574a60b7fd61596c241ff9">不能与用户名及用户名倒序相同。</li><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_l26b8174967d74065abc40b05c7dc2e1b">至少包含大写字母（A-Z），小写字母（a-z），数字（0-9），非字母数字字符（限定为~!@#$%^&amp;*()-_=+\|[{}];:,&lt;.&gt;/?）四类字符中的三类字符。</li></ul>
<p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a1f3ddaaa870a4b499e3f91f2a0bbd2c4">取值范围：字符串。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_afd4e1b82034d421b8be230d4e53aa5cc">old_password</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_a7fa8d25fc054439a9f7f8b12b07e911f">旧密码。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_af8136c359c0e49b286f22e211359dfa7">ACCOUNT LOCK | ACCOUNT UNLOCK</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_uf4a8218509804b1ab290cb2d1b2935b1"><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_l3fd8efb510cf4565bd2fdc7ca7160656">ACCOUNT LOCK：锁定帐户，禁止登录数据库。</li><li id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_l181c98cdf09a433e86e5726ed21b0ec7">ACCOUNT UNLOCK：解锁帐户，允许登录数据库。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_b295011560">PGUSER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370547__zh-cn_topic_0237122083_zh-cn_topic_0059777461_p159501411767">当前版本不允许修改用户的PGUSER属性。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ALTER VIEW" alias="ALTER VIEW">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_p1259217715513">ALTER VIEW更改视图的各种辅助属性。（如果用户是更改视图的查询定义，要使用CREATE OR REPLACE VIEW。）</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_ud8af2b3c655c441f988035935df634e1"><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_lb9c4fc08a14243a88d041ec0b2aaadba">用户必须是视图的所有者才可以使用ALTER VIEW。</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l5541b7e78ef148ecb28369effebd6c12">要改变视图的模式，用户必须要有新模式的CREATE权限。</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l14efc7e72f564cfe933b621569076ff9">要改变视图的所有者，用户必须是新所属角色的直接或者间接的成员，并且此角色必须有视图模式的CREATE权限。</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l477f2b1efd8344fe97721b6304eddedb">管理员用户可以更改任何视图的所属关系。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改视图名称。
postgres=# ALTER VIEW tpcds.customer_details_view_v1 RENAME TO customer_details_view_v2 ; 

--修改视图所属schema。
postgres=# ALTER VIEW tpcds.customer_details_view_v2 SET schema public ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_u2342bb79821a490c995f61365a05f435"><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_lf3a3405afff34376b3cdce9efb34d261">设置视图列的默认值。<pre class="screen" id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_sc6d802c053e94b91a415d1b8cd9690c0">ALTER VIEW [ IF EXISTS ] view_name
    ALTER [ COLUMN ] column_name SET DEFAULT expression;</pre>
</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l2e0fcbc2a46b441681755d720953de31">取消列视图列的默认值。<pre class="screen" id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_s05ae51d081bc4080be6fc7d104c20719">ALTER VIEW [ IF EXISTS ] view_name
    ALTER [ COLUMN ] column_name DROP DEFAULT;</pre>
</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l47f059cefcdf47b6834360b3fec97733">修改视图的所有者。<pre class="screen" id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_s284121f244714a0d95e9b171707a7bd9">ALTER VIEW [ IF EXISTS ] view_name 
    OWNER TO new_owner;</pre>
</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l9f6ecc9095ec450c9fbdaa823dea04cd">重命名视图。<pre class="screen" id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_sfe2b1b670e164ddea94d9dbb8b8ed89d">ALTER VIEW [ IF EXISTS ] view_name 
    RENAME TO new_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_lca60b498b95e43a795c82dec9db2ea5d">设置视图的所属模式。<pre class="screen" id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_sec61301b30eb4ef49918d82da5a64e92">ALTER VIEW [ IF EXISTS ] view_name 
    SET SCHEMA new_schema;</pre>
</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l293fed2bc50e45c19003d716c5ac32fb">设置视图的选项。<pre class="screen" id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_s6e75b702a1d545f5804d4688f4e94256">ALTER VIEW [ IF EXISTS ] view_name
    SET ( { view_option_name [ = view_option_value ] } [, ... ] );</pre>
</li><li id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_l36005846fcaf4c31993e69ab3eb5f019">重置视图的选项。<pre class="screen" id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_s4a603abccdda4ef9864d9547e8a9dfe2">ALTER VIEW [ IF EXISTS ] view_name
    RESET ( view_option_name [, ... ] );</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a5f9a93c41a4f4aed9bab46b3d305f7b7">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a2a12d0d29c7a49d2aad793dd481e4cb6">使用这个选项，如果视图不存在时不会产生错误，仅有会有一个提示信息。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a432b82631fe1471ba7840c994f46dff7">view_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a0a4cb791dc084e75bb2dcb5349926b52">视图名称，可以用模式修饰。</p>
<p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_aec94f503940d4caf977863f9c750a91d">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_ab80a6a5803fc498fbd1da293c0a0a903">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a79852d8183d9410491634288fbd4e5bb">可选的名称列表，视图的字段名。如果没有给出，字段名取自查询中的字段名。</p>
<p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a57a3f8e7407542889eaff69366b70747">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a80b9092b842041638ccc4aaade1059a5">SET/DROP DEFAULT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_ac3addd353b244fad892dab8947f6940e">设置或删除一个列的缺省值，该参数暂无实际意义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a9a0cf01e47bf4e85837299ccce4ed7bb">new_owner</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_zh-cn_topic_0058965798_p274511821194">视图新所有者的用户名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a2265409a4bdb479e962aa903491c3d06">new_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_ae790ab7325244fc6a88dc237f649c5eb">视图的新名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_ae79e8ad557c84bc1ae22acbd26690494">new_schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_ac4de0da2ef124b209c86f5dd28808c4d">视图的新模式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_aa1936dfa32e648b69a6781351c65d111">view_option_name [ = view_option_value ]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a3ca4fff9d1384d2d835b2e043fddb51e">该子句为视图指定一个可选的参数。</p>
<p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_a01f4b5628d46473b987077fecb5f8df1">目前view_option_name支持的参数仅有security_barrier，当VIEW试图提供行级安全时，应使用该参数。</p>
<p id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_zh-cn_topic_0059778428_ac78a47335194466eb1fef766e15c1be2">取值范围：<span id="ZH-CN_TOPIC_0242370548__zh-cn_topic_0237122084_text138372058115312">Boolean</span>类型，TRUE、FALSE。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ANALYZE" alias="ANALYZE | ANALYSE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a7f1553d4310741449042eb86dff1b3fb">用于收集与数据库中普通表内容相关的统计信息，统计结果存储在系统表PG_STATISTIC下。执行计划生成器会使用这些统计数据，以确定最有效的执行计划。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a02e174191b1248cc8a0aea0caa6a7bd2">如果没有指定参数，ANALYZE会分析当前数据库中的每个表和分区表。同时也可以通过指定table_name、column和partition_name参数把分析限定在特定的表、列或分区表中。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p129611213174310">ANALYZE|ANALYSE VERIFY用于检测数据库中普通表（行存表、列存表）的数据文件是否损坏。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a5e9ce9f7f0684da1b0b231dbb441b2da">ANALYZE非临时表不能在一个匿名块、事务块、函数或存储过程内被执行。支持存储过程中ANALYZE临时表，不支持统计信息回滚操作。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p2489545439">ANALYZE VERIFY 操作处理的大多为异常场景检测需要使用RELEASE版本。ANALYZE VERIFY 场景不触发远程读，因此远程读参数不生效。对于关键系统表出现错误被系统检测出页面损坏时，将直接报错不再继续检测。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">postgres=# CREATE TABLE customer_info
 ( 
WR_RETURNED_DATE_SK INTEGER , 
WR_RETURNED_TIME_SK INTEGER , 
WR_ITEM_SK INTEGER NOT NULL , 
WR_REFUNDED_CUSTOMER_SK INTEGER
 ) 
 ; 

-- 创建分区表。
postgres=# CREATE TABLE customer_par
 ( 
WR_RETURNED_DATE_SK INTEGER , 
WR_RETURNED_TIME_SK INTEGER , 
WR_ITEM_SK INTEGER NOT NULL , 
WR_REFUNDED_CUSTOMER_SK INTEGER
 ) 
PARTITION BY RANGE ( WR_RETURNED_DATE_SK ) 
 ( 
PARTITION P1 VALUES LESS THAN ( 2452275 ) , 
PARTITION P2 VALUES LESS THAN ( 2452640 ) , 
PARTITION P3 VALUES LESS THAN ( 2453000 ) , 
PARTITION P4 VALUES LESS THAN ( MAXVALUE ) 
 ) 
ENABLE ROW MOVEMENT ; 

-- 使用ANALYZE语句更新统计信息。
postgres=# ANALYZE customer ; 

-- 使用ANALYZE VERBOSE语句更新统计信息，并输出表的相关信息。
postgres=# ANALYZE VERBOSE customer_info ; 
INFO: analyzing "cstore.pg_delta_3394584009" ( cn_5002 pid=53078 ) 
INFO: analyzing "public.customer_info" ( cn_5002 pid=53078 ) 
INFO: analyzing "public.customer_info" inheritance tree ( cn_5002 pid=53078 ) 
ANALYZE
若环境若有故障，需查看数据库主节点的log。

-- 删除表。
postgres=# DROP TABLE customer ; 
postgres=# DROP TABLE customer_par ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_u44b0f156804f43aeb763ad78578917c0"><li id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_la5d2c4d7c3a441a78b242908a2a9093b">收集表的统计信息。<pre class="screen" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_s1fee58aa71f642bcb3d00737454a09d3">{ ANALYZE | ANALYSE } [ VERBOSE ]
    [ table_name [ ( column_name [, ...] ) ] ];</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_ue519eab9503e4d66a2d5f93dfff55ed8"><li id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_l878bd149cd704b5381864ba2d2591db1">收集分区表的统计信息。<pre class="screen" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_s5cc92b699ae64ec1bd73d42e24328b09">{ ANALYZE | ANALYSE } [ VERBOSE ]
    [ table_name [ ( column_name [, ...] ) ] ]
    PARTITION ( patrition_name ) ;</pre>
<div class="note" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_n9d9f880099674139a23bd9df95e1ecb2"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a0f8ce860bc854f7fa6445b9935d02bc6">普通分区表目前支持针对某个分区的统计信息的语法，但功能上不支持针对某个分区的统计信息收集。</p>
</div></div>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_b354136309265">VERBOSE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_p326807229269">启用显示进度信息。</p>
<div class="note" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_n2efeeda5dcc84840bc56e2a3231356d9"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_p298928459269">如果指定了VERBOSE，ANALYZE发出进度信息，表明目前正在处理的表。各种有关表的统计信息也会打印出来。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a24d2f306225545cba85528e8af5f82fd">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_af91a065f0a624a47af12afc6295e04dc">需要分析的特定表的表名（可能会带模式名），如果省略，将对数据库中的所有表（非外部表）进行分析。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p613253554917">对于ANALYZE收集统计信息，目前仅支持行存表、列存表。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a1f67147266344dc386bc16c34b87166b">取值范围：已有的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_af72511a8be6343038628f77534f132b5">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'>，column_1_name，column_2_name<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_ae5afc909dc47499d98705ff243978c7f">需要分析特定列的列名，默认为所有列。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_ac6b9ecc62eac4b99a9a77c119cf05199">取值范围：已有的列名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_b467326549265">partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a4b36c5897c444a9caf5fcd547cd656ae">如果table为分区表，在关键字PARTITION后面指定分区名partition_name表示分析该分区表的统计信息。目前语法上支持分区表做ANALYZE，但功能实现上暂不支持对指定分区统计信息的分析。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a55c944ffc7fe48f8b356e73c9d706359">取值范围：表的某一个分区名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_b08261411145313">index_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p1082612115532">需要分析的特定索引表的表名（可能会带模式名）。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p168261611175317">取值范围：已有的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_b14717512125816">FAST|COMPLETE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p962744114431">对于行存表，FAST模式下主要对于行存表的CRC和page header进行校验，如果校验失败则会告警; 而COMPLETE模式下，则主要对行存表的指针、tuple进行解析校验。 对于列存表，FAST模式下主要对于列存表的CRC和magic进行校验，如果校验失败则会告警; 而COMPLETE模式下，则主要对列存表的CU进行解析校验。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_b7290121855817">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p462961184415">CASCADE模式下会对当前表的所有索引进行检测处理。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="ANALYSE" alias="ANALYZE | ANALYSE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a7f1553d4310741449042eb86dff1b3fb">用于收集与数据库中普通表内容相关的统计信息，统计结果存储在系统表PG_STATISTIC下。执行计划生成器会使用这些统计数据，以确定最有效的执行计划。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a02e174191b1248cc8a0aea0caa6a7bd2">如果没有指定参数，ANALYZE会分析当前数据库中的每个表和分区表。同时也可以通过指定table_name、column和partition_name参数把分析限定在特定的表、列或分区表中。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p129611213174310">ANALYZE|ANALYSE VERIFY用于检测数据库中普通表（行存表、列存表）的数据文件是否损坏。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a5e9ce9f7f0684da1b0b231dbb441b2da">ANALYZE非临时表不能在一个匿名块、事务块、函数或存储过程内被执行。支持存储过程中ANALYZE临时表，不支持统计信息回滚操作。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p2489545439">ANALYZE VERIFY 操作处理的大多为异常场景检测需要使用RELEASE版本。ANALYZE VERIFY 场景不触发远程读，因此远程读参数不生效。对于关键系统表出现错误被系统检测出页面损坏时，将直接报错不再继续检测。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">postgres=# CREATE TABLE customer_info
 ( 
WR_RETURNED_DATE_SK INTEGER , 
WR_RETURNED_TIME_SK INTEGER , 
WR_ITEM_SK INTEGER NOT NULL , 
WR_REFUNDED_CUSTOMER_SK INTEGER
 ) 
 ; 

-- 创建分区表。
postgres=# CREATE TABLE customer_par
 ( 
WR_RETURNED_DATE_SK INTEGER , 
WR_RETURNED_TIME_SK INTEGER , 
WR_ITEM_SK INTEGER NOT NULL , 
WR_REFUNDED_CUSTOMER_SK INTEGER
 ) 
PARTITION BY RANGE ( WR_RETURNED_DATE_SK ) 
 ( 
PARTITION P1 VALUES LESS THAN ( 2452275 ) , 
PARTITION P2 VALUES LESS THAN ( 2452640 ) , 
PARTITION P3 VALUES LESS THAN ( 2453000 ) , 
PARTITION P4 VALUES LESS THAN ( MAXVALUE ) 
 ) 
ENABLE ROW MOVEMENT ; 

-- 使用ANALYZE语句更新统计信息。
postgres=# ANALYZE customer ; 

-- 使用ANALYZE VERBOSE语句更新统计信息，并输出表的相关信息。
postgres=# ANALYZE VERBOSE customer_info ; 
INFO: analyzing "cstore.pg_delta_3394584009" ( cn_5002 pid=53078 ) 
INFO: analyzing "public.customer_info" ( cn_5002 pid=53078 ) 
INFO: analyzing "public.customer_info" inheritance tree ( cn_5002 pid=53078 ) 
ANALYZE
若环境若有故障，需查看数据库主节点的log。

-- 删除表。
postgres=# DROP TABLE customer ; 
postgres=# DROP TABLE customer_par ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_u44b0f156804f43aeb763ad78578917c0"><li id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_la5d2c4d7c3a441a78b242908a2a9093b">收集表的统计信息。<pre class="screen" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_s1fee58aa71f642bcb3d00737454a09d3">{ ANALYZE | ANALYSE } [ VERBOSE ]
    [ table_name [ ( column_name [, ...] ) ] ];</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_ue519eab9503e4d66a2d5f93dfff55ed8"><li id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_l878bd149cd704b5381864ba2d2591db1">收集分区表的统计信息。<pre class="screen" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_s5cc92b699ae64ec1bd73d42e24328b09">{ ANALYZE | ANALYSE } [ VERBOSE ]
    [ table_name [ ( column_name [, ...] ) ] ]
    PARTITION ( patrition_name ) ;</pre>
<div class="note" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_n9d9f880099674139a23bd9df95e1ecb2"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a0f8ce860bc854f7fa6445b9935d02bc6">普通分区表目前支持针对某个分区的统计信息的语法，但功能上不支持针对某个分区的统计信息收集。</p>
</div></div>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_b354136309265">VERBOSE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_p326807229269">启用显示进度信息。</p>
<div class="note" id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_n2efeeda5dcc84840bc56e2a3231356d9"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_p298928459269">如果指定了VERBOSE，ANALYZE发出进度信息，表明目前正在处理的表。各种有关表的统计信息也会打印出来。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a24d2f306225545cba85528e8af5f82fd">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_af91a065f0a624a47af12afc6295e04dc">需要分析的特定表的表名（可能会带模式名），如果省略，将对数据库中的所有表（非外部表）进行分析。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p613253554917">对于ANALYZE收集统计信息，目前仅支持行存表、列存表。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a1f67147266344dc386bc16c34b87166b">取值范围：已有的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_af72511a8be6343038628f77534f132b5">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'>，column_1_name，column_2_name<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_ae5afc909dc47499d98705ff243978c7f">需要分析特定列的列名，默认为所有列。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_ac6b9ecc62eac4b99a9a77c119cf05199">取值范围：已有的列名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_zh-cn_topic_0058965702_b467326549265">partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a4b36c5897c444a9caf5fcd547cd656ae">如果table为分区表，在关键字PARTITION后面指定分区名partition_name表示分析该分区表的统计信息。目前语法上支持分区表做ANALYZE，但功能实现上暂不支持对指定分区统计信息的分析。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_zh-cn_topic_0059779340_a55c944ffc7fe48f8b356e73c9d706359">取值范围：表的某一个分区名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_b08261411145313">index_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p1082612115532">需要分析的特定索引表的表名（可能会带模式名）。</p>
<p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p168261611175317">取值范围：已有的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_b14717512125816">FAST|COMPLETE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p962744114431">对于行存表，FAST模式下主要对于行存表的CRC和page header进行校验，如果校验失败则会告警; 而COMPLETE模式下，则主要对行存表的指针、tuple进行解析校验。 对于列存表，FAST模式下主要对于列存表的CRC和magic进行校验，如果校验失败则会告警; 而COMPLETE模式下，则主要对列存表的CU进行解析校验。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_b7290121855817">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370550__zh-cn_topic_0237122086_p462961184415">CASCADE模式下会对当前表的所有索引进行检测处理。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="BEGIN" alias="BEGIN">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_p42910409165740">BEGIN可以用于开始一个匿名块，也可以用于开始一个事务。本节描述用BEGIN开始匿名块的语法，以BEGIN开始事务的语法见<a>START TRANSACTION</a>。</p>
<p id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_zh-cn_topic_0058966177_p95038571123">匿名块是能够动态地创建和执行过程代码的结构，而不需要以持久化的方式将代码作为数据库对象储存在数据库中。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_ul055429173410"><li id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_li15501913346">开启匿名块<pre class="screen" id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_screen195526983410">[DECLARE [declare_statements]] 
BEGIN
execution_statements  
END;
/</pre>
</li><li id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_li955213915347">开启事务<pre class="screen" id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_screen75532963412">BEGIN [ WORK | TRANSACTION ]
  [ 
    { 
       ISOLATION LEVEL { READ COMMITTED | SERIALIZABLE | REPEATABLE READ }
       | { READ WRITE | READ ONLY }
      } [, ...] 
  ];</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_zh-cn_topic_0058966177_b5324449299">declare_statements</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_a018eb5d36f2c4764b230aa8cd6388e60">声明变量，包括变量名和变量类型，如“sales_cnt int”。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_a51e4c129161b49efab9688af52c84a8f">execution_statements</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_adc32a6f4f2ca423baa39cd1d735a6b6b">匿名块中要执行的语句。</p>
<p id="ZH-CN_TOPIC_0242370551__zh-cn_topic_0237122087_zh-cn_topic_0059778122_aff0538120abd4432882690937c7f6e10">取值范围：已存在的函数名称。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CALL" alias="CALL">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_a0ef19ab973e74287bca6e4cb6dd3fa6e">使用CALL命令可以调用已定义的函数和存储过程。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--按参数值传递。
postgres=# CALL func_add_sql ( 1 , 3 ) ; 

--使用命名标记法传参。
postgres=# CALL func_add_sql ( num1 =&gt; 1 , num2 =&gt; 3 ) ; 
postgres=# CALL func_add_sql ( num2 := 2 , num1 := 3 ) ; 

--出参传入常量。
postgres=# CALL func_increment_sql ( 1 , 2 , 1 ) ; 

--函数调用。
postgres=# call package_func_overload ( 1 , ' test ' ) ; 
postgres=# call package_func_overload ( 1 , 1 ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_s57930855ca8949529267d94c1813420e">CALL [schema.] {func_name| procedure_name} ( param_expr );</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_ad3029fd979264cdb89162c9d1c5c60bf">schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_zh-cn_topic_0058965889_p206764193039">函数或存储过程所在的模式名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_afcfdf6aab2424adc92a68e78d26b5083">func_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_a1d5a87035fe242688d83bc4bfa497393">所调用函数或存储过程的名称。</p>
<p id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_a70e1c5743fa14695b87219ece559062b">取值范围：已存在的函数名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_acbd744c5d2c045bf89bec7f61a993887">param_expr</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_zh-cn_topic_0058965889_p718246193113">参数列表可以用符号":="或者"=&gt;"将参数名和参数值隔开，这种方法的好处是参数可以以任意顺序排列。若参数列表中仅出现参数值，则参数值的排列顺序必须和函数或存储过程定义时的相同。</p>
<p id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_a48750c68b64f4fe5b19d54df3f44d6fe">取值范围：已存在的函数参数名称或存储过程参数名称。</p>
<div class="note" id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_ndb63269fe96a4eba8ec3d1218d40102f"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_a1d28ce40bc294fd1ae84e51ec5a28fcd">参数可以包含入参（参数名和类型之间指定“IN”关键字）和出参（参数名和类型之间指定“OUT”关键字），使用CALL命令调用函数或存储过程时，对于非重载的函数，参数列表必须包含出参，出参可以传入一个变量或者任一常量，详见<a href="#ZH-CN_TOPIC_0242370552__zh-cn_topic_0237122088_zh-cn_topic_0059778236_s299dc001fa4b48cd9b56412a73db23c0">示例</a>。对于重载的package函数，参数列表里可以忽略出参，忽略出参时可能会导致函数找不到。包含出参时，出参只能是常量。</p>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CHECKPOINT" alias="CHECKPOINT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370553__zh-cn_topic_0237122089_zh-cn_topic_0059778147_a330aca3433854a03bad4d8474faed7ce">检查点（CHECKPOINT）是一个事务日志中的点，所有数据文件都在该点被更新以反映日志中的信息，所有数据文件都将被刷新到磁盘。</p>
<p id="ZH-CN_TOPIC_0242370553__zh-cn_topic_0237122089_zh-cn_topic_0059778147_zh-cn_topic_0058965587_p320161011422">设置事务日志检查点。预写式日志（WAL）缺省时在事务日志中每隔一段时间放置一个检查点。可以使用gs_guc命令设置相关运行时参数（checkpoint_segments和checkpoint_timeout）来调整这个原子化检查点的间隔。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--设置检查点。
postgres=# CHECKPOINT ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370553__zh-cn_topic_0237122089_zh-cn_topic_0059778147_s0f4580530c61482fb8673cf9819fe3e1">CHECKPOINT;</pre>
</div>]]></suggestion>
  </command>
  <command id="CLOSE" alias="CLOSE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_aeeea1f70c23d44c191997101e94e90e4">CLOSE释放和一个游标关联的所有资源。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_u08a6cf1683cd4b2db1fc1f75fdbcac6a"><li id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_zh-cn_topic_0058966045_li77245011540">不允许对一个已关闭的游标再做任何操作。</li><li id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_l38cb682328ae4b2c86bd65392ced0c2c">一个不再使用的游标应该尽早关闭。</li><li id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_l7a620057d57e439aa5462dd6c168041d">当创建游标的事务用COMMIT或ROLLBACK终止之后，每个不可保持的已打开游标都隐含关闭。</li><li id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_l30b3b94acbf547df8964f435873f762f">当创建游标的事务通过ROLLBACK退出之后，每个可以保持的游标都将隐含关闭。</li><li id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_lb4d3951797cc4c34802cca7e8694af63">当创建游标的事务成功提交，可保持的游标将保持打开，直到执行一个明确的CLOSE或者客户端断开。</li><li id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_lf7391eac709a4722b2bbb93af38af0af"><span id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_text14523220416"><span id="ZH-CN_TOPIC_0242370555__text640275621911">openGauss</span></span>没有明确打开游标的OPEN语句，因为一个游标在使用CURSOR命令定义的时候就打开了。可以通过查询系统视图pg_cursors看到所有可用的游标。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--关闭游标并提交事务。
postgres=# CLOSE cursor1 ; 

--关闭游标并提交事务。
postgres=# CLOSE cursor2 ; 

--关闭游标。
postgres=# CLOSE cursor1 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_sadbffdc6f6b8406399d37562454feb03">CLOSE { cursor_name | ALL } ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_zh-cn_topic_0058966045_b50415059375">cursor_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_ab55aa174eb274fa09ba427525c679b4e">一个待关闭的游标名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_zh-cn_topic_0058966045_b453735489375">ALL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370555__zh-cn_topic_0237122091_zh-cn_topic_0059779164_a237235a2973a481d9a8d956becaeb7ba">关闭所有已打开的游标。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CLUSTER" alias="CLUSTER">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a430ebee5852e4383a8e80d669c2a7398">根据一个索引对表进行聚簇排序。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a9d961cb72eeb4ac6b104f1ae4975c901">CLUSTER指定<span id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_text1469714334413"><span id="ZH-CN_TOPIC_0242370556__text6667165751912">openGauss</span></span>通过索引名指定的索引聚簇由表名指定的表。 表名上必须已经定义该索引。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a00872ed342574f6cacab828f98b81817">当对一个表聚集后，该表将基于索引信息进行物理存储。聚集是一次性操作：当表被更新之后， 更改的内容不会被聚集。也就是说，系统不会试图按照索引顺序对新的存储内容及更新记录进行重新聚集。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a3968b38cb5f64b8fbf4d5e0db715eb56">在对一个表聚簇之后，<span id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_text137091345417"><span id="ZH-CN_TOPIC_0242370556__text138545861911">openGauss</span></span>会记录在哪个索引上建立了聚集。 CLUSTER table_name的聚集形式在之前的同一个索引的表上重新聚集。用户也可以用ALTER TABLE的CLUSTER或SET WITHOUT CLUSTER形式来设置索引来用于后续的聚集操作或清除任何之前的设置。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a4123f8b61bc9449cb97dbee4567d2bd7">不含参数的CLUSTER会将当前用户所拥有的数据库中的先前做过聚簇的所有表重新处理，或者系统管理员调用的这些表。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_adbd99e67a15348e1be7919023d92f704">在对一个表进行聚簇的时候，会在其上请求一个ACCESS EXCLUSIVE锁。这样就避免了在CLUSTER完成之前对此表执行其它的操作(包括读写)。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_p1096825613104">只有行存B-tree索引支持CLUSTER操作。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_aa04718e3e6ca4cee9a3de92cb3556b84">如果用户只是随机访问表中的行，那么表中数据的实际存储顺序是无关紧要的。但是， 如果对某些数据的访问多于其它数据，而且有一个索引将这些数据分组， 那么将使用CLUSTER中会有所帮助。如果从一个表中请求一定索引范围的值， 或者是一个索引值对应多行，CLUSTER也会有助于应用，因为如果索引标识出第一匹配行所在的存储页，所有其它行也可能已经在同一个存储页里了，这样便节省了磁盘访问的时间，加速了查询。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_aabc77925be4c4cc98102c71a303d4580">在聚簇过程中，系统先创建一个按照索引顺序建立的表的临时拷贝。同时也建立表上的每个索引的临时拷贝。因此，需要磁盘上有足够的剩余空间， 至少是表大小和索引大小的和。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a82b4b4f2f20a4c1292a7f12850d64801">因为CLUSTER记忆聚集信息，可以在第一次的时候手工对表进行聚簇，然后设置一个类似VACUUM的时间，这样就可以周期地自动对表进行聚簇操作。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a4932707e0c2c4bb8bff0bc83c78a1db2">因为优化器记录着有关表的排序的统计，所以建议在新近聚簇的表上运行ANALYZE。否则，优化器可能会选择很差劲的查询规划。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_zh-cn_topic_0058965844_p984181111631">CLUSTER不允许在事务中执行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">-- 对表tpcds.inventory_p1进行聚集。
postgres=# CLUSTER tpcds.inventory_p1 USING ds_inventory_p1_index1 ; 

-- 对分区p3进行聚集。
postgres=# CLUSTER tpcds.inventory_p1 PARTITION ( p3 ) USING ds_inventory_p1_index1 ; 

-- 对数据库中可以进行聚集的表进聚集。
postgres=# CLUSTER ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_u6571ecd8c68144bebd180d29432c0fb7"><li id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_lbdbc2ccf001844308d0ac56e6f2016f7">对一个表进行聚簇排序。<pre class="screen" id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_s1c7327604d184ac0bb0a6ebf73929d91">CLUSTER [ VERBOSE ] table_name [ USING index_name ];</pre>
</li><li id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_l33e0c947d6694e77857d92719e3e2b17">对一个分区进行聚簇排序。<pre class="screen" id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_s16cf90e158bf42819bfb0af8d4844348">CLUSTER [ VERBOSE ] table_name PARTITION ( partition_name ) [ USING index_name ];</pre>
</li><li id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_l089d9ee92a454f3aa6cfb6a796fb5302">对已做过聚簇的表重新进行聚簇。<pre class="screen" id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_s1fef1ea5f9ce4245b23a3d27862d31b0">CLUSTER [ VERBOSE ];</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_zh-cn_topic_0058965844_b566009879388">VERBOSE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a84b873887d5943ac9fe3b2aec8bcfcc7">启用显示进度信息。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_zh-cn_topic_0058965844_b396468429388">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_zh-cn_topic_0058965844_p39132993842">表名称。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a9a3ee1f4bed34fce9e0bfaae906f2aa6">取值范围：已存在的表名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_zh-cn_topic_0058965844_b212772599388">index_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_zh-cn_topic_0058965844_p523544519391">索引名称。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_acfb238d4282f4a99a10d8e73c004cc2f">取值范围：已存在的索引名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_zh-cn_topic_0058965844_b572776099388">partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a5fbae8db6b0642cfa1ae2041e22aeb2f">分区名称。</p>
<p id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_a69d94411fc044f138762386bbfe0795c">取值范围：已存在的分区名称。</p>
</div></ul></div>]]></suggestion>
    <sub id="cluster">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_ul1293535310145"><li id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_li16935753111420">建议在新近聚簇的表上运行ANALYZE。否则，优化器可能会选择很差劲的查询规划。</li><li id="ZH-CN_TOPIC_0242370556__zh-cn_topic_0237122092_zh-cn_topic_0059778981_li14935253101418">不允许在事务中执行CLUSTER。</li></ul>
]]></suggestion>
    </sub>
  </command>
  <command id="COMMENT" alias="COMMENT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_p172689572135">定义或修改一个对象的注释。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_ul153514440147"><li id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_li1535124416149">每个对象只存储一条注释，因此要修改一个注释，对同一个对象发出一条新的COMMENT命令即可。要删除注释，在文本字符串的位置写上NULL即可。当删除对象时，注释自动被删除掉。</li><li id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_li653517447142">目前注释浏览没有安全机制：任何连接到某数据库上的用户都可以看到所有该数据库对象的注释。共享对象（比如数据库、角色、表空间）的注释是全局存储的，连接到任何数据库的任何用户都可以看到它们。因此，不要在注释里存放与安全有关的敏感信息。</li><li id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_li1535174419141">对大多数对象，只有对象的所有者可以设置注释。角色没有所有者，所以COMMENT ON ROLE命令仅可以由系统管理员对系统管理员角色执行，有CREATEROLE权限的角色也可以为非系统管理员角色设置注释。系统管理员可以对所有对象进行注释。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">-- 为tpcds.customer_demographics_t2.cd_demo_sk列加注释。
postgres=# COMMENT ON COLUMN tpcds.customer_demographics_t2.cd_demo_sk IS ' Primary key of customer demographics table. ' ; 

-- 为tpcds.customer_details_view_v2视图加注释。
postgres=# COMMENT ON VIEW tpcds.customer_details_view_v2 IS ' View of customer detail ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_s64e99f9a8c764b279a9d51db297790f0">COMMENT ON
{
  AGGREGATE agg_name (agg_type [, ...] ) |
  CAST (source_type AS target_type) |
  COLLATION object_name |
  COLUMN { table_name.column_name | view_name.column_name } |
  CONSTRAINT constraint_name ON table_name |
  CONVERSION object_name |
  DATABASE object_name |
  DOMAIN object_name |
  EXTENSION object_name |
  FOREIGN DATA WRAPPER object_name |
  FOREIGN TABLE object_name |
  FUNCTION function_name ( [ {[ argmode ] [ argname ] argtype} [, ...] ] ) |
  INDEX object_name |
  LARGE OBJECT large_object_oid |
  OPERATOR operator_name (left_type, right_type) |
  OPERATOR CLASS object_name USING index_method |
  OPERATOR FAMILY object_name USING index_method |
  [ PROCEDURAL ] LANGUAGE object_name |
  ROLE object_name |
  SCHEMA object_name |
  SERVER object_name |
  TABLE object_name |
  TABLESPACE object_name |
  TEXT SEARCH CONFIGURATION object_name |
  TEXT SEARCH DICTIONARY object_name |
  TEXT SEARCH PARSER object_name |
  TEXT SEARCH TEMPLATE object_name |
  TYPE object_name |
  VIEW object_name
}
   IS 'text';</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a26951d15aa5b421bb50a4e57138a1e99">agg_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a8443473c2cf441a8ba2e2dfcd036bf18">聚集函数的名称</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a5d50df9ab9be41f19d336e82d4210e34">agg_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_acae270d8f9d84cc8a2187a1184ed8af5">聚集函数参数的类型</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_aa4e64488342341b4883581eddebda2d4">source_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_p50469879143612">类型转换的源数据类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_aaaee5fef5e364325bb715bc2b1321508">target_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_p54539681143642">类型转换的目标数据类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_af9497bea344247028169ba0d4df32ad6">object_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a67d8c54f4a544e9dab73317c89281899">对象名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a437a8cbfe5264ac9a7cb499040a6125b">table_name.column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a7fbc13e1a19e4f8d92632f804974498b"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_zh-cn_topic_0058965543_b564741410527">view_name.column_name</strong></p>
<p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_zh-cn_topic_0058965543_p600266561019">定义/修改注释的列名称。前缀可加表名称或者视图名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a4d418b82fab84f19ac98fda6c10a35d2">constraint_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a9eb652abd360446ba44fad74df31c997">定义/修改注释的表约束的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a611d26e85fb0493e97a1bd2a9b35cbc3">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a3e0fa33e1fd14bce831e774bd5987b27">表的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a13562ba6bb1b4dd8a817cd1758b8fd41">function_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_ab1c1855f3bde492db3a164f8ecbbfae9">定义/修改注释的函数名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a490d6adc80764b169b80b839d34f6d01">argmode,argname,argtype</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a51d489ac1c8646789b08c98b6873e651">函数参数的模式、名称、类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a02533783aea64b12a0fc982c4828baa0">large_object_oid</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a6592789e8b174c3b9b8745ec57929136">定义/修改注释的大对象的OID值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_ac35f07c13d55419abcd6aa1f353f6dac">operator_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_ad07cccc364304b23a87981440455f563">操作符名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a7fa357c98941473590f9856ae4504635">left_type,right_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_ac471a02661d5496d8074fbdb0c258988">操作参数的数据类型（可以用模式修饰）。当前置或者后置操作符不存在时，可以增加NONE选项。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_aee4b256cb2f641e5bf4334ba9441f384">text</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370557__zh-cn_topic_0237122093_zh-cn_topic_0059778518_a9c7a33e4708f4f4ab6492798d7e06604">注释。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="COMMIT" alias="COMMIT | END">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_ae3f6fef32aeb41409d597eb9da7aae0d">通过COMMIT或者END可完成提交事务的功能，即提交事务的所有操作。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a3adde0dfc4434239a158d3020f8625f5">执行COMMIT这个命令的时候，命令执行者必须是该事务的创建者或系统管理员，且创建和提交操作可以不在同一个会话中。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建表。
postgres=# CREATE TABLE tpcds.customer_demographics_t2
 ( 
CD_DEMO_SK INTEGER NOT NULL , 
CD_GENDER CHAR ( 1 ) , 
CD_MARITAL_STATUS CHAR ( 1 ) , 
CD_EDUCATION_STATUS CHAR ( 20 ) , 
CD_PURCHASE_ESTIMATE INTEGER , 
CD_CREDIT_RATING CHAR ( 10 ) , 
CD_DEP_COUNT INTEGER , 
CD_DEP_EMPLOYED_COUNT INTEGER , 
CD_DEP_COLLEGE_COUNT INTEGER
 ) 
WITH ( ORIENTATION = COLUMN , COMPRESSION=MIDDLE ) 
 ; 

--开启事务。
postgres=# START TRANSACTION ; 

--插入数据。
postgres=# INSERT INTO tpcds.customer_demographics_t2 VALUES ( 1 , ' M ' , ' U ' , ' DOCTOR DEGREE ' , 1200 , ' GOOD ' , 1 , 0 , 0 ) ; 
postgres=# INSERT INTO tpcds.customer_demographics_t2 VALUES ( 2 , ' F ' , ' U ' , ' MASTER DEGREE ' , 300 , ' BAD ' , 1 , 0 , 0 ) ; 

--提交事务，让所有更改永久化。
postgres=# COMMIT ; 

--查询数据。
postgres=# SELECT * FROM tpcds.customer_demographics_t2 ; 

--删除表tpcds.customer_demographics_t2。
postgres=# DROP TABLE tpcds.customer_demographics_t2 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_s70cc6b960280465e99b4cab6e166f2dc">{ COMMIT | END } [ WORK | TRANSACTION ] ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a4f7727f4fa5949f78da127cf25ce2769">COMMIT | END</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a1c4174ab447847119b140955600f4dad">提交当前事务，让所有当前事务的更改为其他事务可见。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a8caf1348250849ceba105635bb69239b">WORK | TRANSACTION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a1f1a8c4f3c564f1ca177d49618315784">可选关键字，除了增加可读性没有其他任何作用。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="END" alias="COMMIT | END">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_ae3f6fef32aeb41409d597eb9da7aae0d">通过COMMIT或者END可完成提交事务的功能，即提交事务的所有操作。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a3adde0dfc4434239a158d3020f8625f5">执行COMMIT这个命令的时候，命令执行者必须是该事务的创建者或系统管理员，且创建和提交操作可以不在同一个会话中。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建表。
postgres=# CREATE TABLE tpcds.customer_demographics_t2
 ( 
CD_DEMO_SK INTEGER NOT NULL , 
CD_GENDER CHAR ( 1 ) , 
CD_MARITAL_STATUS CHAR ( 1 ) , 
CD_EDUCATION_STATUS CHAR ( 20 ) , 
CD_PURCHASE_ESTIMATE INTEGER , 
CD_CREDIT_RATING CHAR ( 10 ) , 
CD_DEP_COUNT INTEGER , 
CD_DEP_EMPLOYED_COUNT INTEGER , 
CD_DEP_COLLEGE_COUNT INTEGER
 ) 
WITH ( ORIENTATION = COLUMN , COMPRESSION=MIDDLE ) 
 ; 

--开启事务。
postgres=# START TRANSACTION ; 

--插入数据。
postgres=# INSERT INTO tpcds.customer_demographics_t2 VALUES ( 1 , ' M ' , ' U ' , ' DOCTOR DEGREE ' , 1200 , ' GOOD ' , 1 , 0 , 0 ) ; 
postgres=# INSERT INTO tpcds.customer_demographics_t2 VALUES ( 2 , ' F ' , ' U ' , ' MASTER DEGREE ' , 300 , ' BAD ' , 1 , 0 , 0 ) ; 

--提交事务，让所有更改永久化。
postgres=# COMMIT ; 

--查询数据。
postgres=# SELECT * FROM tpcds.customer_demographics_t2 ; 

--删除表tpcds.customer_demographics_t2。
postgres=# DROP TABLE tpcds.customer_demographics_t2 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_s70cc6b960280465e99b4cab6e166f2dc">{ COMMIT | END } [ WORK | TRANSACTION ] ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a4f7727f4fa5949f78da127cf25ce2769">COMMIT | END</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a1c4174ab447847119b140955600f4dad">提交当前事务，让所有当前事务的更改为其他事务可见。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a8caf1348250849ceba105635bb69239b">WORK | TRANSACTION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370558__zh-cn_topic_0237122094_zh-cn_topic_0059779032_a1f1a8c4f3c564f1ca177d49618315784">可选关键字，除了增加可读性没有其他任何作用。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="COMMIT PREPARED" alias="COMMIT PREPARED">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_ace2d63cf1f68468296c2941a397573da">提交一个早先为两阶段提交准备好的事务。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_u278a550b1be94d05a0aa7241969bfb2d"><li id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_l46dc9e0f0583400185d58d1e52434a4c">该功能仅在维护模式(GUC参数xc_maintenance_mode为on时)下可用。该模式谨慎打开，一般供维护人员排查问题使用，一般用户不应使用该模式。</li><li id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_ld1ce933e4d1a40759a51373434e12f97">命令执行者必须是该事务的创建者或系统管理员，且创建和提交操作可以不在同一个会话中。</li><li id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_l3995302d645c484fb6d469eaf07c6cec">事务功能由数据库自动维护，不应显式使用事务功能。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--提交标识符为的trans_test的事务。
postgres=# COMMIT PREPARED ' trans_test ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_sa8ea2f338a2040b79e60c01598058605">COMMIT PREPARED transaction_id ;
COMMIT PREPARED transaction_id WITH CSN;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_a51c2238c9cf748f1b095430ca5f3a85e">transaction_id</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_zh-cn_topic_0059777686_a24409ea52f964894a57cafa94fc744aa">待提交事务的标识符。它不能和任何当前预备事务已经使用了的标识符同名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_b17854104819212">CSN(commit sequence number)</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370559__zh-cn_topic_0237122095_p173875615285">待提交事务的序列号。它是一个64位递增无符号数。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="COPY" alias="COPY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ab385066e993f457c81910a7ca8f8ab30">通过COPY命令实现在表和文件之间拷贝数据。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a04835de396534fb89e44b459a1dbb06b">COPY FROM从一个文件拷贝数据到一个表，COPY TO把一个表的数据拷贝到一个文件。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u5b75d54c25df474d9b5bcd172a901000"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_li14562519101419">执行COPY FROM FILENAME或COPY TO FILENAME语句需要SYSADMIN权限，但默认禁止SYSADMIN用户对数据库配置文件，密钥文件，证书文件和审计日志执行COPY FROM FILENAME或COPY TO FILENAME，以防止SYSADMIN用户越权查看或修改敏感文件。放开这一权限需要通过更改enable_copy_server_files的设定来完成。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l2bba515ade1245428278a522f0512d42">COPY只能用于表，不能用于视图。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lf1b6e51189a44466bdad746efc610136">对任何要插入数据的表必须有插入权限。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l55966d811d6c4fcda902544c78545b99">如果声明了一个字段列表，COPY将只在文件和表之间拷贝已声明字段的数据。如果表中有任何不在字段列表里的字段，COPY FROM将为那些字段插入缺省值。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l0df59ad94fd24dcdaca16a54fc9ca4dc">如果声明了数据源文件，服务器必须可以访问该文件；如果指定了STDIN，数据将在客户前端和服务器之间流动，输入时，表的列与列之间使用TAB键分隔，在新的一行中以反斜杠和句点（\.）表示输入结束。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lc3a5024f38194778952f53143cb75f52">如果数据文件的任意行包含比预期多或者少的字段，COPY FROM将抛出一个错误。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l02af1b9071cd4fe38f05d07f12ef6ef2">数据的结束可以用一个只包含反斜杠和句点（\.）的行表示。如果从文件中读取数据，数据结束的标记是不必要的；如果在客户端应用之间拷贝数据，必须要有结束标记。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lca9b3776aa364ca7a99dbf187c0fb3f8">COPY FROM中\N为空字符串，如果要输入实际数据值\N ，使用\\N。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--将tpcds.ship_mode中的数据拷贝到/home/omm/ds_ship_mode.dat文件中。
postgres=# COPY tpcds.ship_mode TO ' /home/omm/ds_ship_mode.dat ' ; 

--将tpcds.ship_mode 输出到stdout。
postgres=# COPY tpcds.ship_mode TO stdout;

--从stdin拷贝数据到表tpcds.ship_mode_t1。
postgres=# COPY tpcds.ship_mode_t1 FROM stdin ; 

--从/home/omm/ds_ship_mode.dat文件拷贝数据到表tpcds.ship_mode_t1。
postgres=# COPY tpcds.ship_mode_t1 FROM ' /home/omm/ds_ship_mode.dat ' ; 

--从/home/omm/ds_ship_mode.dat文件拷贝数据到表tpcds.ship_mode_t1，使用参数如下：导入格式为TEXT（format 'text'），分隔符为'\t'（delimiter E'\t'），忽略多余列（ignore_extra_data 'true'），不指定转义（noescaping 'true'）。
postgres=# COPY tpcds.ship_mode_t1 FROM ' /home/omm/ds_ship_mode.dat ' WITH ( format ' text ' , delimiter E ' \t ' , ignore_extra_data ' true ' , noescaping ' true ' ) ; 

--从/home/omm/ds_ship_mode.dat文件拷贝数据到表tpcds.ship_mode_t1，使用参数如下：导入格式为FIXED（FIXED），指定定长格式（FORMATTER ( SM_SHIP_MODE_SK ( 0, 2 ) , SM_SHIP_MODE_ID ( 2,16 ) , SM_TYPE ( 18,30 ) , SM_CODE ( 50,10 ) , SM_CARRIER ( 61,20 ) , SM_CONTRACT ( 82,20 ) ) ），忽略多余列（ignore_extra_data），有数据头（header）。
postgres=# COPY tpcds.ship_mode_t1 FROM ' /home/omm/ds_ship_mode.dat ' FIXED FORMATTER ( SM_SHIP_MODE_SK ( 0 , 2 ) , SM_SHIP_MODE_ID ( 2 , 16 ) , SM_TYPE ( 18 , 30 ) , SM_CODE ( 50 , 10 ) , SM_CARRIER ( 61 , 20 ) , SM_CONTRACT ( 82 , 20 ) ) header ignore_extra_data ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ufd01764ba1ca443598de38cc3b9822f3"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l869fe9d052d5459c9516aa134efdff61">从一个文件拷贝数据到一个表。<pre class="screen" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_s7697a04b4fcb4a35b9d202fa52caf9a8">COPY table_name [ ( column_name [, ...] ) ] 
    FROM { 'filename' | STDIN }
    [ [ USING ] DELIMITERS 'delimiters' ]
    [ WITHOUT ESCAPING ]
    [ LOG ERRORS ]
    [ REJECT LIMIT 'limit' ]
    [ WITH ( option [, ...] ) ]
    | copy_option
    | FIXED FORMATTER ( { column_name( offset, length ) } [, ...] ) [ ( option [, ...] ) | copy_option [  ...] ] ];</pre>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_nbb017632b7624a1f8e615bed02001c88"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a0b8cff3238b64f4d95cd9e46a711c932">语法中的FIXED FORMATTER ( { column_name( offset, length ) } [, ...] )以及 [ ( option [, ...] ) | copy_option [ ...] ] 可以任意排列组合。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l1d56f86ddb6e440d8264e9e33dfd17ee">把一个表的数据拷贝到一个文件。<pre class="screen" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_sc35032aba853470f9a19acc9367f37cd">COPY table_name [ ( column_name [, ...] ) ]
    TO { 'filename' | STDOUT }
    [ [ USING ] DELIMITERS 'delimiters' ]
    [ WITHOUT ESCAPING ]
    [ WITH ( option [, ...] ) ]
    | copy_option
    | FIXED FORMATTER ( { column_name( offset, length ) } [, ...] ) [ ( option [, ...] ) | copy_option [  ...] ] ];

COPY query
    TO { 'filename' | STDOUT }
    [ WITHOUT ESCAPING ]
    [ WITH ( option [, ...] ) ]
    | copy_option
    | FIXED FORMATTER ( { column_name( offset, length ) } [, ...] ) [ ( option [, ...] ) | copy_option [  ...] ] ];</pre>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n1f7c22e91fdf4a34a7c5ac5fba36a789"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ol id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_oe47cc390f9374ac999248b52289be9f9"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_la622799c479b4654937e09d586bf5469">COPY TO语法形式约束如下：<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a910273cc7db24bd2979fb9bd103b7162">(query)与[USING] DELIMITER不兼容，即若COPY TO的数据来自于一个query的查询结果，那么COPY TO语法不能再指定[USING] DELIMITERS语法子句。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_le8af7ba60f624a6faaa422848ae262d3">对于FIXED FORMATTTER语法后面跟随的copy_option是以空格进行分隔的。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l62bfeefd48f64879ae52301c4d31cbf2">copy_option是指COPY原生的参数形式，而option是兼容外表导入的参数形式。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6d826b9bcf3140ecb92d407d27641519">语法中的FIXED FORMATTER ( { column_name( offset, length ) } [, ...] )以及 [ ( option [, ...] ) | copy_option [ ...] ] 可以任意排列组合。</li></ol>
</div></div>
<div class="p" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p9816315484">其中可选参数option子句语法为：<pre class="screen" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_s748d0660a6724e559ff0209498fd8fd3">FORMAT 'format_name'
| OIDS [ boolean ]
| DELIMITER 'delimiter_character'
| NULL 'null_string'
| HEADER [ boolean ]
| FILEHEADER 'header_file_string'
| FREEZE [ boolean ]
| QUOTE 'quote_character'
| ESCAPE 'escape_character'
| EOL 'newline_character'
| NOESCAPING [ boolean ]
| FORCE_QUOTE { ( column_name [, ...] ) | * }
| FORCE_NOT_NULL ( column_name [, ...] )
| ENCODING 'encoding_name'
| IGNORE_EXTRA_DATA [ boolean ]
| FILL_MISSING_FIELDS [ boolean ]
| COMPATIBLE_ILLEGAL_CHARS [ boolean ]
| DATE_FORMAT 'date_format_string'
| TIME_FORMAT 'time_format_string'
| TIMESTAMP_FORMAT 'timestamp_format_string'
| SMALLDATETIME_FORMAT 'smalldatetime_format_string'</pre>
</div>
<div class="p" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p16427156184817">其中可选参数copy_option子句语法为：<pre class="screen" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_sdc2cf02c9a61404c9c84db4967434381">OIDS 
| NULL 'null_string' 
| HEADER 
| FILEHEADER 'header_file_string' 
| FREEZE 
| FORCE_NOT_NULL column_name [, ...]
| FORCE_QUOTE { column_name [, ...] | * }
| BINARY 
| CSV 
| QUOTE [ AS ] 'quote_character' 
| ESCAPE [ AS ] 'escape_character' 
| EOL 'newline_character'
| ENCODING 'encoding_name' 
| IGNORE_EXTRA_DATA 
| FILL_MISSING_FIELDS
| COMPATIBLE_ILLEGAL_CHARS 
| DATE_FORMAT 'date_format_string' 
| TIME_FORMAT 'time_format_string' 
| TIMESTAMP_FORMAT 'timestamp_format_string' 
| SMALLDATETIME_FORMAT 'smalldatetime_format_string'</pre>
</div>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a352c10221b76459ca09d82e2137969a2">query</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p36571599492">其结果将被拷贝。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p348024459495">取值范围：一个必须用圆括弧包围的SELECT或VALUES命令。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_af5d3328ef85146c99b11bef5b98405b7">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p262108194924">表的名称（可以有模式修饰）。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_afc702c360a584b5395f5c843f9f1bbe3">取值范围：已存在的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a22b3160f21ab4ae58154de28ef138657">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p904491195133">可选的待拷贝字段列表。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_acdbf6092ddc6454bb6c777545a2860f2">取值范围：如果没有声明字段列表，将使用所有字段。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a5c0173f9438a47ad90267ad58e120530">STDIN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p453547719581">声明输入是来自标准输入。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aa4142c1dbfde4808b37aaf38fe6b1df1">STDOUT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_af1b22e2ab97d4ec7a406e8abcfa8f077">声明输出打印到标准输出。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a71f85fb67ac2477d94d6853a5d37ba88">FIXED</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a3034825bc3724e67a463a2a8cde1121b">打开字段固定长度模式。在字段固定长度模式下，不能声明DELIMITER，NULL，CSV选项。指定FIXED类型后，不能再通过option或copy_option指定BINARY、CSV、TEXT等类型。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ne4bb79394f034823b82591e346768fab"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a3a95854fc90b4ae492eb2f6984cc682d">定长格式定义如下：</p>
<ol id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_o1b0bd419f64d49a6ad579ec0a8aa662f"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l959fb806cfa74e75b0c1c3ced22064a5">每条记录的每个字段长度相同。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lfe8298d0c4a44c839bada254f1d6dbb3">长度不足的字段以空格填充，数字类型字段左对齐，字符字段右对齐。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lb9914bad30244000b76e6c515d8c6342">字段和字段之间没有分隔符。</li></ol>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_b191741516451">[USING] DELIMITER 'delimiters'</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_p268519516511">在文件中分隔各个字段的字符串，分隔符最大长度不超过10个字节。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_p3685855520">取值范围：不允许包含\.abcdefghijklmnopqrstuvwxyz0123456789中的任何一个字符。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_p4685651259">缺省值：在文本模式下，缺省是水平制表符，在CSV模式下是一个逗号。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_b59405640171031">WITHOUT ESCAPING</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_p16995541163">在TEXT格式中，不对'\'和后面的字符进行转义。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_p199951641163">取值范围：仅支持TEXT格式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_b154483962017">LOG ERRORS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p20441039102010">若指定，则开启对于COPY FROM语句中数据类型错误的容错机制，相关错误行的错误记录会记录到此库中public.pgxc_copy_error_log表中，备后续查阅。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p16441139142010">取值范围：仅支持导入（即COPY FROM）时指定。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_note5441539192013"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p12601239142019">此容错选项的使用限制如下：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_ul44335573167"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li106033922016">此容错机制仅捕捉COPY FROM过程中数据库主节点上数据解析过程中相关的数据类型错误（DATA_EXCEPTION）。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li1787012318175">在每个库第一次使用时COPY FROM容错时，请先行检查public.pgxc_copy_error_log（COPY错误表）是否存在，若不存在请调用copy_error_log_create() 函数创建；若存在，请转移此表数据并删除这张表后，调用copy_error_log_create() 函数创建。更多关于表public.pgxc_copy_error_log的字段信息，请参见<a>表1</a>。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li287051141720">若在指定了LOG ERRORS的COPY FROM运行时，public.pgxc_copy_error_log不存在（未创建或者已删除）或表定义不符合copy_error_log_create() 中的预设表定义，则会报错。因此请确定此COPY错误表是使用copy_error_log_create() 函数创建的，否则可能导致容错的COPY FROM语句无法正常执行。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li1241701719174">COPY已有的容错选项（如IGNORE_EXTRA_DATA）开启时，对应类型的错误会按照已有的方式处理而不会报出异常，因此错误表也不会有相应数据。</li></ul>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_b538161714267">LOG ERRORS DATA</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_p16951155103018">LOG ERRORS DATA和LOG ERRORS的区别:</p>
<ol id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_ol15607114310526"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_li560854315523">LOG ERRORS DATA会填充容错表的rawrecord字段。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_li199024619520">只有supper权限的用户才能使用LOG ERRORS DATA参数选项。<div class="caution" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_note1565131519919"><span class="cautiontitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/caution_3.0-zh-cn.png"> </span><div class="cautionbody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_p22629199593">使用<strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0085032376_b16899536135919">“LOG ERRORS DATA”</strong>时，若错误内容过于复杂可能存在写入容错表失败的风险，导致任务失败。</p>
</div></div>
</li></ol>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_b1540919443400">REJECT LIMIT <strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_b155977171310">'</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'>limit'</strong><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p870619211303">与LOG ERROR选项共同使用，对COPY FROM的容错机制设置数值上限，一旦此COPY FROM语句错误数据超过选项指定条数，则会按照原有机制报错。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p1670852114013">取值范围：正整数（1-INTMAX），'unlimited'（无最大值限制）</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p414213351743">缺省值：若未指定LOG ERRORS，则会报错；若指定LOG ERRORS，则默认为0。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_note19362145221020"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p19371115241018">如上述LOG ERRORS中描述的容错机制，REJECT LIMIT的计数也是按照执行COPY FROM的<span id="ZH-CN_TOPIC_0242370560__text165783381394">数据库主节点</span>上遇到的解析错误数量计算，而不是数据库节点的错误数量。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aeb1f4b3e81fe4f668ea7467a9bc0c663">FORMATTER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aa882f17fcf3e4ae5a9a3e78c3faa55c0">在固定长度模式中，定义每一个字段在数据文件中的位置。按照column(offset,length)格式定义每一列在数据文件中的位置。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p980472795842">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u0933f4d040f9470ab0094a7220cf93d6"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_la366af54b85f4b6ea77f66278aab7f13">offset取值不能小于0，以字节为单位。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l7a5b75fbe6c54679856dab041fe66453">length取值不能小于0，以字节为单位。</li></ul>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ac38106c4a8094d3e9189e5db0ac09d22">所有列的总长度和不能大于1GB。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a91677c5728a24e88858e4bc642092463">文件中没有出现的列默认以空值代替。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a565c94c253ef4d84a8e78933feda7c1a">OPTION { option_name ' value '  }</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a3bda79075f1c43eb8ac0905829cf4874">用于指定兼容外表的各类参数。</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_uab2eac5860524f798fcc760332c2a0f0"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l4a19396d1b2f4e5d9e24f1ec3a05fd50">FORMAT<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a1a10639d6e984b259236d1b125678b3b">数据源文件的格式。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a7b7e9a60e0a74ce0a0e36a1561dcdf98">取值范围：CSV、TEXT、FIXED、BINARY。</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u35cf10a82ccf4101a0edf4d8ff5fb162"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l09c3388cd5794f2dafb292bb01ddc5d2">CSV格式的文件，可以有效处理数据列中的换行符，但对一些特殊字符处理有欠缺。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l042bd8f10fa64c0087c044773b243a23">TEXT格式的文件，可以有效处理一些特殊字符，但无法正确处理数据列中的换行符。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l9335c2007ab2403b93216a712ac43334">FIXED格式的文件，适用于每条数据的数据列都比较固定的数据，长度不足的列会添加空格补齐，过长的列则会自动截断。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l0a26a0118ba840f48b7ba862abebb8fc">BINARY形式的选项会使得所有的数据被存储/读作二进制格式而不是文本。 这比TEXT和CSV格式的要快一些，但是一个BINARY格式文件可移植性比较差。</li></ul>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a14a3921d2ae945fbb5a856a41b79a0b2">缺省值：TEXT</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_le3f16999f274421fbff626cba4961f6b">DELIMITER<div class="p" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a9d51a256cd1642dcae7247d1d4d42f6c">指定数据文件行数据的字段分隔符。<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n096cd64f14764997b30f1f3cca3c82e5"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ub4e34f8023a44f0ca7cfe3ecf05a48e0"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l7e9ffb7d6bdb4a5d8749d89620efb268">分隔符不能是\r和\n。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l4336a4b5c4f54425a298f131a0eb821e">分隔符不能和null参数相同，CSV格式数据的分隔符不能和quote参数相同。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lc57762a83db2467cb8e26bb1765f0741">TEXT格式数据的分隔符不能包含： 小写字母、数字和特殊字符.\。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lc921f61ed4674fe68976892221e0c994">数据文件中单行数据长度需&lt;1GB，如果分隔符较长且数据列较多的情况下，会影响导出有效数据的长度。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l9f4eba4fea3345b58753c0596d90c3ae">分隔符推荐使用多字符和不可见字符。多字符例如'$^&amp;'；不可见字符例如0x07，0x08，0x1b等。</li></ul>
</div></div>
</div>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ae29891cd5b4642e2979f475abe752c3c">取值范围：支持多字符分隔符，但分隔符不能超过10个字节。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a9db743afc3e245598c2c0c3fb7f34803">缺省值：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_uf200c9a031574c0888d0dbeab32fc9d0"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l99bce47359d444f4ba4bc865bdca0f42">TEXT格式的默认分隔符是水平制表符（tab）。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l2352d2750f864691a0e5a9d49bb749cb">CSV格式的默认分隔符为“,”。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l7ee5e81f9f35445ba22beb448fd7c50a">FIXED格式没有分隔符。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l51825abc2dfc46c39cd827422a41f402">NULL<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a3fda2e701e7743b28043cfa3fd901821">用来指定数据文件中空值的表示。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ab30c22724e8141b2a752d58b9daacaa9">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u16b4e2cf52df41a4bde1bcf8efd64408"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lc51e61b90b1a4c6a8ad99b03bb6a011a">null值不能是\r和\n，最大为100个字符。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l4b1710cadb0249d8a4a09b9838238b4e">null值不能和分隔符、quote参数相同。</li></ul>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p470821112930">缺省值：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ubf1be6a3bb644ceabc7bf6c8d937ccf2"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l2d63dd5681e545e3b9d2cf8f87c9c6c5">CSV格式下默认值是一个没有引号的空字符串。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lf1dfa0e435084a37a14fff2361468ed6">在TEXT格式下默认值是\N。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l937564f7eb774103b8b3506494ba646e">HEADER<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aa693140705f0417d94dba9aabd3600ac">指定导出数据文件是否包含标题行，标题行一般用来描述表中每个字段的信息。header只能用于CSV，FIXED格式的文件中。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a98472f9fc508497582829748291b74e7">在导入数据时，如果header选项为on，则数据文本第一行会被识别为标题行，会忽略此行。如果header为off，而数据文件中第一行会被识别为数据。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ac7e348f5b5994ddc93758f86f9402827">在导出数据时，如果header选项为on，则需要指定fileheader。如果header为off，则导出数据文件不包含标题行。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_abffe29d4acd44a0293b1755257e17e4b">取值范围：true/on，false/off。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_af9a26cd780f442df8e22ef60c363cd5b">缺省值：false</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l0a97cff860044701a2b4f255e182cfc7">QUOTE<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a59dde19aea7e4a25babb094c44404527">CSV格式文件下的引号字符。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a2fdf3f0f4d864603ade00d596fa4971f">缺省值：双引号</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_neb683cce9fe44ec4bf10431afc3dcf4b"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u093bbc1d5cd44f848d510938e130d178"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ld6157157bb0644568a389fb2c86005a6">quote参数不能和分隔符、null参数相同。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ld7cd38d9ca8649508900308131219656">quote参数只能是单字节的字符。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l02c5720938c64f83ad167ad5471d85d7">推荐不可见字符作为quote，例如0x07，0x08，0x1b等。</li></ul>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l77f43e9956d041e68bf13aec95afb412">ESCAPE<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ad0077cf532db49a7b2f1aa4541341611">CSV格式下，用来指定逃逸字符，逃逸字符只能指定为单字节字符。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a3bce18a3e5874b1b9546c77e392796ba">缺省值：双引号。当与quote值相同时，会被替换为'\0'。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li1968610514119">EOL 'newline_character'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p146921450411">指定导入导出数据文件换行符样式。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p18695175184113">取值范围：支持多字符换行符，但换行符不能超过10个字节。常见的换行符，如\r、\n、\r\n（设成0x0D、0x0A、0x0D0A效果是相同的），其他字符或字符串，如$、#。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_note1244681614431"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_ul344811161432"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li104171424719">EOL参数只能用于TEXT格式的导入导出，不支持CSV格式和FIXED格式导入。为了兼容原有EOL参数，仍然支持导出CSV格式和FIXED格式时指定EOL参数为0x0D或0x0D0A。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li1145113166433">EOL参数不能和分隔符、null参数相同。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li20456216114313">EOL参数不能包含：.abcdefghijklmnopqrstuvwxyz0123456789。</li></ul>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6cf1cc50a45a4819969e5bc0f0ef6b0a">FORCE_QUOTE { ( column_name [, ...] ) | * }<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ab44bab43215f4858a7d431be85ff41bd">在CSV COPY TO模式下，强制在每个声明的字段周围对所有非NULL值都使用引号包围。NULL输出不会被引号包围。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a9a556d079fae4d918b7c0d84b584efbc">取值范围：已存在的字段。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l536b0c6d5be84730904e479b07e80960">FORCE_NOT_NULL ( column_name [, ...] )<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ac30462e6167e49fa8ae8024dd0743321">在CSV COPY FROM模式下，指定的字段输入不能为空。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a2c4d8dd05e634a47b5692bb013ce104e">取值范围：已存在的字段。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_leec253f5fb1c43d788efdde6ac28c841">ENCODING<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aee03025d52e34d71a47fd197f35a5ddd">指定数据文件的编码格式名称，缺省为当前数据库编码格式。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_la9f2b16e79ea4d8d80cfc2b9fc52e806">IGNORE_EXTRA_DATA<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a067a6f08d8f64abb97dcc86f67ea6bd2">若数据源文件比外表定义列数多，是否会忽略对多出的列。该参数只在数据导入过程中使用。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p969924612930">取值范围：true/on、false/off。</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u494e07497a2c49639c52062511ed2aa2"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6a578dd6c6f84c8b86794bcd53aba4d6">参数为true/on，若数据源文件比外表定义列数多，则忽略行尾多出来的列。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l93fea48505e945f98e005fd4f2d262a2">参数为false/off，若数据源文件比外表定义列数多，会显示如下错误信息。<pre class="screen" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_s1d2d76ccb7024db1a1eaa3b101632440">extra data after last expected column</pre>
</li></ul>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a3ca838140bd14db085d9ee1cf0854f5e">缺省值：false。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_nfcca2b5108694bedafd0c942ce0bd1a7"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_afaa3d48876a846de87ac75b5286567bd">如果行尾换行符丢失，使两行变成一行时，设置此参数为true将导致后一行数据被忽略掉。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_la2c66f8b553243a7b97e5285d4b093d6">COMPATIBLE_ILLEGAL_CHARS<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a0aec26dd2a1845e6b85d430fd0591012">导入非法字符容错参数。此语法仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a201b4638b9f541b39c4f6a30ca8f6dce">取值范围：true/on，false/off。</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u67db2ef8a0364854872f5b025061cba3"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l3b4386e4838442d09fb5cf750da2c347">参数为true/on，则导入时遇到非法字符进行容错处理，非法字符转换后入库，不报错，不中断导入。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l7b81fc6e37a845e58798ad3de9878a84">参数为false/off，导入时遇到非法字符进行报错，中断导入。</li></ul>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p110633714748">缺省值：false/off</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n4986358ce89a461b8e5d546de6e45fc0"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a77ecd15486f945c2b03f123f2afa30d5">导入非法字符容错规则如下：</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p121381914748">（1）对于'\0'，容错后转换为空格；</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a8abefcf14cdd4ac6b74eaff2f8e9002d">（2）对于其他非法字符，容错后转换为问号；</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a75d7d4ceb5f441d89a4c4235cbb1c1fc">（3）若compatible_illegal_chars为true/on标识导入时对于非法字符进行容错处理，则若NULL、DELIMITER、QUOTE、ESCAPE设置为空格或问号则会通过如"illegal chars conversion may confuse COPY escape 0x20"等报错信息提示用户修改可能引起混淆的参数以避免导入错误。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_l607e2071eb8f4d03a34836f4cc4027c0">FILL_MISSING_FIELDS<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_a11bda264e0b7422ea97dcafa31a01523">当数据加载时，若数据源文件中一行的最后一个字段缺失的处理方式。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p149381318474">取值范围：true/on，false/off。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_acc08e6d5e7b648ab84e73cec1b62ab37">缺省值：false/off</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l0f6b534301904ae0918cdfa58c764def">DATE_FORMAT<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ae8d2d08d92624bf9bfb7909ec87378c6">导入对于DATE类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a95568499e8b645dfb9e1a2523cd55bef">取值范围：合法DATE格式。可参考<a>时间和日期处理函数和操作符</a>。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n8ac8f6b14b70486e9d46b44f8cc903b0"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p951311212930">对于DATE类型内建为TIMESTAMP类型的数据库，在导入的时候，若需指定格式，可以参考下面的timestamp_format参数。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l8350b1f2060c4c13b6cceccbfc5fa9af">TIME_FORMAT<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aed88db1e3af84b429cbafb3f3483db32">导入对于TIME类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_afd3c2f3ce42d47a2bf243787e550ac72">取值范围：合法TIME格式，不支持时区。可参考<a>时间和日期处理函数和操作符</a>。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lf3290a2138344ec7b87257d8e46a09df">TIMESTAMP_FORMAT<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a0497b051c0f443e2bcf544c32423830d">导入对于TIMESTAMP类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a32944b76178e441ca8001813075ea79d">取值范围：合法TIMESTAMP格式，不支持时区。可参考<a>时间和日期处理函数和操作符</a>。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lc6784d2131d2457287ac9a27e293dfdf">SMALLDATETIME_FORMAT<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aff5b4910508c4c9ba75ed179fe38d918">导入对于SMALLDATETIME类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ac9672c9f83a64f6090eebde573b5082e">取值范围：合法SMALLDATETIME格式。可参考<a>时间和日期处理函数和操作符</a>。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ac8ff7281bad4492cb1b2406133723dd9">COPY_OPTION { option_name ' value '  }</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a20540fd262704905b14082075d554afe">用于指定COPY原生的各类参数。</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_uc3b249d7d25c4b69a7f51f7e6cdb8ef3"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lffbad3b366bc43d49c26377c846f5d9a">NULL null_string<div class="p" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ae1876d5b9dbc405d909d5656e3c62788">用来指定数据文件中空值的表示。<div class="notice" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n6532dd3710e34975b165d4aaa0b45ee9"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a69547de94fb744ed87d09e55dfa2989a">在使用COPY FROM的时候，任何匹配这个字符串的字符串将被存储为NULL值，所以应该确保指定的字符串和COPY TO相同。</p>
</div></div>
</div>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a778f67b85b10437cbfe249df616b0ae6">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u856aa349f2784dcfa51fc072fd5ce93f"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ldd1aae94bc934ddc952eed0b2a486fa5">null值不能是\r和\n，最大为100个字符。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l40782eb180404a5bab6209fe8d431a7a">null值不能和分隔符、quote参数相同。</li></ul>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_af95ad4c48acc4c37b63440631f6fa8d9">缺省值：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_uf78692e9d4354e6ba7624e09c2cd61d4"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l884cf4aece2e4e90acc4c7e8a9c5c791">在TEXT格式下默认值是\N。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l9b3b7ccee00947ac8d29b92818e8083e">CSV格式下默认值是一个没有引号的空字符串。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lbbc1587a2ae844ec8930b8739d74c708">HEADER<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a68296e60231240cbb50a439f1915f521">指定导出数据文件是否包含标题行，标题行一般用来描述表中每个字段的信息。header只能用于CSV，FIXED格式的文件中。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aa72d030caa8f4acfb8936285672a0438">在导入数据时，如果header选项为on，则数据文本第一行会被识别为标题行，会忽略此行。如果header为off，而数据文件中第一行会被识别为数据。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p139685894048">在导出数据时，如果header选项为on，则需要指定fileheader。如果header为off，则导出数据文件不包含标题行。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_le7393751db974f98b9e2117bc19bf6b1">FILEHEADER<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p11846349419">导出数据时用于定义标题行的文件，一般用来描述每一列的数据信息。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n3269ea68e43c4341b4ee207485f180b2"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_udfd0654e33b6413dac4c92a8ed5da66c"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l5e16231b338b400eb944b6af8b9c5966">仅在header为on或true的情况下有效。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l95000857826d4134a2d9d10116b10048">fileheader指定的是绝对路径。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l5808d5eed34d4790af018c5a24142fd2">该文件只能包含一行标题信息，并以换行符结尾，多余的行将被丢弃（标题信息不能包含换行符）。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l99b2c987d6c74d588b4ce1bf9f533e28">该文件包括换行符在内长度不超过1M。</li></ul>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l3e3456c46b45476885e21cae2b6f45a0">FREEZE<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a3679636e1e53477985a91a87cf664914">将COPY加载的数据行设置为已经被frozen，就像这些数据行执行过VACUUM FREEZE。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a8e8370f3b0c24cb7b4f3247335b1fe08">这是一个初始数据加载的性能选项。仅当以下三个条件同时满足时，数据行会被frozen：</p>
<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ue31fd59e5ccf48ab85504b48014455eb"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6a760147158242daa76a713d22f6eca9">在同一事务中create或truncate这张表之后执行COPY。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l0b45261cad434839a399c40cbd541f53">当前事务中没有打开的游标。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l786389f03a8c441aa098df1a52d4fd67">当前事务中没有原有的快照。</li></ul>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ne92e96d408bd4a29b3ed1e4d7cc857f2"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a4ce8e4ab729d460eae7e6839926595b7">COPY完成后，所有其他会话将会立刻看到这些数据。但是这违反了MVCC可见性的一般原则，用户应当了解这样会导致潜在的风险。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6c398392741a4b44b8758b98d271ab0e">FORCE NOT NULL column_name [, ...]<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p618220394257">在CSV COPY FROM模式下，指定的字段不为空。若输入为空，则将视为长度为0的字符串。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_adb6adc5b77114c1eaba9c4c21bcf8c29">取值范围：已存在的字段。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l5ab7216ae4a5402ba753994fc081ede1">FORCE QUOTE { column_name [, ...]  | * }<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a9211cca21a4349b9bf4ba0a57e89e2b7">在CSV COPY TO模式下，强制在每个声明的字段周围对所有非NULL值都使用引号包围。NULL输出不会被引号包围。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a8424193928f84cb1809c2074f0d335fc">取值范围：已存在的字段。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_la7ad3b6655bf48e581fdd6911e38f6f1">BINARY<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a95c9be5539e343dcaf0e3a02376ae326">使用二进制格式存储和读取，而不是以文本的方式。在二进制模式下，不能声明DELIMITER，NULL，CSV选项。指定BINARY类型后，不能再通过option或copy_option指定CSV、FIXED、TEXT等类型。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_li7544294216">CSV<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a6009102cbf684144a414813ecc17a810">打开逗号分隔变量（CSV）模式。指定CSV类型后，不能再通过option或copy_option指定BINARY、FIXED、TEXT等类型。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lde3134495cdd4f789153648e0558c6dc">QUOTE [AS] 'quote_character'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a2e709641eb144e38933e4407167f4dee">CSV格式文件下的引号字符。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a76828179db1949ea9f7e64b6f2a2b677">缺省值：双引号。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n93193a5f75bb416eb5f1a176f259bfa3"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_uc3d2153320ad4903b1eeec8b44c9c7f6"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ld5f41e285adf4529b82e9378997dd74d">quote参数不能和分隔符、null参数相同。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l655df7ed28494b63b64d4702415fefb3">quote参数只能是单字节的字符。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l54b8a9599d0e4bf99caf05423deeb476">推荐不可见字符作为quote，例如0x07，0x08，0x1b等。</li></ul>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l8cbf37e5c3f945d4ae2580523d8b3140">ESCAPE [AS] 'escape_character'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_adbc59042690f4cc685c296bca56f7a1f">CSV格式下，用来指定逃逸字符，逃逸字符只能指定为单字节字符。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a6cd3ad2b26774279b8be98415ea6abb3">默认值为双引号。当与quote值相同时，会被替换为'\0'。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778310_li62201592">EOL 'newline_character'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778310_p9576170152942">指定导入导出数据文件换行符样式。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778310_p19076673152942">取值范围：支持多字符换行符，但换行符不能超过10个字节。常见的换行符，如\r、\n、\r\n（设成0x0D、0x0A、0x0D0A效果是相同的），其他字符或字符串，如$、#。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_note12161826171812"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_ul6618163951815"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li8618183911182">EOL参数只能用于TEXT格式的导入导出，不支持CSV格式和FIXED格式。为了兼容原有EOL参数，仍然支持导出CSV格式和FIXED格式时指定EOL参数为0x0D或0x0D0A。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li7618173914189">EOL参数不能和分隔符、null参数相同。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li14277205861815">EOL参数不能包含：.abcdefghijklmnopqrstuvwxyz0123456789。</li></ul>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l072d8b93d1c44ceead47e1e37c2bd384">ENCODING 'encoding_name'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p474571511083">指定文件编码格式名称。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p13715162434419">取值范围：有效的编码格式。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p548798561085">缺省值：当前编码格式。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l8f0a54900b8e4d4086653170bd66ec4f">IGNORE_EXTRA_DATA<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a0d9afba2384846ac800cfee317ed7006">指定当数据源文件比外表定义列数多时，忽略行尾多出来的列。该参数只在数据导入过程中使用。</p>
<div class="p" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a1c0893aff36646a69e99d28089bfe759">若不使用该参数，在数据源文件比外表定义列数多，会显示如下错误信息。<pre class="screen" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_s1de3f756652f4f6bae0d67ba1f42b8a8">extra data after last expected column</pre>
</div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_lfcddbcdc67914fde93f6470e1caf7e5b">COMPATIBLE_ILLEGAL_CHARS<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a216c4225c7024d4596fa88500feb396d">指定导入时对非法字符进行容错处理，非法字符转换后入库。不报错，不中断导入。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p457834001699">若不使用该参数，导入时遇到非法字符进行报错，中断导入。</p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n9e8a133501764140ba2a6a25ef9e9a34"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ae0b7f85f99774171a34d8c00a9ce724b">导入非法字符容错规则如下：</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aa98865b83e8d4fe6b3f36028fe8e4670">（1）对于'\0'，容错后转换为空格；</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a28c5bbf9363e4c94b516e6d0f0269085">（2）对于其他非法字符，容错后转换为问号；</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a11cd42ae3c6c410ca02914eef4308889">（3）若compatible_illegal_chars为true/on标识，导入时对于非法字符进行容错处理，则若NULL、DELIMITER、QUOTE、ESCAPE设置为空格或问号则会通过如"illegal chars conversion may confuse COPY escape 0x20"等报错信息提示用户修改可能引起混淆的参数以避免导入错误。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_li6114916467">FILL_MISSING_FIELDS<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p1711169144618">当数据加载时，若数据源文件中一行的最后一个字段缺失的处理方式。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p965016380015">取值范围：true/on，false/off。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p2111924612">缺省值：false/off。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_note11189164619"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_p02617914461">目前COPY指定此Option实际不会生效，即不会有相应的容错处理效果（不生效）。需要额外注意的是，打开此选项会导致解析器在<span id="ZH-CN_TOPIC_0242370560__text47561740143917">数据库主节点</span>数据解析阶段（即COPY错误表容错的涵盖范围）忽略此数据问题，而到<span id="ZH-CN_TOPIC_0242370560__text11213193460">数据库节点</span>重新报错，从而使得COPY错误表（打开LOG ERRORS REJECT LIMIT）在此选项打开的情况下无法成功捕获这类少列的数据异常。因此请不要指定此选项。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_ld705c194b417447e864098557e676321">DATE_FORMAT 'date_format_string'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a9e8841da63dc4afbab7df1632b607c4c">导入对于DATE类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p596841495210">取值范围：合法DATE格式。可参考<a>时间和日期处理函数和操作符</a></p>
<div class="note" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_n9d550b15d5d84f078b076b0f60abe21c"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a40cd0e1275334d5198a2d690cb4a0b61">对于DATE类型内建为TIMESTAMP类型的数据库，在导入的时候，若需指定格式，可以参考下面的timestamp_format参数。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l839fd761b1964f26a0e2128f55197c1a">TIME_FORMAT 'time_format_string'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p612537510226">导入对于TIME类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a2821ad0430f64954a8b4feaad262b9ef">取值范围：合法TIME格式，不支持时区。可参考<a>时间和日期处理函数和操作符</a>。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6a39764116e14b8c9bb057f51a9c3d77">TIMESTAMP_FORMAT 'timestamp_format_string'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_aea892c7c3d5842488c3b687c91b4db07">导入对于TIMESTAMP类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_zh-cn_topic_0058965600_p280069894844">取值范围：合法TIMESTAMP格式，不支持时区。可参考<a>时间和日期处理函数和操作符</a>。</p>
</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l394f81fabffd47b1acdd14f5b3422ab8">SMALLDATETIME_FORMAT 'smalldatetime_format_string'<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a301a43419b37417d97633911fd4ec134">导入对于SMALLDATETIME类型指定格式。此参数不支持BINARY格式，会报“cannot specify bulkload compatibility options in BINARY mode”错误信息。此参数仅对COPY FROM导入有效。</p>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a985c5d4fd2b745e8af99ee9f5b44da9c">取值范围：合法SMALLDATETIME格式。可参考<a>时间和日期处理函数和操作符</a>。</p>
</li></ul>
<p id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a37ccb6a390c04b6dbc30edfe9150fed3">
<div class="p" id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a91349edbd2ac405990d2ca9a3c021180">COPY FROM能够识别的特殊反斜杠序列如下所示。<ul id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_u2f45e64f2cd04c9b858081aaffc56b5f"><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6d99eecc4a2b4a3db59bd77389a0e394"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_adeb67f7ce2c941e38220a90f4602a6b1">\b</strong>：反斜杠 （ASCII 8）</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l6368beb01368464781dc87a5570cba17"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a2081f1a0b43a469c9fbc168490a69e4b">\f</strong>：换页（ASCII 12）</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l0151b63eb2724e63a4dc149efc219d82"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a97d8a85e6735451994f0edb6a41cde18">\n</strong>：换行符 （ASCII 10）</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l1ec53a8edc8a4b928117c3efdd1c01c9"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a1b553647f0a24d34852a80860c9e98ad">\r</strong>：回车符 （ASCII 13）</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l78094da1198440c2ba5a05107db264ef"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a58305a2bc45b45c384e5f2a1fe4b7b83">\t</strong>：水平制表符 （ASCII 9）</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_la7c2030f3e3247a6b0ce7f12f90b7aa8"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a0ee39ee269314f278dbb6bedce78c7d9">\v</strong>：垂直制表符 （ASCII 11）</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l466111b482cd49f3a1bad87bd21f74f8"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a7e9229fdeb6e4e9eabe9ab97a8b52ea7">\digits</strong>：反斜杠后面跟着一到三个八进制数，表示ASCII值为该数的字符。</li><li id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_l1fed872ed7b245698561b44ed101c691"><strong id="ZH-CN_TOPIC_0242370560__zh-cn_topic_0237122096_zh-cn_topic_0059778766_a06e98dc7bab840a8bea680e0a9167beb">\xdigits</strong>：反斜杠x后面跟着一个或两个十六进制位声明指定数值编码的字符。</li></ul>
</div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE DATABASE" alias="CREATE DATABASE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a35ca2bd85820409ea0b2d502d2a86779">创建一个新的数据库。缺省情况下新数据库将通过复制标准系统数据库template0来创建，且仅支持使用template0来创建。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_u47a4e37c56f5483ba988df77135e4efa"><li id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_l9309ec5ef8dd4f44a520821761047bef">只有拥有CREATEDB权限的用户才可以创建新数据库，系统管理员默认拥有此权限。</li><li id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_l2c2ee8c8b8eb4968986e0b15178bf811">不能在事务块中执行创建数据库语句。</li><li id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_l7fbfd3c9888b4cee90a7d442c47535c4">在创建数据库过程中，若出现类似“could not initialize database directory”的错误提示，可能是由于文件系统上数据目录的权限不足或磁盘满等原因引起。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建一个GBK编码的数据库music（本地环境的编码格式必须也为GBK）。
postgres=# CREATE DATABASE music ENCODING ' GBK ' template = template0 ; 

--创建数据库music2，并指定所有者为jim。
postgres=# CREATE DATABASE music2 OWNER jim ; 

--用模板template0创建数据库music3，并指定所有者为jim。
postgres=# CREATE DATABASE music3 OWNER jim TEMPLATE template0 ; 

--创建兼容TD格式的数据库。
postgres=# CREATE DATABASE td_compatible_db DBCOMPATIBILITY ' C ' ; 

--创建兼容ORA格式的数据库。
postgres=# CREATE DATABASE ora_compatible_db DBCOMPATIBILITY ' A ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_s8546281ff6e04f6c97daee5cc96b715d">CREATE DATABASE database_name
    [ [ WITH ] { [ OWNER [=] user_name ] |
               [ TEMPLATE [=] template ] |
               [ ENCODING [=] encoding ] |
               [ LC_COLLATE [=] lc_collate ] |
               [ LC_CTYPE [=] lc_ctype ] |
               [ DBCOMPATIBILITY [=] compatibilty_type ] |
               [ TABLESPACE [=] tablespace_name ] |
               [ CONNECTION LIMIT [=] connlimit ]}[...] ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a4050839976c04de48a2817cfefa68d5b">database_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a2b6a7c9aeb2e444aa318b382c5a5fbef">数据库名称。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a21b65edcd7fb4a2f9601fca3e2ade372">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a179740a61931479cba4efe98cb553ba6">OWNER [ = ] user_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a4697758011b049518782213cbe140ad0">数据库所有者。缺省时，新数据库的所有者是当前用户。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_ada576442d0954909913d0b822f9409d7">取值范围：已存在的用户名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a710ffa6b4df74c8194acd9f5a78469d5">TEMPLATE [ = ] template</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a75c12e582a9a427a873ac65bec970478">模板名。即从哪个模板创建新数据库。<span id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_text27901340174111"><span id="ZH-CN_TOPIC_0242370563__text87067014202">openGauss</span></span>采用从模板数据库复制的方式来创建新的数据库。初始时，<span id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_text1712555194220"><span id="ZH-CN_TOPIC_0242370563__text525810712016">openGauss</span></span>包含两个模板数据库template0、template1，以及一个默认的用户数据库postgres。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_afe89ab1434ec4e2eb20b7b58734ece6d">取值范围：仅template0。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_ae9c2179fccca412dae0ed4a52998c433">ENCODING [ = ] encoding</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_p1973735317411">指定数据库使用的字符编码，可以是字符串（如'SQL_ASCII'）、整数编号。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_ad4292e84ca234b65a7426bc47abf026e">不指定时，默认使用模版数据库的编码。模板数据库template0和template1的编码默认与操作系统环境相关。template1不允许修改字符编码，因此若要变更编码，请使用template0创建数据库。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_p1825155513555">常用取值：GBK、UTF8、Latin1。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_n7fdb520a49d54160b50578cec8299201"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_ul923515163018"><li id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_li023555163013">指定新的数据库字符集编码必须与所选择的本地环境中（LC_COLLATE和LC_CTYPE）的设置兼容。</li><li id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_li238045483019">当指定的字符编码集为GBK时，部分中文生僻字无法直接作为对象名。这是因为GBK第二个字节的编码范围在0x40-0x7E之间时，字节编码与ASCII字符@A-Z[\]^_`a-z{|}重叠。其中@[\]^_'{|}是数据库中的操作符，直接作为对象名时，会语法报错。例如“侤”字，GBK16进制编码为0x8240，第二个字节为0x40，与ASCII“@”符号编码相同，因此无法直接作为对象名使用。如果确实要使用，可以在创建和访问对象时，通过增加双引号来规避这个问题。</li></ul>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a89710fc0ada045369ff50943088318f6">LC_COLLATE [ = ] lc_collate</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a7353d93d5a0b453e86a6e5a67c36bcf9">指定新数据库使用的字符集。例如，通过lc_collate = 'zh_CN.gbk'设定该参数。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_ad6de978daa5249d6a51e5c23259712d4">该参数的使用会影响到对字符串的排序顺序（如使用ORDER BY执行，以及在文本列上使用索引的顺序）。默认是使用模板数据库的排序顺序。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_af11a93d889b34a8ba8020715cd394e54">取值范围：有效的排序类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a57f618483dc84e42a821ddca84c34e72">LC_CTYPE [ = ] lc_ctype</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a38fcb1a0c22e466e8887cffd8af462ed">指定新数据库使用的字符分类。例如，通过lc_ctype = 'zh_CN.gbk'设定该参数。该参数的使用会影响到字符的分类，如大写、小写和数字。默认是使用模板数据库的字符分类。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_aa0d2aa649e9d4538912ac84201ad7d82">取值范围：有效的字符分类。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a80b61782681b4c49b542eb710e17dd9b">DBCOMPATIBILITY [ = ] compatibilty_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a1c53757a142140d19521f55a4a5578a3">指定兼容的数据库的类型。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a55f253013461475d880c28d49327b255">取值范围：A、B、C。分别表示兼容O、MY和TD。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a04273bb90dca4cc6a9dffdc4085b8366">TABLESPACE [ = ] tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a0cbc469efbe44b5f99c7b8252eedcaf4">指定数据库对应的表空间。</p>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_a8519483c542843ce89c7679b9a6fdc14">取值范围：已存在表空间名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_ac1d56713381644f48bed3a82f6a10294">CONNECTION LIMIT [ = ] connlimit</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_zh-cn_topic_0058966245_p796504514478">数据库可以接受的并发连接数。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_note239610274280"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_ul6645529142414"><li id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_li12646102914241">系统管理员不受此参数的限制。</li><li id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_li947073252417">connlimit<span id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_text11718111813317">数据库主节点</span>单独统计，openGauss整体的连接数 = connlimit * 当前正常数据库主节点个数。</li></ul>
</div></div>
<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_ab0979f62002c4f6493896d73a3d9e23d">取值范围：&gt;=-1的整数。默认值为-1，表示没有限制。</p>
</div></ul></div>]]></suggestion>
    <sub id="create database">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370563__zh-cn_topic_0237122099_zh-cn_topic_0059778277_p153305691514">事务中不支持创建database。</p>
]]></suggestion>
    </sub>
  </command>
  <command id="CREATE DATA SOURCE" alias="CREATE DATA SOURCE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p0460038113915">创建一个新的外部数据源对象，该对象用于定义<span id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_text15312211427"><span id="ZH-CN_TOPIC_0242370564__text107371786203">openGauss</span></span>要连接的目标库信息。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_ul1657713253115"><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li1577102511114">Data Source名称在数据库中需唯一，遵循标识符命名规范，长度限制为63字节，过长则会被截断。</li><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li89791110210">只有系统管理员或初始用户才有权限创建Data Source对象。且创建该对象的用户为其默认属主。</li><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li570815718309">当在OPTIONS中出现password选项时，需要保证openGauss每个节点的$GAUSSHOME/bin目录下存在datasource.key.cipher和datasource.key.rand文件，如果不存在这两个文件，请使用gs_guc工具生成并使用gs_ssh工具发布到openGauss每个节点的$GAUSSHOME/bin目录下。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建一个空的Data Source对象，不含任何信息。
postgres=# CREATE DATA SOURCE ds_test1 ; 

--创建一个Data Source对象，含TYPE信息，VERSION为NULL。
postgres=# CREATE DATA SOURCE ds_test2 TYPE ' MPPDB ' VERSION NULL ; 

--创建一个Data Source对象，仅含OPTIONS。
postgres=# CREATE DATA SOURCE ds_test3 OPTIONS ( dsn ' openGauss ' , encoding ' utf8 ' ) ; 

--创建一个Data Source对象，含TYPE, VERSION, OPTIONS。
postgres=# CREATE DATA SOURCE ds_test4 TYPE ' unknown ' VERSION ' 11.2.3 ' OPTIONS ( dsn ' openGauss ' , username ' userid ' , password ' pwd@123456 ' , encoding ' ' ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_screen1610291314516">CREATE DATA SOURCE src_name
    [TYPE 'type_str']
    [VERSION {'version_str' | NULL}]
    [OPTIONS (optname 'optvalue' [, ...])];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_b46772443419">src_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p36671919195910">新建Data Source对象的名称，需在数据库内部唯一。</p>
<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p7243459185911">取值范围：字符串，要符标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_b94158481413">TYPE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p717513429010">新建Data Source对象的类型，可缺省。</p>
<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p3111116417">取值范围：空串或非空字符串。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_b1660311525413">VERSION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p625933910117">新建Data Source对象的版本号，可缺省或NULL值。</p>
<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p0845152419216">取值范围：空串或非空字符串或NULL。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_b1382255624110">OPTIONS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><div class="p" id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p2115150151018">Data Source对象的选项字段，创建时可省略，如若指定，其关键字如下：<ul id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_ul9867157491"><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li148673576912">optname<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p146171254194920">选项名称。</p>
<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p44802802102745">取值范围：dsn, username, password, encoding。不区分大小写。</p>
<ul id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_ul51285561102759"><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li1395802610282">dsn对应odbc配置文件中的DSN。</li><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li2834489110284">username/password对应连接目标库的用户名和密码。<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p546153244913"><span id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_text2421151084218"><span id="ZH-CN_TOPIC_0242370564__text865216919209">openGauss</span></span>在后台会对用户输入的username/password加密以保证安全性。该加密所需密钥文件需要使用gs_guc工具生成并使用gs_ssh工具发布到openGauss每个节点的$GAUSSHOME/bin目录下。username/password不应当包含'encryptOpt'前缀，否则会被认为是加密后的密文。</p>
</li><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li66095016102756">encoding表示与目标库交互的字符串编码方式（含发送的SQL语句和返回的字符类型数据），此处创建对象时不检查encoding取值的合法性，能否正确编解码取决于用户提供的编码方式是否在数据库本身支持的字符编码范围内。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_li88671357190">optvalue<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p99886813503">选项值。</p>
<p id="ZH-CN_TOPIC_0242370564__zh-cn_topic_0237122100_p386713571794">取值范围：空或者非空字符串。</p>
</li></ul>
</div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE DIRECTORY" alias="CREATE DIRECTORY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_p14112029171818">使用CREATE DIRECTORY语句创建一个目录对象，该目录对象定义了服务器文件系统上目录的别名，用于存放用户使用的数据文件。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_zh-cn_topic_0059778310_ul40773177162627"><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_zh-cn_topic_0059778310_li2066109162627">默认只允许初始化用户创建，如果开启enable_access_server_directory（可参考<a>enable_access_server_directory</a>），sysadmin权限的用户也可以创建目录。</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_zh-cn_topic_0059778310_li66862778162627">创建用户默认拥有此路径的READ和WRITE操作权限。</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_zh-cn_topic_0059778310_li53337638161311">目录的默认owner为创建directory的用户。</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li15429509416">以下路径禁止创建：<ul id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_ul1955172350"><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li8454119510">路径含特殊字符。</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li1248211754">路径是相对路径。</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li149618513">路径是符号连接。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li14255103714510">创建目录时会进行以下合法性校验：<ul id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_ul5807115017518"><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li16364249856">创建时会检查添加路径是否为操作系统实际存在路径，如不存在会提示用户使用风险。</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li43642491756">创建时会校验数据库初始化（<span id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_text1859543925412">omm</span>）用户对于添加路径的权限(即操作系统目录权限，读/写/执行 - R/W/X)，如果权限不全，会提示用户使用风险。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_li53892354013">在openGauss环境下用户指定的路径需要用户保证各节点上路径的一致性，否则在不同节点上执行会产生找不到路径的问题。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建目录。
postgres=# CREATE OR REPLACE DIRECTORY dir as ' /tmp/ ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_zh-cn_topic_0059778310_screen5901299116015">CREATE [OR REPLACE] DIRECTORY directory_name
AS 'path_name';</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_b2077210425914">directory_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_p12381856163215">目录名称。</p>
<p id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_p90355103218">取值范围：字符串，要符标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_b163854518910">path_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_p1284210143320">操作系统的路径。</p>
<p id="ZH-CN_TOPIC_0242370565__zh-cn_topic_0237122101_p12846111014330">取值范围： 有效的操作系统路径。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE FUNCTION" alias="CREATE FUNCTION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a204b07a2fd6449b388ec60667a4c06d3">创建一个函数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ul445481817614"><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_li174536187620">如果创建函数时参数或返回值带有精度，不进行精度检测。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_li222922262617">创建函数时，函数定义中对表对象的操作建议都显式指定模式，否则可能会导致函数执行异常。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_li188401824102819">在创建函数时，函数内部通过SET语句设置current_schema和search_path无效。执行完函数search_path和current_schema与执行函数前的search_path和current_schema保持一致。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_li245311819619">如果函数参数中带有出参，SELECT调用函数必须缺省出参，CALL调用函数必须指定出参，对于调用重载的带有PACKAGE属性的函数，CALL调用函数可以缺省出参，具体信息参见<a>CALL</a>的示例。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_li1395712107414">兼容Postgresql风格的函数或者带有PACKAGE属性的函数支持重载。在指定REPLACE的时候，如果参数个数、类型、返回值有变化，不会替换原有函数，而是会建立新的函数。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_lb4fa34c61fab40309fac66554020e967">SELECT调用可以指定不同参数来进行同名函数调用。由于语法不支持调用不带有PACKAGE属性的同名函数。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_li1865802019613">在创建function时，不能在avg函数外面嵌套其他agg函数，或者其他系统函数。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_li15356112711020">新创建的函数默认会给PUBLIC授予执行权限（详见<a>GRANT</a>）。用户可以选择收回PUBLIC默认执行权限，然后根据需要将执行权限授予其他用户，为了避免出现新函数能被所有人访问的时间窗口，应在一个事务中创建函数并且设置函数执行权限。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--定义函数为SQL查询。
postgres=# CREATE FUNCTION func_add_sql ( integer , integer ) RETURNS integer
AS ' select $1 + $2 ; ' 
LANGUAGE SQL
IMMUTABLE
RETURNS NULL ON NULL INPUT ; 

--利用参数名用 PL/pgSQL 自增一个整数。
postgres=# CREATE OR REPLACE FUNCTION func_increment_plsql ( i integer ) RETURNS integer AS $$
BEGIN
RETURN i + 1 ; 
END ; 
$$ LANGUAGE plpgsql ; 

--返回RECORD类型
CREATE OR REPLACE FUNCTION compute ( i int , out result_1 bigint , out result_2 bigint ) 
returns SETOF RECORD
as $$
begin
result_1 = i + 1 ; 
result_2 = i * 10 ; 
return next;
end ; 
$$language plpgsql ; 

--返回一个包含多个输出参数的记录。
postgres=# CREATE FUNCTION func_dup_sql ( in int , out f1 int , out f2 text ) 
AS $$ SELECT $1 , CAST ( $1 AS text ) || ' is text ' $$
LANGUAGE SQL ; 
postgres=# SELECT * FROM func_dup_sql ( 42 ) ; 

--计算两个整数的和，并返回结果。若果输入为null，则返回null。
postgres=# CREATE FUNCTION func_add_sql2 ( num1 integer , num2 integer ) RETURN integer
AS
BEGIN
RETURN num1 + num2 ; 
END ; 
/
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_uc330da2ad8c04fdcb1ca1041c6844ffb"><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_l577c07a973a34eeea7372fc73bc06b81">兼容PostgreSQL风格的创建自定义函数语法。<pre class="screen" id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_se622e5b703fb4a35802b7f1c07fdffa0">CREATE [ OR REPLACE  ] FUNCTION function_name 
    ( [  { argname [ argmode  ] argtype [  { DEFAULT  | :=  | =  } expression  ]}  [, ...]  ] )
    [ RETURNS rettype [ DETERMINISTIC  ]  | RETURNS TABLE (  { column_name column_type  }  [, ...] )]
    LANGUAGE lang_name 
    [ 
       {IMMUTABLE  | STABLE  | VOLATILE }
        | {SHIPPABLE | NOT SHIPPABLE}
        | WINDOW
        | [ NOT  ] LEAKPROOF  
        | {CALLED ON NULL INPUT  | RETURNS NULL ON NULL INPUT | STRICT } 
        | {[ EXTERNAL  ] SECURITY INVOKER | [ EXTERNAL  ] SECURITY DEFINER | AUTHID DEFINER  | AUTHID CURRENT_USER} 
        | {fenced | not fenced}
        | {PACKAGE}

        | COST execution_cost
        | ROWS result_rows
        | SET configuration_parameter { {TO | =} value | FROM CURRENT }}
     ][...]
    {
        AS 'definition'
    }
</pre>
</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_l669dd50952eb45c2b2d4a10e7c5515a5">O风格的创建自定义函数的语法。<pre class="screen" id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_sf5876465ff3c4838a0dd002397d87837">CREATE [ OR REPLACE  ] FUNCTION function_name 
    ( [  { argname [ argmode  ] argtype [  { DEFAULT | := | =  } expression  ] }  [, ...]  ] )
    RETURN rettype [ DETERMINISTIC  ]
    [ 
        {IMMUTABLE  | STABLE  | VOLATILE } 
        | {SHIPPABLE | NOT SHIPPABLE}
        | {PACKAGE}
        | {FENCED | NOT FENCED}
        | [ NOT  ] LEAKPROOF  
        | {CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT } 
        | {[ EXTERNAL  ] SECURITY INVOKER  | [ EXTERNAL  ] SECURITY DEFINER |
AUTHID DEFINER | AUTHID CURRENT_USER
} 
        | COST execution_cost  
        | ROWS result_rows  
        | SET configuration_parameter { {TO | =} value  | FROM CURRENT

    ][...] 

    { 
      IS  | AS
} plsql_body
/</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ad18edbf66dd3499691b334675bd93ed0">function_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a1186fabe9d654dff9e9518c083afd457">要创建的函数名称（可以用模式修饰）。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a1b7de019a7994ebf9f504cec0da4aff4">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a76e9872c279b45b4b92d255df05d4a66">argname</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a8f5acbbbcdb54663a98bed9d6cf778ec">函数参数的名称。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a00812c9ac8d54a61bc5d2b6e7b312d68">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ab348a3a2c85c44bf8703358f56636e36">argmode</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_af55e551eafa54ca7a692dc659570c579">函数参数的模式。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_aded4d692d4774dc8b107e313d04bab17">取值范围：IN，OUT，INOUT或VARIADIC。缺省值是IN。只有OUT模式的参数后面能跟VARIADIC。并且OUT和INOUT模式的参数不能用在RETURNS TABLE的函数定义中。</p>
<div class="note" id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_note1057846694129"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_p2809733094129">VARIADIC用于声明数组类型的参数。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a656d28b9fa78465eb7a5e5167d312774">argtype</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a27390be8577945e38c12df4004c629f9">函数参数的类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ae992d66f143c4f47b5b963143407bed2">expression</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a4e6fefe46cef40b990ac6b369361baba">参数的默认表达式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac6d5f0e693f1498097b5f4d519409724">rettype</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a77461105415a4b998a9d81f461037708">函数返回值的数据类型。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ad93fd11626a14889a4293af425e1c039">如果存在OUT或IN OUT参数，可以省略RETURNS子句。如果存在，该子句必须和输出参数所表示的结果类型一致：如果有多个输出参数，则为RECORD，否则与单个输出参数的类型相同。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a3b457dde77944ee1b684e03163e96458">SETOF修饰词表示该函数将返回一个集合，而不是单独一项。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_zh-cn_topic_0058965572_b96233415511">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_zh-cn_topic_0058965572_p126925911553">字段名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ab16e7eea25cb4be2ac46a6916fcf8bc3">column_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_zh-cn_topic_0058965572_p312896531556">字段类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a1f2d8525e7df456bbed30dd5dafeebb3">definition</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a2c39918f72744d80b7d9fc37fa454477">一个定义函数的字符串常量，含义取决于语言。它可以是一个内部函数名称、一个指向某个目标文件的路径、一个SQL查询、一个过程语言文本。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac09befc5226247c595c9dd16c1856bc7">LANGUAGE lang_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a30d3cc175b0e4fe791e970de798e5a49">用以实现函数的语言的名称。可以是SQL，internal，或者是用户定义的过程语言名称。为了保证向下兼容，该名称可以用单引号（包围）。若采用单引号，则引号内必须为大写。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ad9701aeaf7c74e8c91e0f72a7c280ca3">WINDOW</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a77e47f01c0104c7184d75ca657f4abff">表示该函数是窗口函数。替换函数定义时不能改变WINDOW属性。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_note17401824174719"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_p124012240475">自定义窗口函数只支持LANGUAGE是internal，并且引用的内部函数必须是窗口函数。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a089410ec69d34f6f88da66835706baf5">IMMUTABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a0afe8f6f944645ea82764e80d62248ce">表示该函数在给出同样的参数值时总是返回同样的结果。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a781c54aa2dee47278d1e712fc3795354">STABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ab7a0304ede19419780f0a09a210b9991">表示该函数不能修改数据库，对相同参数值，在同一次表扫描里，该函数的返回值不变，但是返回值可能在不同SQL语句之间变化。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_afb79d591a9164556ab5d88351df0649b">VOLATILE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a8739a887cfc9451d9e6279e3d4510acd">表示该函数值可以在一次表扫描内改变，因此不会做任何优化。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__b121012117382">PACKAGE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><div class="p" id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_p8488510143011">表示该函数是否支持重载。PostgreSQL风格的函数本身就支持重载，此参数主要是针对其它风格的函数。<ul id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_ul16535202615353"><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_li35351026163513">不允许package函数和非package函数重载或者替换。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_li76654123517">package函数不支持VARIADIC类型的参数。</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_li5417717174411">不允许修改函数的package属性。</li></ul>
</div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_af9abd33f8a684d60b6771afb7e9e5673">LEAKPROOF</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac1f7d0025721474faa2dc51429d850c8">指出该函数的参数只包括返回值。LEAKPROOF只能由系统管理员设置。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a6057c7877acf4dad806fa6641dd9ff3b">CALLED ON NULL INPUT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ab653d9f74f2642898753876e3381ca95">表明该函数的某些参数是NULL的时候可以按照正常的方式调用。该参数可以省略。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a2101ca4e6fb847e9985b23e926f88c33">RETURNS NULL ON NULL INPUT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_zh-cn_topic_0058965572_p957462183350"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a386fe00a368341169ad803aa7a19e65c">STRICT</strong></p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a4673052f200048c18337153fd16b69ce">STRICT用于指定如果函数的某个参数是NULL，此函数总是返回NULL。如果声明了这个参数，当有NULL值参数时该函数不会被执行；而只是自动返回一个NULL结果。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a8b102271ad9b4118a68940ce3f4030b6">RETURNS NULL ON NULL INPUT和STRICT的功能相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a69757dd06749421f884168c6e8621b87">EXTERNAL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a1793f431814b492a977446c6925a86e7">目的是和SQL兼容，是可选的，这个特性适合于所有函数，而不仅是外部函数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_zh-cn_topic_0058965572_b83175175638">SECURITY INVOKER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a05c5d9c68c2c4ac3a1514aa5e21b33f4"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_zh-cn_topic_0058965572_b748583175638">AUTHID CURRENT_USER</strong></p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a42a8b9e694194c0cb0882cefc27bf21b">表明该函数将带着调用它的用户的权限执行。该参数可以省略。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a6142f83bb3674b41af243f318a1e5701">SECURITY INVOKER和AUTHID CURRENT_USER的功能相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_acb18f90af8cc4c43921e2f182554f8b6">SECURITY DEFINER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a159f44bdeca64fbf892a87e493e9c4b8"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a95353abcfc744c4eb5f5bfb7d2c79705">AUTHID DEFINER</strong></p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac7f99315484248f5b2df01d6ac683e09">声明该函数将以创建它的用户的权限执行。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac8ad723c15874fb19826bc9aab6ebbaf">AUTHID DEFINER和SECURITY DEFINER的功能相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a3873e8592e5e4fa4be61b61c9404f7e4">COST execution_cost</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a761e95fe2af04a738f9a59164fea3ae3">用来估计函数的执行成本。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ae5c8dd09c2544e66a9593c0dd41b09cd">execution_cost以cpu_operator_cost为单位。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ad4383647c77049a68f2ba5634777e18f">取值范围：正数</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a56f4c769ba8144b19a34f7a5070efaff">ROWS result_rows</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac57db6d2532045149b35af81d21c3ce7">估计函数返回的行数。用于函数返回的是一个集合。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac54082516fdf4ad5adf23ba3dd08f839">取值范围：正数，默认值是1000行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_aca8d4cd29ee34d13949645b5c5b53040">configuration_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_u532807bf4aea4353a1ac4894dbc2ec7d"><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_l3c0a6b208ca7478cab4ba8ac22a03000"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a62ca4aed608f465fa8428652344c0a2b">value</strong><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a216a18d479004b9183da622c7dbed481">把指定的数据库会话参数值设置为给定的值。如果value是DEFAULT或者RESET，则在新的会话中使用系统的缺省设置。OFF关闭设置。</p>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_acc381510304947eb93c9caed1bbecfa8">取值范围：字符串</p>
<ul id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ud4f3cd50a17244ea95053875a499b46e"><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ldcb580599c4248908fc5974b5580c29c">DEFAULT</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_l0a3f90ce063047cf8973698abdd0dbc9">OFF</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_lc03259de08b7467b82a72893480509cb">RESET</li></ul>
<p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_ac1f1235bcfd141e5bb1ee357e0718cf6">指定默认值。</p>
</li><li id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_l304bbfa004644373a803c91efe80d1d3"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a032be37cb03940adaabb324cce22adac">from current</strong><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_zh-cn_topic_0058965572_p822724145036">取当前会话中的值设置为configuration_parameter的值。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a3c1ca56522ab4879ade8213736d34fea">plsql_body</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a7c41e51872d041668df014f8bd3601e1">PL/SQL存储过程体。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_n5289f50843c4476ab4c982ddac03922b"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370568__zh-cn_topic_0237122104_zh-cn_topic_0059778837_a018550f843684f6f8ee972f1c01b72df">当在函数体中创建用户时，日志中会记录密码的明文。因此不建议用户在函数体中创建用户。</p>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE GROUP" alias="CREATE GROUP">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370569__zh-cn_topic_0237122105_zh-cn_topic_0059779249_a10383161c4504acb97e8f3ebb08bab7f">创建一个新用户组。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370569__zh-cn_topic_0237122105_zh-cn_topic_0059779249_a2fb32f1e7608498b835f0f352a6523b8">CREATE GROUP是CREATE ROLE的别名，非SQL标准语法，不推荐使用，建议用户直接使用CREATE ROLE替代。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370569__zh-cn_topic_0237122105_zh-cn_topic_0059779249_sb844ffa8f4e1403995d2ecab303384aa">CREATE GROUP group_name [ [ WITH ] option [ ... ] ] [ ENCRYPTED | UNENCRYPTED ] { PASSWORD | IDENTIFIED BY } { 'password' | DISABLE };</pre>
<p id="ZH-CN_TOPIC_0242370569__zh-cn_topic_0237122105_zh-cn_topic_0059779249_a2318c1f8e92047c88cee760170775e27">其中可选项option子句语法为：</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370569__zh-cn_topic_0237122105_zh-cn_topic_0059779249_s969a2bb7ec75455396f023f41333c5c0">{SYSADMIN | NOSYSADMIN}
    | {AUDITADMIN | NOAUDITADMIN}
    | {CREATEDB | NOCREATEDB}
    | {USEFT | NOUSEFT}
    | {CREATEROLE | NOCREATEROLE}
    | {INHERIT | NOINHERIT}
    | {LOGIN | NOLOGIN}
    | {REPLICATION | NOREPLICATION}
    | {INDEPENDENT | NOINDEPENDENT}
    | {VCADMIN | NOVCADMIN}
    | CONNECTION LIMIT connlimit
    | VALID BEGIN 'timestamp'
    | VALID UNTIL 'timestamp'
    | RESOURCE POOL 'respool'
    | PERM SPACE 'spacelimit'
    | TEMP SPACE 'tmpspacelimit'
    | SPILL SPACE 'spillspacelimit'
    | IN ROLE role_name [, ...]
    | IN GROUP role_name [, ...]
    | ROLE role_name [, ...]
    | ADMIN rol e_name [, ...]
    | USER role_name [, ...]
    | SYSID uid
    | DEFAULT TABLESPACE tablespace_name
    | PROFILE DEFAULT
    | PROFILE profile_name
    | PGUSER</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370569__zh-cn_topic_0237122105_zh-cn_topic_0059779249_ae16fcacbb0a44345abfff5168d331d84">请参考CREATE ROLE的<a>参数说明</a>。</p>
</div>]]></suggestion>
  </command>
  <command id="CREATE INDEX" alias="CREATE INDEX">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_p1397594795311">在指定的表上创建索引。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_aa6c47be6d05c4f32a3333934f244f3b9">索引可以用来提高数据库查询性能，但是不恰当的使用将导致数据库性能下降。建议仅在匹配如下某条原则时创建索引：</p>
<ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ue888e555f71544718913bd339a1e4b38"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l1bbc2ad7746f4c75b3add34e07597628">经常执行查询的字段。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l24ea83dfde7644278f9a6e67ab5ffda4">在连接条件上创建索引，对于存在多字段连接的查询，建议在这些字段上建立组合索引。例如，select * from t1 join t2 on t1.a=t2.a and t1.b=t2.b，可以在t1表上的a，b字段上建立组合索引。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l651c700219f04c43aca65dd040501ee7">where子句的过滤条件字段上（尤其是范围条件）。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_lf7a8341ec1dc419b92c318dcfe02d8cb">在经常出现在order by、group by和distinct后的字段。</li></ul>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_aef2d621a66a1474d8a467b3a944a54a7">在分区表上创建索引与在普通表上创建索引的语法不太一样，使用时请注意，如分区表上不支持并行创建索引、不支持创建部分索引、不支持NULL FIRST特性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_u2dfcf6adaf594908aa4f6964ef192185"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l0a7117ba4ba442eca8267cec383612b5">索引自身也占用存储空间、消耗计算资源，创建过多的索引将对数据库性能造成负面影响（尤其影响数据导入的性能，建议在数据导入后再建索引）。因此，仅在必要时创建索引。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_lb55611ff0d8249d28b5403cb1247286e">索引定义里的所有函数和操作符都必须是immutable类型的，即它们的结果必须只能依赖于它们的输入参数，而不受任何外部的影响（如另外一个表的内容或者当前时间）。这个限制可以确保该索引的行为是定义良好的。要在一个索引上或WHERE中使用用户定义函数，请把它标记为immutable类型函数。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_zh-cn_topic_0058965694_li99533818116">在分区表上创建唯一索引时，索引项中必须包含分布列和所有分区键。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_li157683910236">列存表支持的PSORT和B-tree索引都不支持创建表达式索引、部分索引和唯一索引。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_li963018481407">列存表支持的GIN索引支持创建表达式索引，但表达式不能包含空分词、空列和多列，不支持创建部分索引和唯一索引。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--在表tpcds.ship_mode_t1上的SM_SHIP_MODE_SK字段上创建普通索引。
postgres=# CREATE UNIQUE INDEX ds_ship_mode_t1_index1 ON tpcds.ship_mode_t1 ( SM_SHIP_MODE_SK ) ; 

--在表tpcds.ship_mode_t1上的SM_SHIP_MODE_SK字段上创建指定B-tree索引。
postgres=# CREATE INDEX ds_ship_mode_t1_index4 ON tpcds.ship_mode_t1 USING btree ( SM_SHIP_MODE_SK ) ; 

--在表tpcds.ship_mode_t1上SM_CODE字段上创建表达式索引。
postgres=# CREATE INDEX ds_ship_mode_t1_index2 ON tpcds.ship_mode_t1 ( SUBSTR ( SM_CODE , 1 , 4 ) ) ; 

--在表tpcds.ship_mode_t1上的SM_SHIP_MODE_SK字段上创建SM_SHIP_MODE_SK大于10的部分索引。
postgres=# CREATE UNIQUE INDEX ds_ship_mode_t1_index3 ON tpcds.ship_mode_t1 ( SM_SHIP_MODE_SK ) WHERE SM_SHIP_MODE_SK&gt;10 ; 

--创建分区表索引ds_customer_address_p1_index1，不指定索引分区的名称。
postgres=# CREATE INDEX ds_customer_address_p1_index1 ON tpcds.customer_address_p1 ( CA_ADDRESS_SK ) LOCAL ; 

--创建分区表索引ds_customer_address_p1_index2，并指定索引分区的名称。
postgres=# CREATE INDEX ds_customer_address_p1_index2 ON tpcds.customer_address_p1 ( CA_ADDRESS_SK ) LOCAL
 ( 
PARTITION CA_ADDRESS_SK_index1 , 
PARTITION CA_ADDRESS_SK_index2 TABLESPACE example3 , 
PARTITION CA_ADDRESS_SK_index3 TABLESPACE example4
 ) 
TABLESPACE example2 ; 

--创建列存表以及列存表GIN索引。
postgres=# create table cgin_create_test ( a int , b text ) with ( orientation = column ) ; 
CREATE TABLE
postgres=# create index cgin_test on cgin_create_test using gin ( to_tsvector ( ' ngram ' , b ) ) ; 
CREATE INDEX
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_u6f5cba2aa7974fe7ba102ed2315cd121"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l4b28c2a65a9a444684f2e2a73258c0db">在表上创建索引。<pre class="screen" id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_s34f5d504326b46109c68d0a8a95c8758">CREATE [ UNIQUE ] INDEX [ [schemaname.]index_name ] ON table_name [ USING method ]
    ({ { column_name | ( expression ) } [ COLLATE collation ] [ opclass ] [ ASC | DESC ] [ NULLS { FIRST | LAST } ] }[, ...] )
    [ WITH ( {storage_parameter = value} [, ... ] ) ]
    [ TABLESPACE tablespace_name ]
    [ WHERE predicate ];</pre>
</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l0a9474e6ad5c4c2f8e0ebd9e0e67ac0e">在分区表上创建索引。<pre class="screen" id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_s97e886c0635d47d8aecdfa725020d4e0">CREATE [ UNIQUE ] INDEX [ [schemaname.]index_name ] ON table_name [ USING method ]
    ( {{ column_name | ( expression ) } [ COLLATE collation ] [ opclass ] [ ASC | DESC ] [ NULLS LAST ] }[, ...] )
    LOCAL [ ( { PARTITION index_partition_name [ TABLESPACE index_partition_tablespace ] } [, ...] ) ]
    [ WITH ( { storage_parameter = value } [, ...] ) ]
    [ TABLESPACE tablespace_name ];</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a2fc1ed97843b4b6e9b973e085cbdc102">UNIQUE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a7719b4db7e6f48b2ae483a757d2bb533">创建唯一性索引，每次添加数据时检测表中是否有重复值。如果插入或更新的值会引起重复的记录时，将导致一个错误。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a498e97d9710a480b97339e6e8ef1b32f">目前只有行存表B-tree索引支持唯一索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059778467_zh-cn_topic_0058965787_b304450809655">schema_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059778467_a212ca18769524159964d1d41d39eeda5">模式的名称。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059778467_ae33eb02e21134d5a98839a9aacfb4fcd">取值范围：已存在模式名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_aa375ff5f5f0b42878ab0310f16a4f0c3">index_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a6bc413bc56ad44249353c518169dcd68">要创建的索引名，不能包含模式名，索引的模式与表相同。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a060d3c271c35403dafe95cdf21018b1d">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a92564a01f4ff4132809fadbc592dba4e">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a7a1d3e18d6c141c7b1a08145527ec685">需要为其创建索引的表的名称，可以用模式修饰。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ae3211f68603e4a12871c3caaf3250031">取值范围：已存在的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ab8d555ec4820421c8c692ade3a836ad8">USING method</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a56dac809e49a417f8c6927e5c59dd09e">指定创建索引的方法。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ad2175d8dd8ea47a18044befd2f9191ad">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_ul2994380316231"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_li4067585616318">btree：B-tree索引使用一种类似于B+树的结构来存储数据的键值，通过这种结构能够快速的查找索引。btree适合支持比较查询以及查询范围。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_li1033356216332">gin：GIN索引是倒排索引，可以处理包含多个键的值（比如数组）。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_li1587951012811">gist：Gist索引适用于几何和地理等多维数据类型和集合数据类型。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_li575600616353">Psort：Psort索引。针对列存表进行局部排序索引。</li></ul>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_p879698416446">行存表支持的索引类型：btree（行存表缺省值）、gin、gist。列存表支持的索引类型：Psort（列存表缺省值）、btree、gin。</p>
<div class="note" id="ZH-CN_TOPIC_0242370570__note11896654121116"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370570__p168961254131110">列存表对GIN索引支持仅限于对于tsvector类型的支持，即创建列存GIN索引入参需要为to_tsvector函数（的返回值）。此方法为GIN索引比较普遍的使用方式。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a718e6391494349dba690320d56611243">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ac0cdc0c2c08e4bd5bc47c7ecafea3a40">表中需要创建索引的列的名称（字段名）。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ab36c0f5fa95549d09bae8e61cd68be65">如果索引方式支持多字段索引，可以声明多个字段。最多可以声明32个字段。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a391db0a7baa74889a57bca3b7b79215e">expression</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_add9894c2468548e680770ffdaae9c9bb">创建一个基于该表的一个或多个字段的表达式索引，通常必须写在圆括弧中。如果表达式有函数调用的形式，圆括弧可以省略。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_afe475a5091794a99b326dae131ba72f7">表达式索引可用于获取对基本数据的某种变形的快速访问。比如，一个在upper(col)上的函数索引将允许WHERE upper(col) = 'JIM'子句使用索引。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ad7764c84fa0f4767b36305a411c5f451">在创建表达式索引时，如果表达式中包含IS NULL子句，则这种索引是无效的。此时，建议用户尝试创建一个部分索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_aea47ae15c73e45389c9daa4514c35866">COLLATE collation</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ab1acd9ff0bfa4a93a87b5f8cd678d1ee">COLLATE子句指定列的排序规则（该列必须是可排列的数据类型）。如果没有指定，则使用默认的排序规则。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_abd74df11e4ee4ff79856b2ab218e54c4">opclass</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a0025fcfffbe942c9bd6de233734b3f19">操作符类的名称。对于索引的每一列可以指定一个操作符类，操作符类标识了索引那一列的使用的操作符。例如一个B-tree索引在一个四字节整数上可以使用int4_ops；这个操作符类包括四字节整数的比较函数。实际上对于列上的数据类型默认的操作符类是足够用的。操作符类主要用于一些有多种排序的数据。例如，用户想按照绝对值或者实数部分排序一个复数。能通过定义两个操作符类然后当建立索引时选择合适的类。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a75f26ba53df04c69af14dea35c78fb7d">ASC</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a4ac9cf2595e2488f8227aec15d9df66b">指定按升序排序 （默认）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a8ca52706350c491e855d70cde5f74b00">DESC</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a74ba4711bafa4d418e5cd014b41a3d62">指定按降序排序。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a88c0f637209948e8a352b54ef297ffb0">NULLS FIRST</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_aaed79c0e3e88459e944554357678c547">指定空值在排序中排在非空值之前，当指定DESC排序时，本选项为默认的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a4f7253f8fe6e4325a593cf94620bd694">NULLS LAST</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_zh-cn_topic_0058965694_p875765410202">指定空值在排序中排在非空值之后，未指定DESC排序时，本选项为默认的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ab1a8864b7ad949e7ae8075704fa2578d">WITH ( {storage_parameter = value} [, ... ] )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a5ab75af13350422ab68eabddaf5e02b4">指定索引方法的存储参数。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a40e3a0e19c2f4e678fbeced759ea3936">取值范围：</p>
<div class="p" id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_aeb9c583fda564bf4a9c2bead373f316c">只有GIN索引支持FASTUPDATE，GIN_PENDING_LIST_LIMIT参数。GIN和Psort之外的索引都支持FILLFACTOR参数。<ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_uad965fce4deb400491e711ae4cfa62a6"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_lc5f736e74ebb4d9aa2680dc738313d26">FILLFACTOR<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a9fc5da129828402b93dc94fd47a083d0">一个索引的填充因子（fillfactor）是一个介于10和100之间的百分数。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a0f397c0a6dda401e9ba4c11eeda0cc84">取值范围：10~100</p>
</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l5c5a1feb26484ec1b57cc76366d5b022">FASTUPDATE<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_zh-cn_topic_0058965694_p359388717545">GIN索引是否使用快速更新。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_zh-cn_topic_0058965694_p203671617035">取值范围：ON，OFF</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a073994feeb624e439d1cfc009a8ce796">默认值：ON</p>
</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_l62c3c48b58264a72a75473008ac81e14">GIN_PENDING_LIST_LIMIT<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ac71597c3bcda44d68841a6b7a9d39e29">当GIN索引启用fastupdate时，设置该索引pending list容量的最大值。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a2dbf6ce4323944f1a4a2fe3f4f971885">取值范围：64~INT_MAX，单位KB。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a73e20b8b742b4729b0103b4ab07d0058">默认值：gin_pending_list_limit的默认取决于GUC中gin_pending_list_limit的值（默认为4MB）</p>
</li></ul>
</div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a5c765a736e904258bd6cdceb1cdd6a78">TABLESPACE tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a67c8abc5e5bd43c8bd45b95e1382b683">指定索引的表空间，如果没有声明则使用默认的表空间。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a4dc855f3fa7540f08f633d1f6960c559">取值范围：已存在的表空间名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_aef91bbde3b524c77996df6a8e251fbda">WHERE predicate</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a70c45899c47240d5b13705501b16102b">创建一个部分索引。部分索引是一个只包含表的一部分记录的索引，通常是该表中比其他部分数据更有用的部分。例如，有一个表，表里包含已记账和未记账的定单，未记账的定单只占表的一小部分而且这部分是最常用的部分，此时就可以通过只在未记账部分创建一个索引来改善性能。另外一个可能的用途是使用带有UNIQUE的WHERE强制一个表的某个子集的唯一性。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a4622f536088a4f4eac5322f8da28da60">取值范围：predicate表达式只能引用表的字段，它可以使用所有字段，而不仅是被索引的字段。目前，子查询和聚集表达式不能出现在WHERE子句里。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a291e9e3610ac4f328554ae299a330941">PARTITION index_partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a2908c62f54744f5c8945638613f2d498">索引分区的名称。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_affc209cb613c4f07bff64061ba64f938">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a1c50ee641beb4df4a2a0c7f0a5aae20b">TABLESPACE index_partition_tablespace</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a90aca2d419e34ee898c06fe37157c05a">索引分区的表空间。</p>
<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_a534f591a572747f2aef86f6ad4c168a8">取值范围：如果没有声明，将使用分区表索引的表空间index_tablespace。</p>
</div></ul></div>]]></suggestion>
    <sub id="create index">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_p2941485710859">建议仅在匹配如下条件之一时创建索引：</p>
<ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ul630443010859"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_li6340712510859">经常执行查询的字段。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_li3379322010859">在连接条件上创建索引，对于存在多字段连接的查询，建议在这些字段上建立组合索引。例如，select * from t1 join t2 on t1.a=t2.a and t1.b=t2.b，可以在t1表上的a，b字段上建立组合索引。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_li3570352510859">where子句的过滤条件字段上（尤其是范围条件）。</li><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_li5289627510859">在经常出现在order by、group by和distinct后的字段。</li></ul>
<div class="p" id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_p49029166171517">约束限制：<ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ul1524327395418"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_li8271400101654">分区表上不支持创建部分索引、不支持NULL FIRST特性。</li></ul>
<ul id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_ul2260759410859"><li id="ZH-CN_TOPIC_0242370570__zh-cn_topic_0237122106_zh-cn_topic_0059777455_li1742503510859">在分区表上创建唯一索引时，索引项中必须包含分布列和所有分区键。</li></ul>
</div>
]]></suggestion>
    </sub>
  </command>
  <command id="CREATE ROW LEVEL SECURITY POLICY" alias="CREATE ROW LEVEL SECURITY POLICY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p48721529133312">对表创建行访问控制策略。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1479416593558">当对表创建了行访问控制策略，只有打开该表的行访问控制开关(ALTER TABLE ... ENABLE ROW LEVEL SECURITY)，策略才能生效。否则不生效。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1643314285913">当前行访问控制影响数据表的读取操作(SELECT、UPDATE、DELETE)，暂不影响数据表的写入操作(INSERT、MERGE INTO)。表所有者或系统管理员可以在USING子句中创建表达式，在客户端执行数据表读取操作时，数据库后台在查询重写阶段会将满足条件的表达式拼接并应用到执行计划中。针对数据表的每一条元组，当USING表达式返回TRUE时，元组对当前用户可见，当USING表达式返回FALSE或NULL时，元组对当前用户不可见。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p559544117276">行访问控制策略名称是针对表的，同一个数据表上不能有同名的行访问控制策略；对不同的数据表，可以有同名的行访问控制策略。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p18488195263013">行访问控制策略可以应用到指定的操作(SELECT、UPDATE、DELETE、ALL)，ALL表示会影响SELECT、UPDATE、DELETE三种操作；定义行访问控制策略时，若未指定受影响的相关操作，默认为ALL。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p162715143367">行访问控制策略可以应用到指定的用户(角色)，也可应用到全部用户(PUBLIC)；定义行访问控制策略时，若未指定受影响的用户，默认为PUBLIC。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_ul0606822105013"><li id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_li5717812205115">支持对行存表、行存分区表、列存表、列存分区表、复制表、unlogged表、hash表定义行访问控制策略。</li><li id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_li1817414546507">不支持外表、临时表定义行访问控制策略。</li><li id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_zh-cn_topic_0059778640_li757824611618">不支持对视图定义行访问控制策略。</li><li id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_li11400107183312">同一张表上可以创建多个行访问控制策略，一张表最多创建100个行访问控制策略。</li><li id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_li155511718334">系统管理员不受行访问控制影响，可以查看表的全量数据。</li><li id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_li107451922104418">通过SQL语句、视图、函数、存储过程查询包含行访问控制策略的表，都会受影响。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建行访问控制策略，当前用户只能查看用户自身的数据
postgres=# CREATE ROW LEVEL SECURITY POLICY all_data_rls ON all_data USING ( role = CURRENT_USER ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_zh-cn_topic_0059778640_sd280eae8999640289a894f0805c065e5">CREATE [ ROW LEVEL SECURITY ] POLICY policy_name ON table_name
     [ AS { PERMISSIVE | RESTRICTIVE } ]
     [ FOR { ALL | SELECT | INSERT | UPDATE | DELETE } ]
     [ TO { role_name | PUBLIC | CURRENT_USER | SESSION_USER } [, ...] ]
     USING ( using_expression )</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b18772105915316">policy_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_zh-cn_topic_0059778640_a9c8e900e45924054b2bab79c34aed057">行访问控制策略名称，同一个数据表上行访问控制策略名称不能相同。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b75031756321">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_zh-cn_topic_0059778640_zh-cn_topic_0058965747_p531928510524">行访问控制策略的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b621710903212">command</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_zh-cn_topic_0059778640_a2d1a35b17b8f44d8aaa53bbf4905fefb">当前行访问控制影响的SQL操作，可指定操作包括：ALL、SELECT、UPDATE、DELETE。当未指定时，ALL为默认值，涵盖SELECT、UPDATE、DELETE操作。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p144561153115919">当command为SELECT时，SELECT类操作受行访问控制的影响，只能查看到满足条件(using_expression返回值为TRUE)的元组数据，受影响的操作包括SELECT，UPDATE ... RETURNING，DELETE ... RETURNING。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p742517159271">当command为UPDATE时，UPDATE类操作受行访问控制的影响，只能更新满足条件(using_expression返回值为TRUE)的元组数据，受影响的操作包括UPDATE, UPDATE ... RETURNING, SELECT ... FOR UPDATE/SHARE。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p576538133519">当command为DELETE时，DELETE类操作受行访问控制的影响，只能删除满足条件(using_expression返回值为TRUE)的元组数据，受影响的操作包括DELETE, DELETE ... RETURNING。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1876162412392">行访问控制策略与适配的SQL语法关系参加下表：</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_table198047342176" frame="border" border="1" rules="all"><caption><b>表1 </b>ROW LEVEL SECURITY策略与适配SQL语法关系</caption><thead align="left"><tr id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_row14804134141720"><th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.4.2.3.7.2.5.1.1"><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p15480134519170"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b8481194541719"><span style="color:#474747;">Command</span></strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.4.2.3.7.2.5.1.2"><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p68052034131718"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b3812145191717"><span style="color:#474747;">SELECT/ALL policy</span></strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.4.2.3.7.2.5.1.3"><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1780563415176"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b17590205616174"><span style="color:#474747;">UPDATE/ALL policy</span></strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.4.2.3.7.2.5.1.4"><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p999710011189"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b2099717014181"><span style="color:#474747;">DELETE/ALL policy</span></strong></p>
</th>
</tr>
</thead>
<tbody><tr id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_row8805153420177"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p198427121816"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b39847712186">SELECT</strong></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p11691414151820">Existing row</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p2069141491810">No</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p96911141181">No</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_row88060345170"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p119842715181"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b179841175185">SELECT FOR UPDATE/SHARE</strong></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p18691161415188">Existing row</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p96921114181819">Existing row</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p9692814151819">No</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_row28066347171"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p99841079188"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b119841971185">UPDATE</strong></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1769241415186">No</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p46921714201817">Existing row</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p126921514111820">No</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_row7807434141711"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p098513761813"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b189853718182">UPDATE RETURNING</strong></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p8693191411810">Existing row</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p11693114171815">Existing row</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1869315142184">No</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_row980723420178"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p59855771815"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b1298517171813">DELETE</strong></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p869361491810">No</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1369451421818">No</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1269413146181">Existing row</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_row5809133491710"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1698557101810"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b119851970188">DELETE RETURNING</strong></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p2694171421811">Existing row</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p1269401481815">No</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.3.7.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p19694121417189">Existing row</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_b591620411">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p12809171364012">行访问控制影响的数据库用户。</p>
<p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_p791567418">当未指定时，PUBLIC为默认值，PUBLIC表示影响所有数据库用户，可以指定多个受影响的数据库用户。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_zh-cn_topic_0059778640_n1d6078f52c9d4595b0f06dd62fb05782"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370573__zh-cn_topic_0237122109_zh-cn_topic_0059778640_ac23fb3b5556f47d8bfd05b90b7ffe7c7">系统管理员不受行访问控制特性影响。</p>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE PROCEDURE" alias="CREATE PROCEDURE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_ada7b851037bb48b9a2a43a0ce5bd2356">创建一个新的存储过程。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_ul1157934610166"><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li757824611618">如果创建存储过程时参数或返回值带有精度，不进行精度检测。</li><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_li11400107183312">创建存储过程时，存储过程定义中对表对象的操作建议都显示指定模式，否则可能会导致存储过程执行异常。</li><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_li155511718334">在创建存储过程时，存储过程内部通过SET语句设置current_schema和search_path无效。执行完函数search_path和current_schema与执行函数前的search_path和current_schema保持一致。</li><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li10578184621617">如果存储过程参数中带有出参，SELECT调用存储过程必须缺省出参，CALL调用存储过程调用非重载函数时必须指定出参，对于重载的package函数，out参数可以缺省，具体信息参见<a>CALL</a>的示例。</li><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li357824616164">存储过程指定package属性时支持重载。</li><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li657994620163">在创建procedure时，不能在avg函数外面嵌套其他agg函数，或者其他系统函数。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_sd280eae8999640289a894f0805c065e5"><span id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_text13039493243">postgres=# </span>CREATE [ OR REPLACE ] PROCEDURE procedure_name
    [ ( {[ argmode ] [ argname ] argtype [ { DEFAULT | := | = } expression ]}[,...]) ]
    [
       { IMMUTABLE | STABLE | VOLATILE }
       | { SHIPPABLE | NOT SHIPPABLE }
       | {PACKAGE}
       | [ NOT ] LEAKPROOF
       | { CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT }
       | {[ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER | AUTHID DEFINER | AUTHID CURRENT_USER}
       | COST execution_cost
       | ROWS result_rows
       | SET configuration_parameter { [ TO | = ] value | FROM CURRENT }
    ][ ... ]
 { IS | AS } 
plsql_body 
/</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a24da1052dffe424fbe7f5b513e690a3c">OR REPLACE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a9c8e900e45924054b2bab79c34aed057">当存在同名的存储过程时，替换原来的定义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a0de4475d160446bf8bbcefbf13ce3fcc">procedure_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_zh-cn_topic_0058965747_p531928510524">创建的存储过程名称，可以带有模式名。</p>
<p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_ab70238164359420a9d6c4e7e687a7e52">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a621f9a696ee2471eb05e010a6f819cc7">argmode</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a2d1a35b17b8f44d8aaa53bbf4905fefb">参数的模式。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_n1d6078f52c9d4595b0f06dd62fb05782"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_ac23fb3b5556f47d8bfd05b90b7ffe7c7">VARIADIC用于声明数组类型的参数。</p>
</div></div>
<p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_aee21186b51be4e72bb243267f6821729">取值范围： IN，OUT，INOUT或VARIADIC。缺省值是IN。只有OUT模式的参数后面能跟VARIADIC。并且OUT和INOUT模式的参数不能用在RETURNS TABLE的过程定义中。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a7eb14e1e470b495db2c653c1ce5ad7fb">argname</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_aa725036c129c4635878cc9ee0f6608b2">参数的名称。</p>
<p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a67c5553655534593a49899de72bae3d9">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a31a95e9ebe4a4d229cd450bc21461306">argtype</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a19dd56ba998c4140af95643a350bba17">参数的数据类型。</p>
<p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a181c0b74dbf14bebb4997797e21ff792">取值范围：可用的数据类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_b43191697348">IMMUTABLE、STABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'>等<p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_p3616012216">行为约束可选项。各参数的功能与CREATE FUNCTION类似，详细说明见<a>CREATE FUNCTION</a></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a2fd3405e422a4b8b9092b0ca0fb317bb">plsql_body</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a97f0d6d69c994b50803debfaac76f0a5">PL/SQL存储过程体。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_n6511feacb2b64f9cacad736331f2d624"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_a9115d83d20e747999d6a46d813de95ce">当在存储过程体中进行创建用户等涉及用户密码相关操作时，系统表及csv日志中会记录密码的明文。因此不建议用户在存储过程体中进行涉及用户密码的相关操作。</p>
</div></div>
</div></ul></div>]]></suggestion>
    <sub id="analyse">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_ul1241074011286"><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li154111740172810">不支持在事务或匿名块中执行analyze 。</li><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li341412400282">不支持在函数或存储过程中执行analyze操作。</li></ul>
]]></suggestion>
    </sub>
    <sub id="analyze">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_ul1241074011286"><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li154111740172810">不支持在事务或匿名块中执行analyze 。</li><li id="ZH-CN_TOPIC_0242370574__zh-cn_topic_0237122110_zh-cn_topic_0059778640_li341412400282">不支持在函数或存储过程中执行analyze操作。</li></ul>
]]></suggestion>
    </sub>
  </command>
  <command id="CREATE ROLE" alias="CREATE ROLE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_p2056614632416">创建角色。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_p16494133862416">角色是拥有数据库对象和权限的实体。在不同的环境中角色可以认为是一个用户，一个组或者兼顾两者。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_ul1562316561251"><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li5623145619251">在数据库中添加一个新角色，角色无登录权限。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li262318565259">创建角色的用户必须具备CREATE ROLE的权限或者是系统管理员。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建一个角色，名为manager，密码为Bigdata@123。
postgres=# CREATE ROLE manager IDENTIFIED BY ' Bigdata@123 ' ; 

--创建一个角色，从2015年1月1日开始生效，到2026年1月1日失效。
postgres=# CREATE ROLE miriam WITH LOGIN PASSWORD ' Bigdata@123 ' VALID BEGIN ' 2015-01-01 ' VALID UNTIL ' 2026-01-01 ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_s0f9fce84f4f44a3aa13c752bf0d40235">CREATE ROLE role_name [ [ WITH ] option [ ... ] ] [ ENCRYPTED | UNENCRYPTED ] { PASSWORD | IDENTIFIED BY } { 'password' | DISABLE };</pre>
<div class="p" id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a7d83537fb76a4fbf9e74787103a6f473">其中角色信息设置子句option语法为：<pre class="screen" id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_s806c9922a891433c847f834514fab5ab">{SYSADMIN | NOSYSADMIN}
    | {AUDITADMIN | NOAUDITADMIN}
    | {CREATEDB | NOCREATEDB}
    | {USEFT | NOUSEFT}
    | {CREATEROLE | NOCREATEROLE}
    | {INHERIT | NOINHERIT}
    | {LOGIN | NOLOGIN}
    | {REPLICATION | NOREPLICATION}
    | {INDEPENDENT | NOINDEPENDENT}
    | {VCADMIN | NOVCADMIN}
    | CONNECTION LIMIT connlimit
    | VALID BEGIN 'timestamp'
    | VALID UNTIL 'timestamp'
    | RESOURCE POOL 'respool'
    | PERM SPACE 'spacelimit'
    | TEMP SPACE 'tmpspacelimit'
    | SPILL SPACE 'spillspacelimit'
    | IN ROLE role_name [, ...]
    | IN GROUP role_name [, ...]
    | ROLE role_name [, ...]
    | ADMIN rol e_name [, ...]
    | USER role_name [, ...]
    | SYSID uid
    | DEFAULT TABLESPACE tablespace_name
    | PROFILE DEFAULT
    | PROFILE profile_name
    | PGUSER</pre>
</div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a24900bb9e8de4b279a17517838bde016">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a9bfa96b4a75b4f21bc06a3bc66c57821">角色名称。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_zh-cn_topic_0058966126_p973232318449">取值范围：字符串，要符合标识符的命名规范，且最多为63个字符。若超过63个字符，数据库会截断并保留前63个字符当做角色名称。在创建角色时，数据库的时候会给出提示信息。</p>
<div class="note" id="ZH-CN_TOPIC_0242370576__note102281757201118"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370576__p1734102812143">标识符需要为字母、下划线、数字（0-9）或美元符号（$），且必须以字母（a-z）或下划线（_）开头。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aa73e9867b81048af8af8fe8580d00618">password</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a5d96a778a38e420da3c0ecbf48241dc0">登录密码。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a0c8931f70fc34dddafc2803a1e5d17a8">密码规则如下：</p>
<ul id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_u9f7e48edc5e441e8bba67ced12e3b4fd"><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_le46fbe047bcf4f4284b82a7f1672d347">密码默认不少于8个字符。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_l4a462a331000455d8c17ae733b4bc797">不能与用户名及用户名倒序相同。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_l9174dda23ef2420693ccd7b30295168a">至少包含大写字母（A-Z），小写字母（a-z），数字（0-9），非字母数字字符（限定为~!@#$%^&amp;*()-_=+\|[{}];:,&lt;.&gt;/?）四类字符中的三类字符。</li></ul>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aae2aeb7af63d43a7aa854c35778cbc7f">取值范围：字符串。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">DISABLE&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_p990311347575">默认情况下，用户可以更改自己的密码，除非密码被禁用。要禁用用户的密码，请指定DISABLE。禁用某个用户的密码后，将从系统中删除该密码，此类用户只能通过外部认证来连接数据库，例如：kerberos认证。只有管理员才能启用或禁用密码。普通用户不能禁用初始用户的密码。要启用密码，请运行ALTER USER并指定密码。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_zh-cn_topic_0058966126_b130248294628">ENCRYPTED | UNENCRYPTED</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a2476d24fc6264e1b8fac2079cb2cf76d">控制密码存储在系统表里的口令是否加密。（如果没有指定，那么缺省的行为由配置参数password_encryption控制。）按照产品安全要求，密码必须加密存储，所以，UNENCRYPTED在<span id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_text10750623144315"><span id="ZH-CN_TOPIC_0242370576__text17743181622012">openGauss</span></span>中禁止使用。因为系统无法对指定的加密口令字符串进行解密，所以如果目前的口令字符串已经是用SHA256加密的格式，则会继续照此存放，而不管是否声明了ENCRYPTED或UNENCRYPTED。这样就允许在dump/restore的时候重新加载加密的口令。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a93dd2e0f187d4a5a988d6b46bf197506">SYSADMIN | NOSYSADMIN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aa8e73547c31447b193ceeba8c1c45d4f">决定一个新角色是否为“系统管理员”，具有SYSADMIN属性的角色拥有系统最高权限。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a1e0c74028387415b9e33d3c9906cc972">缺省为NOSYSADMIN。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a033cb58a01a4446f97af111d3fe2410b">AUDITADMIN | NOAUDITADMIN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a5b1951dacdfe44548c6b681ef5518f98">定义角色是否有审计管理属性。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a1df4322a0fa64673ae8355f2f81d77d7">缺省为NOAUDITADMIN。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aec292318b6e24920af2568336cc427d1">CREATEDB | NOCREATEDB</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a2813f04a62ec4c32adc60ea993dc16bc">决定一个新角色是否能创建数据库。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a9dc0541feaf345c7b5646b29b1f13fd6">新角色没有创建数据库的权限。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a7d7d1a27982f430c83ad5c8c2ff7ff4a">缺省为NOCREATEDB。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_b980517192214">USEFT | NOUSEFT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_p52497213213">该参数为保留参数，暂未启用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aa00a11151fa2462a82851827071c7333">CREATEROLE | NOCREATEROLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a4d43c663f825419aa63df1dd17b7c32b">决定一个角色是否可以创建新角色（也就是执行CREATE ROLE和CREATE USER）。 一个拥有CREATEROLE权限的角色也可以修改和删除其他角色。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a1c1ceb5af37b45679e938063086fd288">缺省为NOCREATEROLE。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a764a910ae1674a03ac981245b7a6999b">INHERIT | NOINHERIT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_ab8c154eec16e41f189091f0b084ef132">这些子句决定一个角色是否“继承”它所在组的角色的权限。不推荐使用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a0029cf8f2e624457a5857ddb38093213">LOGIN | NOLOGIN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a307e8c33925e42ea86de2cc0e61fb908">具有LOGIN属性的角色才可以登录数据库。一个拥有LOGIN属性的角色可以认为是一个用户。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a44cccac3b15541be98681f1f33bcb147">缺省为NOLOGIN。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a3f81a62228f04e6d8fde2727645a66b1">REPLICATION | NOREPLICATION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a75b1d62994e247b1886da10193f3e5cd">定义角色是否允许流复制或设置系统为备份模式。REPLICATION属性是特定的角色，仅用于复制。</p>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a1f22b75090344d63a0bd8cf151b657c8">缺省为NOREPLICATION。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_b0959817105616">INDEPENDENT | NOINDEPENDENT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_p11291024175718">定义私有、独立的角色。具有INDEPENDENT属性的角色，管理员对其进行的控制、访问的权限被分离，具体规则如下：</p>
<ul id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_ul288816117715"><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li1689014111379">未经INDEPENDENT角色授权，系统管理员无权对其表对象进行增、删、查、改、拷贝、授权操作。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li689518111878">未经INDEPENDENT角色授权，系统管理员和拥有CREATEROLE属性的安全管理员无权修改INDEPENDENT角色的继承关系。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li698510283212">系统管理员无权修改INDEPENDENT角色的表对象的属主。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li179032017131915">系统管理员和拥有CREATEROLE属性的安全管理员无权去除INDEPENDENT角色的INDEPENDENT属性。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li289711111674">系统管理员和拥有CREATEROLE属性的安全管理员无权修改INDEPENDENT角色的数据库口令，INDEPENDENT角色需管理好自身口令，口令丢失无法重置。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li3589174815216">管理员属性用户不允许定义修改为INDEPENDENT属性。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_zh-cn_topic_0058966126_b432645818440">CONNECTION LIMIT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a7111f27558e148f1acc08c8dca05360e">声明该角色可以使用的并发连接数量。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778277_n392236a4135141238119c541598308b9"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_ul6645529142414"><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li12646102914241">系统管理员不受此参数的限制。</li><li id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_li947073252417">connlimit数据库主节点单独统计，<span id="ZH-CN_TOPIC_0242370576__text1987112115320">openGauss</span>整体的连接数 = connlimit * 当前正常数据库主节点个数。</li></ul>
</div></div>
<p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_abdea160e94f3400eb49d5b3c7d22201f">取值范围：整数，&gt;=-1，缺省值为-1，表示没有限制。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a1e251c21971e4cdb8e9daa543fe91ee7">VALID BEGIN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a868f81e063634ded96396174565b6f25">设置角色生效的时间戳。如果省略了该子句，角色无有效开始时间限制。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a27ff9d22cc574ac9baaddf2f80b32a80">VALID UNTIL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a4bc7065f63544a729b80f65acdd2bfec">设置角色失效的时间戳。如果省略了该子句，角色无有效结束时间限制。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_ad8f13cd85eae42028eb48ea34a333751">RESOURCE POOL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a6bf5785876d84e4f9caea58710f75e4d">设置角色使用的resource pool名称，该名称属于系统表：pg_resource_pool。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_b251814418468">PERM SPACE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_p258211158456">设置用户使用空间的大小。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_b13948462523">TEMP SPACE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_p843031214495">设置用户临时表存储空间限额。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_b143740785311">SPILL SPACE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_p54661130144915">设置用户算子落盘空间限额。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_afa4e9fdedf8d4aacbadcbc6cf8127936">IN ROLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a845109e252e64b5d927c7b49b25348fa">新角色立即拥有IN ROLE子句中列出的一个或多个现有角色拥有的权限。不推荐使用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aea2debd2c1664363b418f0bec176c96d">IN GROUP</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_zh-cn_topic_0058966126_p864861218531">IN GROUP是IN ROLE过时的拼法。不推荐使用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aa87cec472b8245a5bd30f04c1b7559ce">ROLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a99b5ff65a2d94e6fae37fa66723404aa">ROLE子句列出一个或多个现有的角色，它们将自动添加为这个新角色的成员，拥有新角色所有的权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_aa8648362f435452086f8e4de6828d32a">ADMIN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_abc77a44934354b0abedd613d82d0aa6d">ADMIN子句类似ROLE子句，不同的是ADMIN后的角色可以把新角色的权限赋给其他角色。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_ab608651f832845a8baf75500407fc4e5">USER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_ac5912e70c05d445da2d33eecad25efcf">USER子句是ROLE子句过时的拼法。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a852a52382acf494c922a96c4fcece2c8">SYSID</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a9def28da36ec46a0911179c70f28d25c">SYSID子句将被忽略，无实际意义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a4b629fe72c994ef39ad58efb0553dc0d">DEFAULT TABLESPACE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_ae7d71ee42ba541df93f92993880b7bfc">DEFAULT TABLESPACE子句将被忽略，无实际意义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a9d23a23b4e974b8ab2cad0e569a945cb">PROFILE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_a800a2b03288c43b197027c3c87d89791">PROFILE子句将被忽略，无实际意义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_b154772336228">PGUSER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370576__zh-cn_topic_0237122112_zh-cn_topic_0059778189_p1147713338225">当前版本该属性没有实际意义，仅为了语法的前向兼容而保留。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE SCHEMA" alias="CREATE SCHEMA">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_p549110246542">创建模式。</p>
<p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a411f19b91fac43fa9c4f9eef4a2d5708">访问命名对象时可以使用模式名作为前缀进行访问，如果无模式名前缀，则访问当前模式下的命名对象。创建命名对象时也可用模式名作为前缀修饰。</p>
<p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a6b26944f26a9416b935182ce717aff27">另外，CREATE SCHEMA可以包括在新模式中创建对象的子命令，这些子命令和那些在创建完模式后发出的命令没有任何区别。如果使用了AUTHORIZATION子句，则所有创建的对象都将被该用户所拥有。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_ul795312913276"><li id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_li1695317294272">只要用户对当前数据库有CREATE权限，就可以创建模式。</li><li id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_li10953229182712">系统管理员在普通用户同名schema下创建的对象，所有者为schema的同名用户（非系统管理员）。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">-- 为用户role1创建一个同名schema，子命令创建的表films和winners的拥有者为role1。
postgres=# CREATE SCHEMA AUTHORIZATION role1
CREATE TABLE films ( title text , release date , awards text[] ) 
CREATE VIEW winners AS
SELECT title , release FROM films WHERE awards IS NOT NULL ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_u23076c0b9bf24a9c86d19e956d574df4"><li id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_l7956ad2057ec4a268855a9dd22de213b">根据指定的名称创建模式。<pre class="screen" id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_sdb57e5790d9a4d73a98569ba91d606da">CREATE SCHEMA schema_name 
    [ AUTHORIZATION user_name ] [ schema_element [ ... ] ];</pre>
</li><li id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_laebb5a112c0d4b0fa43e349b7cc450e2">根据用户名创建模式。<pre class="screen" id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_sef155fe0d18b4c6e8c0fd6af8c5b9183">CREATE SCHEMA AUTHORIZATION user_name [ schema_element [ ... ] ];</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a0bbb957bac464157a9bc19dae16686f9">schema_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a959b363c9cfb4094800018787d67e9d5">模式名称。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_n278eec8e48e24e79bc8cb194f955e55d"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_ac172a1b62fe84ac18d65e572304aea58">模式名不能和当前数据库里其他的模式重名。</p>
<p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a19b48c5f64d148099261e587ac25b3dc">模式的名称不可以“pg_”开头。</p>
</div></div>
<p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a6d4e18124df9449f964eeb004d5347e3">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a2ff368bdbb8343338bee31fd01742b32">AUTHORIZATION user_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a7799b2d720044e268c59fbe10383366d">指定模式的所有者。当不指定schema_name时，把user_name当作模式名，此时user_name只能是角色名。</p>
<p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_zh-cn_topic_0058966152_p313944419527">取值范围：已存在的用户名/角色名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_a5e12f5cb017c495a968fd9c903c5df3c">schema_element</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_ac262a2adbdae4c3d9da6c180176cdc0f">在模式里创建对象的SQL语句。目前仅支持CREATE TABLE、CREATE VIEW、CREATE INDEX、CREATE PARTITION、GRANT子句。</p>
<p id="ZH-CN_TOPIC_0242370577__zh-cn_topic_0237122113_zh-cn_topic_0059777945_aba29636535a744bcbb0880906a6e4893">子命令所创建的对象都被AUTHORIZATION子句指定的用户所拥有。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE SEQUENCE" alias="CREATE SEQUENCE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_p88567147426">CREATE SEQUENCE用于向当前数据库里增加一个新的序列。序列的Owner为创建此序列的用户。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_ul9174659182911"><li id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_li14174105982910">Sequence是一个存放等差数列的特殊表。这个表没有实际意义，通常用于为行或者表生成唯一的标识符。</li><li id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_li1817485922912">如果给出一个模式名，则该序列就在给定的模式中创建，否则会在当前模式中创建。序列名必须和同一个模式中的其他序列、表、索引、视图或外表的名称不同。</li><li id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_li7174155912913">创建序列后，在表中使用序列的nextval()函数和generate_series(1,N)函数对表插入数据，请保证nextval的可调用次数大于等于N+1次，否则会因为generate_series()函数会调用N+1次而导致报错。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">postgres=# CREATE SEQUENCE serial
START 101
CACHE 20 ; 
从序列中选出下一个数字：
postgres=# SELECT nextval ( ' serial ' ) ; 
nextval

--
102
创建与表关联的序列：
postgres=# CREATE TABLE customer_address
 ( 
ca_address_sk integer not null , 
ca_address_id char ( 16 ) not null , 
ca_street_number char ( 10 ) , 
ca_street_name varchar ( 60 ) , 
ca_street_type char ( 15 ) , 
ca_suite_number char ( 10 ) , 
ca_city varchar ( 60 ) , 
ca_county varchar ( 30 ) , 
ca_state char ( 2 ) , 
ca_zip char ( 10 ) , 
ca_country varchar ( 20 ) , 
ca_gmt_offset decimal ( 5 , 2 ) , 
ca_location_type char ( 20 ) 
 ) ; 
postgres=# CREATE SEQUENCE serial1
START 101
CACHE 20
OWNED BY customer_address.ca_address_sk ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_screen3402167111615">CREATE SEQUENCE name [ INCREMENT [ BY ] increment ]
    [ MINVALUE minvalue | NO MINVALUE | NOMINVALUE ] [ MAXVALUE maxvalue | NO MAXVALUE | NOMAXVALUE] 
    [ START [ WITH ] start ] [ CACHE cache ] [ [ NO ] CYCLE | NOCYCLE ] 
    [ OWNED BY { table_name.column_name | NONE } ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b1084541112615">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_p9299178288">将要创建的序列名称。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p1878194192615">取值范围: 仅可以使用小写字母（a~z）、 大写字母（A~Z），数字和特殊字符"#"，"_"，"$"的组合。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b16332735122718">increment</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p9369143002718">指定序列的步长。一个正数将生成一个递增的序列，一个负数将生成一个递减的序列。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p614152462810">缺省值为1。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b1710214016256">MINVALUE minvalue | NO MINVALUE| NOMINVALUE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p2387356122813">执行序列的最小值。如果没有声明minvalue或者声明了NO MINVALUE，则递增序列的缺省值为1，递减序列的缺省值为-2<sup id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_sup5971102115305">63</sup>-1。NOMINVALUE等价于NO MINVALUE</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b4130613016311">MAXVALUE maxvalue | NO MAXVALUE| NOMAXVALUE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p446510284309">执行序列的最大值。如果没有声明maxvalue或者声明了NO MAXVALUE，则递增序列的缺省值为2<sup id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_sup43350582105639">63</sup>-1，递减序列的缺省值为-1。NOMAXVALUE等价于NO MAXVALUE</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b39725374619">start</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p979016193462">指定序列的起始值。缺省值：对于递增序列为minvalue，递减序列为maxvalue。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b625174917531">cache</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p159181039185411">为了快速访问，而在内存中预先存储序列号的个数。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p48678338539">缺省值为1，表示一次只能生成一个值，也就是没有缓存。</p>
<div class="note" id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_ne7521c1949524f60b62f5e81622ba30e"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_a6602f4323ef844908cec2fd51f12cee0">不建议同时定义cache和maxvalue或minvalue。因为定义cache后不能保证序列的连续性，可能会产生空洞，造成序列号段浪费。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b629919521575">CYCLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p35771756135820">用于使序列达到maxvalue或者minvalue后可循环并继续下去。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p157124516598">如果声明了NO CYCLE，则在序列达到其最大值后任何对nextval的调用都会返回一个错误。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p1131613743612">NOCYCLE的作用等价于NO CYCLE。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p79181050205911">缺省值为NO CYCLE。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p8728028162426">若定义序列为CYCLE，则不能保证序列的唯一性。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_b189111515311">OWNED BY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'>-<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p33501231969">将序列和一个表的指定字段进行关联。这样，在删除那个字段或其所在表的时候会自动删除已关联的序列。关联的表和序列的所有者必须是同一个用户，并且在同一个模式中。需要注意的是，通过指定OWNED BY，仅仅是建立了表的对应列和sequence之间关联关系，并不会在插入数据时在该列上产生自增序列。</p>
<p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_zh-cn_topic_0059778825_p19630241866">缺省值为OWNED BY NONE，表示不存在这样的关联。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_note114471820913"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370578__zh-cn_topic_0237122114_p1644893525814">通过OWNED BY创建的Sequence不建议用于其他表，如果希望多个表共享Sequence，该Sequence不应该从属于特定表。</p>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE SYNONYM" alias="CREATE SYNONYM">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_p1479251195413">创建一个同义词对象。同义词是数据库对象的别名，用于记录与其他数据库对象名间的映射关系，用户可以使用同义词访问关联的数据库对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_ul10234635104412"><li id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_li158597016496">定义同义词的用户成为其所有者。</li><li id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_li2393131774711">若指定模式名称，则同义词在指定模式中创建。否则，在当前模式创建。</li><li id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_li82251056114919">支持通过同义词访问的数据库对象包括：表、视图、函数和存储过程。</li><li id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_li16827289513">使用同义词时，用户需要具有对关联对象的相应权限。</li><li id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_li1643774675120">支持使用同义词的DML语句包括：SELECT、INSERT、UPDATE、DELETE、EXPLAIN、CALL。</li><li id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_li6548114401417">不支持关联函数或存储过程的CREATE SYNONYM语句出现在存储过程中，建议存储过程中使用系统表pg_synonym中已存在的同义词对象。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建表ot.t1及其同义词t1。
postgres=# CREATE TABLE ot.t1 ( id int , name varchar2 ( 10 ) ) ; 
postgres=# CREATE OR REPLACE SYNONYM t1 FOR ot.t1 ; 

--创建同义词v1及其关联视图ot.v_t1。
postgres=# CREATE SYNONYM v1 FOR ot.v_t1 ; 
postgres=# CREATE VIEW ot.v_t1 AS SELECT * FROM ot.t1 ; 

--创建重载函数ot.add及其同义词add。
postgres=# CREATE OR REPLACE FUNCTION ot.add ( a integer , b integer ) RETURNS integer AS
$$
SELECT $1 + $2
$$
LANGUAGE sql ; 
postgres=# CREATE OR REPLACE FUNCTION ot.add ( a decimal ( 5 , 2 ) , b decimal ( 5 , 2 ) ) RETURNS decimal ( 5 , 2 ) AS
$$
SELECT $1 + $2
$$
LANGUAGE sql ; 
postgres=# CREATE OR REPLACE SYNONYM add FOR ot.add ; 

--创建存储过程ot.register及其同义词register。
postgres=# CREATE PROCEDURE ot.register ( n_id integer , n_name varchar2 ( 10 ) ) 
SECURITY INVOKER
AS
BEGIN
INSERT INTO ot.t1 VALUES ( n_id , n_name ) ; 
END ; 
/
postgres=# CREATE OR REPLACE SYNONYM register FOR ot.register ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_zh-cn_topic_0059777835_s363572554d1f4573b9403ce62bc482cd">CREATE [ OR REPLACE ] SYNONYM synonym_name 
    FOR object_name;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_b614481895914">synonym</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_p836651861419">创建的同义词名字，可以带模式名。</p>
<p id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_p967943011145">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_b1872512405564">object_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_p571312461613">关联的对象名字，可以带模式名。</p>
<p id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_p734282114167">取值范围：字符串，要符合标识符的命名规范。</p>
<div class="note" id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_note82872047173219"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0251556711__zh-cn_topic_0237122116_p152876474329">object_name可以是不存在的对象名称。</p>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE TABLE" alias="CREATE TABLE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_p1479251195413">在当前数据库中创建一个新的空白表，该表由命令执行者所有。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_uf05e608bfcf04cc5a8aafb1b33deee45"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l1bec7f9f4ca449c2b20f05b7a49ae86b">列存表支持的数据类型请参考<a>列存表支持的数据类型</a>。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l34fb1576582c4a6b892e8e20696ef293">创建列存表的数量建议不超过1000个。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l133f3d994ab541a8971140c7feb63cc6">表中的主键约束和唯一约束必须包含分布列。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lb84d102b33de471b931720f6eec9d819">如果在建表过程中数据库系统发生故障，系统恢复后可能无法自动清除之前已创建的、大小为0的磁盘文件。此种情况出现概率小，不影响数据库系统的正常运行。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l1238a9788ea24631a39d538615fc2b4f">列存表的表级约束只支持PARTIAL CLUSTER KEY，不支持主外键等表级约束。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l0081133f1c0f4aa18d70e2157c5df577">列存表的字段约束只支持NULL、NOT NULL和DEFAULT常量值。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_li1650612339613">列存表支持delta表，受参数<a>enable_delta_store</a> 控制是否开启，受参数deltarow_threshold控制进入delta表的阀值。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_li1872021310512">使用JDBC时，支持通过PrepareStatement对DEFAUTL值进行参数化设置。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建简单的表。
postgres=# CREATE TABLE tpcds.warehouse_t1
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 
postgres=# CREATE TABLE tpcds.warehouse_t2
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) DICTIONARY , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--创建表，并指定W_STATE字段的缺省值为GA。
postgres=# CREATE TABLE tpcds.warehouse_t3
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) DEFAULT ' GA ' , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--创建表，并在事务结束时检查W_WAREHOUSE_NAME字段是否有重复。
postgres=# CREATE TABLE tpcds.warehouse_t4
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) UNIQUE DEFERRABLE , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--创建一个带有70%填充因子的表。
postgres=# CREATE TABLE tpcds.warehouse_t5
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) , 
UNIQUE ( W_WAREHOUSE_NAME ) WITH ( fillfactor=70 ) 
 ) ; 

--或者用下面的语法。
postgres=# CREATE TABLE tpcds.warehouse_t6
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) UNIQUE , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) WITH ( fillfactor=70 ) ; 

--创建表，并指定该表数据不写入预写日志。
postgres=# CREATE UNLOGGED TABLE tpcds.warehouse_t7
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--创建表临时表。
postgres=# CREATE TEMPORARY TABLE warehouse_t24
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--事务中创建表临时表，并指定提交事务时删除该临时表数据。
postgres=# CREATE TEMPORARY TABLE warehouse_t25
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ON COMMIT DELETE ROWS ; 

--创建表时，不希望因为表已存在而报错。
postgres=# CREATE TABLE IF NOT EXISTS tpcds.warehouse_t8
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--创建普通表空间。
postgres=# CREATE TABLESPACE DS_TABLESPACE1 RELATIVE LOCATION ' tablespace/tablespace_1 ' ; 

--创建表时，指定表空间。
postgres=# CREATE TABLE tpcds.warehouse_t9
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) TABLESPACE DS_TABLESPACE1 ; 

--创建表时，单独指定W_WAREHOUSE_NAME的索引表空间。
postgres=# CREATE TABLE tpcds.warehouse_t10
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) UNIQUE USING INDEX TABLESPACE DS_TABLESPACE1 , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--创建一个有主键约束的表。
postgres=# CREATE TABLE tpcds.warehouse_t11
 ( 
W_WAREHOUSE_SK INTEGER PRIMARY KEY , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--或是用下面的语法，效果完全一样。
postgres=# CREATE TABLE tpcds.warehouse_t12
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) , 
PRIMARY KEY ( W_WAREHOUSE_SK ) 
 ) ; 

--或是用下面的语法，指定约束的名称。
postgres=# CREATE TABLE tpcds.warehouse_t13
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) , 
CONSTRAINT W_CSTR_KEY1 PRIMARY KEY ( W_WAREHOUSE_SK ) 
 ) ; 

--创建一个有复合主键约束的表。
postgres=# CREATE TABLE tpcds.warehouse_t14
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) , 
CONSTRAINT W_CSTR_KEY2 PRIMARY KEY ( W_WAREHOUSE_SK , W_WAREHOUSE_ID ) 
 ) ; 

--创建列存表。
postgres=# CREATE TABLE tpcds.warehouse_t15
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) WITH ( ORIENTATION = COLUMN ) ; 

--创建局部聚簇存储的列存表。
postgres=# CREATE TABLE tpcds.warehouse_t16
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) , 
PARTIAL CLUSTER KEY ( W_WAREHOUSE_SK , W_WAREHOUSE_ID ) 
 ) WITH ( ORIENTATION = COLUMN ) ; 

--定义一个带压缩的列存表。
postgres=# CREATE TABLE tpcds.warehouse_t17
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) WITH ( ORIENTATION = COLUMN , COMPRESSION=HIGH ) ; 

--定义一个带压缩的表。
postgres=# CREATE TABLE tpcds.warehouse_t18
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) COMPRESS ; 

--定义一个检查列约束。
postgres=# CREATE TABLE tpcds.warehouse_t19
 ( 
W_WAREHOUSE_SK INTEGER PRIMARY KEY CHECK ( W_WAREHOUSE_SK &gt; 0 ) , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) CHECK ( W_WAREHOUSE_NAME IS NOT NULL ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 
postgres=# CREATE TABLE tpcds.warehouse_t20
 ( 
W_WAREHOUSE_SK INTEGER PRIMARY KEY , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) CHECK ( W_WAREHOUSE_NAME IS NOT NULL ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) , 
CONSTRAINT W_CONSTR_KEY2 CHECK ( W_WAREHOUSE_SK &gt; 0 AND W_WAREHOUSE_NAME IS NOT NULL ) 
 ) ; 

--定义一个表，表中每一个行存在数据库节点中。
postgres=# CREATE TABLE tpcds.warehouse_t21
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) 
 ) ; 

--定义一个表，使用HASH分布。
postgres=# CREATE TABLE tpcds.warehouse_t22
 ( 
W_WAREHOUSE_SK INTEGER NOT NULL , 
W_WAREHOUSE_ID CHAR ( 16 ) NOT NULL , 
W_WAREHOUSE_NAME VARCHAR ( 20 ) , 
W_WAREHOUSE_SQ_FT INTEGER , 
W_STREET_NUMBER CHAR ( 10 ) , 
W_STREET_NAME VARCHAR ( 60 ) , 
W_STREET_TYPE CHAR ( 15 ) , 
W_SUITE_NUMBER CHAR ( 10 ) , 
W_CITY VARCHAR ( 60 ) , 
W_COUNTY VARCHAR ( 30 ) , 
W_STATE CHAR ( 2 ) , 
W_ZIP CHAR ( 10 ) , 
W_COUNTRY VARCHAR ( 20 ) , 
W_GMT_OFFSET DECIMAL ( 5 , 2 ) , 
CONSTRAINT W_CONSTR_KEY3 UNIQUE ( W_WAREHOUSE_SK ) 
 ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u86542bdb16c24d3db39743aa6dd260b2"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lcb2edad12e674c168e5bac1cc93e10f8">创建表。<pre class="screen" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_s64d89742a2a142f9a12c7f73a5cbba24">CREATE [ [ GLOBAL | LOCAL ] { TEMPORARY | TEMP } | UNLOGGED ] TABLE [ IF NOT EXISTS ] table_name 
    ({ column_name data_type [ compress_mode ] [ COLLATE collation ] [ column_constraint [ ... ] ]
        | table_constraint
        | LIKE source_table [ like_option [...] ] }
        [, ... ])
    [ WITH ( {storage_parameter = value} [, ... ] ) ]
    [ ON COMMIT { PRESERVE ROWS | DELETE ROWS | DROP } ]
    [ COMPRESS | NOCOMPRESS ]
    [ TABLESPACE tablespace_name ];</pre>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u3c06b5a728d04cc4bc8b14c80d569106"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l5af8b1c3f5c8491d9584f4a19a9bb050">其中列约束column_constraint为：<pre class="screen" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_sa3d4b796746a4221a5a3d42bc2f1d1a4">[ CONSTRAINT constraint_name ]
{ NOT NULL |
  NULL |
  CHECK ( expression ) |
  DEFAULT default_expr |
  UNIQUE index_parameters |
  PRIMARY KEY index_parameters }
[ DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE ]</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u2d4fdc2409374b9b8e1bdd92128c2a40"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lb258ea466872441fa3b0935f31d1c241">其中列的压缩可选项compress_mode为：<pre class="screen" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_sfe236453d6384eba86964df91972c7f7">{ DELTA | PREFIX | DICTIONARY | NUMSTR | NOCOMPRESS }</pre>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l11380d47287b429ba2b34258898bdbb0">其中表约束table_constraint为：<pre class="screen" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_s8c71a34488444f40a5962655b04e6fe5">[ CONSTRAINT constraint_name ]
{ CHECK ( expression ) |
  UNIQUE ( column_name [, ... ] ) index_parameters |
  PRIMARY KEY ( column_name [, ... ] ) index_parameters |
  PARTIAL CLUSTER KEY ( column_name [, ... ] ) }
[ DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE ]</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u9b8ee8ea3d3c42a9b7f009b14661c0e6"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l276992b43ee0486da24970ce2c2640e8">其中like选项like_option为：<pre class="screen" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_s0891ded917ab4261be0c00c1303126e6">{ INCLUDING | EXCLUDING } { DEFAULTS | CONSTRAINTS | INDEXES | STORAGE | COMMENTS | PARTITION | RELOPTIONS | ALL }</pre>
</li></ul>
</li></ul>
<div class="p" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_zh-cn_topic_0058965792_p508152021772">其中索引参数index_parameters为：<pre class="screen" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_sf8b5beff75a64c14883b5a04275867fe">[ WITH ( {storage_parameter = value} [, ... ] ) ]
[ USING INDEX TABLESPACE tablespace_name ]</pre>
</div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a70b6657abc0748ae8c79be1c0cf3a7a3">UNLOGGED</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_afd5f9c90d9f54ddb864f0aa11c643a74">如果指定此关键字，则创建的表为非日志表。在非日志表中写入的数据不会被写入到预写日志中，这样就会比普通表快很多。但是非日志表在冲突、执行操作系统重启、强制重启、切断电源操作或异常关机后会被自动截断，会造成数据丢失的风险。非日志表中的内容也不会被复制到备服务器中。在非日志表中创建的索引也不会被自动记录。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a208a04a0f753449d874f60ea24af45da">使用场景：非日志表不能保证数据的安全性，用户应该在确保数据已经做好备份的前提下使用，例如系统升级时进行数据的备份。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a0e02055c635842b3b5d46731b6fd478c">故障处理：当异常关机等操作导致非日志表上的索引发生数据丢失时，用户应该对发生错误的索引进行重建。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_af5c49871f32f46b89d252ebf80915259">GLOBAL | LOCAL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_p151823164457">创建临时表时可以在TEMP或TEMPORARY前指定GLOBAL或LOCAL关键字。目前这两个关键字的设立，仅是为了兼容SQL标准，实际上无论指定GLOBAL还是LOCAL，<span id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_text24853331432"><span id="ZH-CN_TOPIC_0242370581__text587616213202">openGauss</span></span>都会创建本地临时表。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aa459e301ff6548498a6aa8d5103c9ae5">TEMPORARY | TEMP</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aaa28d13a6a6c46e7beb6b4dea88f58cf">如果指定TEMP或TEMPORARY关键字，则创建的表为临时表。临时表只在当前会话可见，本会话结束后会自动删除。因此，在除当前会话连接的<span id="ZH-CN_TOPIC_0242370581__text209141114408">数据库节点</span>故障时，仍然可以在当前会话上创建和使用临时表。由于临时表只在当前会话创建，对于涉及对临时表操作的DDL语句，会产生DDL失败的报错。因此，建议DDL语句中不要对临时表进行操作。TEMP和TEMPORARY等价。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_n64d44b0ed170429aa3088452025a78d8"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u9b2a65a00ae14f9a9b0639a198dcdd5d"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_leb35b496b6554a5a881893708f416dd5">临时表通过每个会话独立的以pg_temp开头的schema来保证只对当前会话可见，因此，不建议用户在日常操作中手动删除以pg_temp，pg_toast_temp开头的schema。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l1344ff0107fe46e69a128d3b0e23b666">如果建表时不指定TEMPORARY/TEMP关键字，而指定表的schema为当前会话的pg_temp_开头的schema，则此表会被创建为临时表。</li></ul>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a8e071a0252234880b71e153824d00116">IF NOT EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aa81d1f210c4043c289eb2748085c3347">如果已经存在相同名称的表，不会报出错误，而会发出通知，告知通知此表已存在。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a086e38598735424bb3a295f82a23fd1b">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a3ca84e2cf4954f82bcbc1b368e6ca909">要创建的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a9c02a1f15507499c91f1979d37e547a9">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_acebe28307959456a83f17aee00721c69">新表中要创建的字段名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a7fc65cdddc664db5ada0287d81d1a14f">data_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a0552033cb3bc43358a6a9e74ae857ce3">字段的数据类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_add8b5529a58d434395aecdbe6ec5d223">compress_mode</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a10a9e7d49af9410a8d98d30f449c481a">表字段的压缩选项，当前仅对行存表有效。该选项指定表字段优先使用的压缩算法。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a501d7431b14b48e5922e4ab0365fa8ed">取值范围：DELTA、PREFIX、DICTIONARY、NUMSTR、NOCOMPRESS</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a32034a41d3484873b0e002a13daf0ea4">COLLATE collation</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a13bf429e5fa140cdb791ebec7c06338c">COLLATE子句指定列的排序规则（该列必须是可排列的数据类型）。如果没有指定，则使用默认的排序规则。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_afe384d40396d41b988ea75e50d6af261">LIKE source_table [ like_option ... ]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a1ab3670e18bd4852b88459050e0a05d2">LIKE子句声明一个表，新表自动从这个表中继承所有字段名及其数据类型和非空约束。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a9320cc7c64cd47a19cdddf66545aafbb">新表与源表之间在创建动作完毕之后是完全无关的。在源表做的任何修改都不会传播到新表中，并且也不可能在扫描源表的时候包含新表的数据。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a2beaf0a170c44a7683ecb16ecde8838b">被复制的列和约束并不使用相同的名称进行融合。如果明确的指定了相同的名称或者在另外一个LIKE子句中，将会报错。</p>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ud3dc7d83f94f41bf82aeea3898f840ca"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lf68f0b1639294583a1a2d2a0dc741904">源表上的字段缺省表达式只有在指定INCLUDING DEFAULTS时，才会复制到新表中。缺省是不包含缺省表达式的，即新表中的所有字段的缺省值都是NULL。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lf08e8432c6004278a2115fdc0a363062">源表上的CHECK约束仅在指定INCLUDING CONSTRAINTS时，会复制到新表中，而其他类型的约束永远不会复制到新表中。非空约束总是复制到新表中。此规则同时适用于表约束和列约束。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l3fdd23cc05314187a76ce8a641fb9dca">如果指定了INCLUDING INDEXES，则源表上的索引也将在新表上创建，默认不建立索引。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l957334d1922846c8bdc4a943bb3b2280">如果指定了INCLUDING STORAGE，则复制列的STORAGE设置会复制到新表中，默认情况下不包含STORAGE设置。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l45c42d1b7c1d4008a86508f0932eaa70">如果指定了INCLUDING COMMENTS，则源表列、约束和索引的注释会复制到新表中。默认情况下，不复制源表的注释。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l16e2ffbd43324cbd9006c315187695f6">如果指定了INCLUDING PARTITION，则源表的分区定义会复制到新表中，同时新表将不能再使用PARTITION BY子句。默认情况下，不拷贝源表的分区定义。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l6f002e2187c146dfab57fa8d34fe42e5">如果指定了INCLUDING RELOPTIONS，则源表的存储参数（即源表的WITH子句）会复制到新表中。默认情况下，不复制源表的存储参数。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lf3bc8583e6f64689869bf18cea37c8f7">INCLUDING ALL包含了INCLUDING DEFAULTS、INCLUDING CONSTRAINTS、INCLUDING INDEXES、INCLUDING STORAGE、INCLUDING COMMENTS、INCLUDING PARTITION和INCLUDING RELOPTIONS的内容。</li></ul>
<div class="notice" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_note114471820913"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_ul1245114202012"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_li645813202111">如果源表包含serial、bigserial、smallseriral类型，或者源表字段的默认值是sequence，且sequence属于源表（通过CREATE SEQUENCE ... OWNED BY创建），这些Sequence不会关联到新表中，新表中会重新创建属于自己的sequence。这和之前版本的处理逻辑不同。如果用户希望源表和新表共享Sequence，需要首先创建一个共享的Sequence（避免使用OWNED BY），并配置为源表字段默认值，这样创建的新表会和源表共享该Sequence。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_li112431992510">不建议将其他表私有的Sequence配置为源表字段的默认值，尤其是其他表只分布在特定的NodeGroup上，这可能导致CREATE TABLE ... LIKE执行失败。另外，如果源表配置其他表私有的Sequence，当该表删除时Sequence也会连带删除，这样源表的Sequence将不可用。如果用户希望多个表共享Sequence，建议创建共享的Sequence。</li></ul>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a5b7272a98f984370a0285fee6e388969">WITH ( { storage_parameter = value } [, ... ] )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a9aa93b4d24ea4c61a11f302d2573c3ed">这个子句为表或索引指定一个可选的存储参数。</p>
<div class="note" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_n1f0f0d9b7cd94f9194030358ddebe224"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_zh-cn_topic_0058965792_p977039161618">使用任意精度类型Numeric定义列时，建议指定精度p以及刻度s。在不指定精度和刻度时，会按输入的显示出来。</p>
</div></div>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a9594a8c894564f579591580d52951da4">参数的详细描述如下所示。</p>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u12a737653be1472abcb200f1db613d38"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_laef6dd059e0745cb87cf83862b479ffd">FILLFACTOR<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aba018e702b0e4dd7a4f42c08e8974a0d">一个表的填充因子（fillfactor）是一个介于10和100之间的百分数。100（完全填充）是默认值。如果指定了较小的填充因子，INSERT操作仅按照填充因子指定的百分率填充表页。每个页上的剩余空间将用于在该页上更新行，这就使得UPDATE有机会在同一页上放置同一条记录的新版本，这比把新版本放置在其他页上更有效。对于一个从不更新的表将填充因子设为100是最佳选择，但是对于频繁更新的表，选择较小的填充因子则更加合适。该参数对于列存表没有意义。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ab40fa42ab8cc4e7c99c3753cb9edd981">取值范围：10~100</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l1b47d014aacc47f8bd8758f1a3a48aee">ORIENTATION<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_zh-cn_topic_0058965792_p359388717545">指定表数据的存储方式，即行存方式、列存方式、ORC格式的方式，该参数设置成功后就不再支持修改。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_zh-cn_topic_0058965792_p203671617035">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u5c0876596b7b4a1bbcce5723f359e319"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l1bbe222794c440ebbfb5dfab5a123dd6">ROW，表示表的数据将以行式存储。<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a447aac27ea214210944d322e1662992a">行存储适合于OLTP业务，适用于点查询或者增删操作较多的场景。</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l529b07a37bb34281a7185abd2ddb8423">COLUMN，表示表的数据将以列式存储。<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_zh-cn_topic_0058965792_p383100617651">列存储适合于数据仓库业务，此类型的表上会做大量的汇聚计算，且涉及的列操作较少。</p>
</li></ul>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a238de8941f5f44c190bca17a496512cc">默认值：</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_p5280187812">若指定表空间为普通表空间，默认值为ROW。</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lad689fbc02614c8694367cab52f964ad">COMPRESSION<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a3918bdbab98846a89c936dc080765bf0">指定表数据的压缩级别，它决定了表数据的压缩比以及压缩时间。一般来讲，压缩级别越高，压缩比也越大，压缩时间也越长；反之亦然。实际压缩比取决于加载的表数据的分布特征。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a191d3cf509d3406482ece5e3c246ddc1">取值范围：</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_p4546174744918">列存表的有效值为YES/NO/LOW/MIDDLE/HIGH，默认值为LOW。</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l65f6a044e2ca4cc9b9794faf22264c06">COMPRESSLEVEL<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_zh-cn_topic_0058965792_p607329395636">指定表数据同一压缩级别下的不同压缩水平，它决定了同一压缩级别下表数据的压缩比以及压缩时间。对同一压缩级别进行了更加详细的划分，为用户选择压缩比和压缩时间提供了更多的空间。总体来讲，此值越大，表示同一压缩级别下压缩比越大，压缩时间越长；反之亦然。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_af10b9fa7b83f49afbe435706a5c4ad10">取值范围：0~3，默认值为0。</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lbc6efe8d21d04f2aab1bf25b6428cffe">MAX_BATCHROW<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a55fc7824ee664bf89a30add250146588">指定了在数据加载过程中一个存储单元可以容纳记录的最大数目。该参数只对列存表有效。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a81a2b19697e1460ea824706f9d1e396d">取值范围：10000~60000</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lc6323b4bd26f48afae4117547a7fde4e">PARTIAL_CLUSTER_ROWS<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a15b364a93d5b42f6bd16f778c8e361b5">指定了在数据加载过程中进行将局部聚簇存储的记录数目。该参数只对列存表有效。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aae8eb8b80e814640812266a8d7abc31d">取值范围：600000~2147483647</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lb0b5377e83534b3eac0e425f44b60166"><a name="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lb0b5377e83534b3eac0e425f44b60166"></a><a name="zh-cn_topic_0237122117_zh-cn_topic_0059778169_lb0b5377e83534b3eac0e425f44b60166"></a>DELTAROW_THRESHOLD<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a911fc44312b841a7bd0edf704687ca21">指定列存表导入时小于多少行的数据进入delta表，只在GUC参数<a>enable_delta_store</a>开启时生效。该参数只对列存表有效。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a5a52dda525834036b54c121f6783cd51">取值范围：0～9999，默认值为100</p>
</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l3bbfe4a55ee946d9a2131711e7541517">VERSION<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a49e0d2e5d0aa4e56943b8d724ec54dc4">指定ORC存储格式的版本。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a0cfc13d3093646f186e90854fc0c78cb">取值范围：0.12，目前支持ORC 0.12格式，后续会随着ORC格式的发展，支持更多格式。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a28baa64843b94abb9008386a4c1127e1">默认值：0.12</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_afb1eebfe52124e038a1f0438365613b3">ON COMMIT { PRESERVE ROWS | DELETE ROWS | DROP }</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aa85e11c71c7c4e86940e2c44c14dd13a">ON COMMIT选项决定在事务中执行创建临时表操作，当事务提交时，此临时表的后续操作。有以下三个选项，当前支持PRESERVE ROWS和DELETE ROWS选项。</p>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u82ff47ea4e784acebfbe2b6db290ce98"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l2616fd927ed14669a1d891cd72f73e0f">PRESERVE ROWS（缺省值）：提交时不对临时表做任何操作，临时表及其表数据保持不变。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lc40c7703de0f419dbc66c57c8b98e1c3">DELETE ROWS：提交时删除临时表中数据。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lbc781f8111974e9f89c53b030ddda9bf">DROP：提交时删除此临时表。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a0ea1f8ad04ba4d3fa9e722495a1b01a3">COMPRESS | NOCOMPRESS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a4e2f42e31eb64c859ae24155c6dcafa3">创建新表时，需要在CREATE TABLE语句中指定关键字COMPRESS，这样，当对该表进行批量插入时就会触发压缩特性。该特性会在页范围内扫描所有元组数据，生成字典、压缩元组数据并进行存储。指定关键字NOCOMPRESS则不对表进行压缩。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a827b755ca7da4f7da9c0378ea8b9a40a">缺省值：NOCOMPRESS，即不对元组数据进行压缩。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a0440cd0986e24bb9a94be365b65c0278">TABLESPACE tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ab23b95018fee494599fffa3f15bef2b5">创建新表时指定此关键字，表示新表将要在指定表空间内创建。如果没有声明，将使用默认表空间。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ace5cf14074364966a38a7cf523daea7b">CONSTRAINT constraint_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a31f5f258f9904757880503b7fbc4aa91">列约束或表约束的名称。可选的约束子句用于声明约束，新行或者更新的行必须满足这些约束才能成功插入或更新。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ae93e3fc50ebd40a086aa4bebefa09ea8">定义约束有两种方法：</p>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_u8d6309ceb44f4b51899bd49413ffeaa9"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l2e6f7180767641f5b8ac8116d0a5ad23">列约束：作为一个列定义的一部分，仅影响该列。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l82ed75cbc10c4ee8ba0b4cf941542c20">表约束：不和某个列绑在一起，可以作用于多个列。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a05a97f6447204359a3c383721f3010e8">NOT NULL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a7e6d6c74850f4a65838c684da2a56f05">字段值不允许为NULL。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a02002b5ff3e64d949afa897a5ec55208">NULL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a8f6a6265657744408b55061c2801d538">字段值允许为NULL ，这是缺省值。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a5b96aa2480eb40348afc898d7e08c758">这个子句只是为和非标准SQL数据库兼容。不建议使用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a3af0f7a7abfd4834a51eb539c5036005">CHECK ( expression )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a7dd63d66b37b43c0b933ab7d3c20c1cf">CHECK约束声明一个布尔表达式，每次要插入的新行或者要更新的行的新值必须使表达式结果为真或未知才能成功，否则会抛出一个异常并且不会修改数据库。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a82bd5bc4957342119beab735090a60ce">声明为字段约束的检查约束应该只引用该字段的数值，而在表约束里出现的表达式可以引用多个字段。</p>
<div class="note" id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_note354734852610"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_p755211489268">expression表达式中，如果存在“&lt;&gt;NULL”或“！=NULL”，这种写法是无效的，需要写成“is NOT NULL”。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a2754da2c550343d68dea4ea8bb565ffe">DEFAULT default_expr</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a61200106eec54221ab2ecd44f64dc123">DEFAULT子句给字段指定缺省值。该数值可以是任何不含变量的表达式(不允许使用子查询和对本表中的其他字段的交叉引用)。缺省表达式的数据类型必须和字段类型匹配。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ab089d85540f247f1a8dfffba9f1d9bc9">缺省表达式将被用于任何未声明该字段数值的插入操作。如果没有指定缺省值则缺省值为NULL 。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a4f67b421131045cc90c160228cea3445">UNIQUE index_parameters</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ae98b22516e394b1c8597a2e6f4f283a6"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a56fb2f1bc0554ba88ca2250905b62345">UNIQUE ( column_name [, ... ] ) index_parameters</strong></p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_zh-cn_topic_0058965792_p860043215387">UNIQUE约束表示表里的一个字段或多个字段的组合必须在全表范围内唯一。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a41eb5d2e7840441fa29c757ab083e345">对于唯一约束，NULL被认为是互不相等的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a1a820044a6f240af9b46fc999e8aa451">PRIMARY KEY index_parameters</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a0ab427b5725b4a469479eeabf6653b6e"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a24cebe7b5e0c431482783c7dce218cb3">PRIMARY KEY ( column_name [, ... ] ) index_parameters</strong></p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a15ead218a63440b7b235d8122cdcfd78">主键约束声明表中的一个或者多个字段只能包含唯一的非NULL值。</p>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a814402dcf5134788bd8bdad3ff7814d0">一个表只能声明一个主键。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a41a2eb9fd7bd4c34a728eba9f77e6607">DEFERRABLE | NOT DEFERRABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aa904e176bd424436b27162ee3b11b7f7">这两个关键字设置该约束是否可推迟。一个不可推迟的约束将在每条命令之后马上检查。可推迟约束可以推迟到事务结尾使用SET CONSTRAINTS命令检查。缺省是NOT DEFERRABLE。目前，UNIQUE约束和主键约束可以接受这个子句。所有其他约束类型都是不可推迟的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_b194681910164">PARTIAL CLUSTER KEY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_p2024122110254">局部聚簇存储，列存表导入数据时按照指定的列(单列或多列)，进行局部排序。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_aa3e0307cba3c426284d0610b30a36abe">INITIALLY IMMEDIATE | INITIALLY DEFERRED</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a7158dd5a83f44e408c3e70c53b77f9b2">如果约束是可推迟的，则这个子句声明检查约束的缺省时间。</p>
<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ubf21d145ebde4ef7a13a35214da62d87"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l0f9b3cb079e5447dbf29958ac825e821">如果约束是INITIALLY IMMEDIATE（缺省），则在每条语句执行之后就立即检查它；</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_l6abffa8005164618947a1c00b43ea739">如果约束是INITIALLY DEFERRED ，则只有在事务结尾才检查它。</li></ul>
<p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ab830f38f10a24050bd4088ceba99e14a">约束检查的时间可以用SET CONSTRAINTS命令修改。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ad8468bd2407945c98cbfcacd259bc5d0">USING INDEX TABLESPACE tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_a208fa73f1766432cb54631d9610f2654">为UNIQUE或PRIMARY KEY约束相关的索引声明一个表空间。如果没有提供这个子句，这个索引将在default_tablespace中创建，如果default_tablespace为空，将使用数据库的缺省表空间。</p>
</div></ul></div>]]></suggestion>
    <sub id="UNLOGGED">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul2805325014641"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li501285814639">UNLOGGED表和表上的索引因为数据写入时不通过WAL日志机制，写入速度远高于普通表。因此，可以用于缓冲存储复杂查询的中间结果集，增强复杂查询的性能。</li><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li6247035314710">UNLOGGED表无主备机制，在系统故障或异常断点等情况下，会有数据丢失风险，因此，不可用来存储基础数据。</li></ul>
]]></suggestion>
    </sub>
    <sub id="TEMPORARY">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul926666144524"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li2945385144522">临时表只在当前会话可见，会话结束后会自动删除。</li></ul>
]]></suggestion>
    </sub>
    <sub id="TEMP">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul926666144524"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li2945385144522">临时表只在当前会话可见，会话结束后会自动删除。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul94471721175214"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li345152155213">新表自动从这个表中继承所有字段名及其数据类型和非空约束，新表与源表之间在创建动作完毕之后是完全无关的。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING DEFAULTS">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul19548195520"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li1258171925211">源表上的字段缺省表达式只有在指定INCLUDING DEFAULTS时，才会复制到新表中。缺省是不包含缺省表达式的，即新表中的所有字段的缺省值都是NULL。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING CONSTRAINTS">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul912321617526"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li12126316185217">源表上的CHECK约束仅在指定INCLUDING CONSTRAINTS时，会复制到新表中，而其他类型的约束永远不会复制到新表中。非空约束总是复制到新表中。此规则同时适用于表约束和列约束。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING INDEXES">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul12113112814538"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li711942814536">如果指定了INCLUDING INDEXES，则源表上的索引也将在新表上创建，默认不建立索引。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING STORAGE">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul1252152675314"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li852410269539">如果指定了INCLUDING STORAGE，则复制列的STORAGE设置会复制到新表中，默认情况下不包含STORAGE设置。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING COMMENTS">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul149421242536"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li14945202435311">如果指定了INCLUDING COMMENTS，则源表列、约束和索引的注释会复制到新表中。默认情况下，不复制源表的注释。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING PARTITION">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul464014581542"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li1464345845416">如果指定了INCLUDING PARTITION，则源表的分区定义会复制到新表中，同时新表将不能再使用PARTITION BY子句。默认情况下，不拷贝源表的分区定义。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING RELOPTIONS">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul19931155675414"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li3935105616541">如果指定了INCLUDING RELOPTIONS，则源表的存储参数（即源表的WITH子句）会复制到新表中。默认情况下，不复制源表的存储参数。</li></ul>
]]></suggestion>
    </sub>
    <sub id="LIKE INCLUDING ALL">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul193461562556"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li8350155665514">INCLUDING ALL包含了INCLUDING DEFAULTS、INCLUDING CONSTRAINTS、INCLUDING INDEXES、INCLUDING STORAGE、INCLUDING COMMENTS、INCLUDING PARTITION、INCLUDING RELOPTIONS的内容。</li></ul>
]]></suggestion>
    </sub>
    <sub id="ORIENTATION ROW">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul186101922103711"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li166131224375">创建行存表，行存储适合于OLTP业务，此类型的表上交互事务比较多，一次交互会涉及表中的多个列，用行存查询效率较高。</li></ul>
]]></suggestion>
    </sub>
    <sub id="ORIENTATION COLUMN">
      <suggestion><![CDATA[<ul id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_ul5339408215275"><li id="ZH-CN_TOPIC_0242370581__zh-cn_topic_0237122117_zh-cn_topic_0059778169_li53236929152713">创建列存表，列存储适合于数据仓库业务，此类型的表上会做大量的汇聚计算，且涉及的列操作较少。</li></ul>
]]></suggestion>
    </sub>
  </command>
  <command id="CREATE TABLE AS" alias="CREATE TABLE AS">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_p17139143475516">根据查询结果创建表。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a4bb2a7720b9446d18885f64b36ad7e9b">CREATE TABLE AS创建一个表并且用来自SELECT命令的结果填充该表。该表的字段和SELECT输出字段的名称及数据类型相关。不过用户可以通过明确地给出一个字段名称列表来覆盖SELECT输出字段的名称。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a634e56181fc74a9c9cb67b6820711473">CREATE TABLE AS对源表进行一次查询，然后将数据写入新表中，而查询视图结果会根据源表的变化而有所改变。相比之下，每次做查询的时候，视图都重新计算定义它的SELECT语句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_u725c57dc7ee14f86b6c8d4ce11a56b7c"><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_l20f0ba08f061410ab55a528d1e9877b5">分区表不能采用此方式进行创建。</li><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_l6e42048de215477986378c7ef18dd71e">如果在建表过程中数据库系统发生故障，系统恢复后可能无法自动清除之前已创建的、大小非0的磁盘文件。此种情况出现概率小，不影响数据库系统的正常运行。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建一个表tpcds.store_returns_t1并插入tpcds.store_returns表中sr_item_sk字段中大于16的数值。
postgres=# CREATE TABLE tpcds.store_returns_t1 AS SELECT * FROM tpcds.store_returns WHERE sr_item_sk &gt; ' 4795 ' ; 

--使用tpcds.store_returns拷贝一个新表tpcds.store_returns_t2。
postgres=# CREATE TABLE tpcds.store_returns_t2 AS table tpcds.store_returns ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_s6037b9a6270f49c1b810c6b2fc7ce832">CREATE [ UNLOGGED ] TABLE table_name
    [ (column_name [, ...] ) ]
    [ WITH ( {storage_parameter = value} [, ... ] ) ]
    [ COMPRESS | NOCOMPRESS ]
    [ TABLESPACE tablespace_name ]
    AS query
    [ WITH [ NO ] DATA ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a4a114d0a13bb4fa9929d1b06aee70ade">UNLOGGED</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a06fa96dcda664afdbde7b2a6f46a2d1b">指定表为非日志表。在非日志表中写入的数据不会被写入到预写日志中，这样就会比普通表快很多。但是，它也是不安全的，非日志表在冲突或异常关机后会被自动删截。非日志表中的内容也不会被复制到备用服务器中。在该类表中创建的索引也不会被自动记录。</p>
<ul id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_u47df62e209b14bbe9fd6fe564a24b4df"><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_lbdcb187998ad487d9f961f977fe7c766">使用场景：非日志表不能保证数据的安全性，用户应该在确保数据已经做好备份的前提下使用，例如系统升级时进行数据的备份。</li><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_lc455511bf8674711b0e417e5f7c10cb4">故障处理：当异常关机等操作导致非日志表上的索引发生数据丢失时，用户应该对发生错误的索引进行重建。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a80f39313cb524468a8604c2a7cdda3ab">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a8e252b7574b04e89acbc4d13c7b4594f">要创建的表名。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_zh-cn_topic_0058965980_p473517441126">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a97a84ae04df04466ad5e3e7931211e2e">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a731978ef32974352bc8268caf66b70c5">新表中要创建的字段名。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a4e95d19660c34e218ce8905ff2b7c8d6">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a8d6fe220479949ddb4e180e3713a17e5">WITH ( storage_parameter [= value] [, ... ] )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_abe1c9da6141048a9ba8386a57c3325ef">这个子句为表或索引指定一个可选的存储参数。参数的详细说明如下所示。</p>
<ul id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_u9aebea212b8f42698125b188f63eaa15"><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_l74aa4145dd054994a901cb3cbcbfa1fa">FILLFACTOR<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a8d3aae68b16a4e83b2d4d269033e62bc">一个表的填充因子（fillfactor）是一个介于10和100之间的百分数。100（完全填充）是默认值。如果指定了较小的填充因子，INSERT操作仅按照填充因子指定的百分率填充表页。每个页上的剩余空间将用于在该页上更新行，这就使得UPDATE有机会在同一页上放置同一条记录的新版本，这比把新版本放置在其他页上更有效。对于一个从不更新的表将填充因子设为100是最佳选择，但是对于频繁更新的表，选择较小的填充因子则更加合适。该参数只对行存表有效。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a5446fbb9a7a5403eae307cc803f26ebc">取值范围：10~100</p>
</li><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_laff56b364ee94550949bf27f312e7017">ORIENTATION<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_ae223a19aa5144abeb85415545f457c13">取值范围：</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a1ad7a923542d43e5aaf63898a01e31a0">COLUMN：表的数据将以列式存储。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a586c1b14b0574d57b37e4f1e3ab2ca3c">ROW（缺省值）：表的数据将以行式存储。</p>
</li><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_lc1cc18e003af46488b2e30e891a1eea7">COMPRESSION<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a8f09b5dfe78c4c409295e3e7620eaa4b">指定表数据的压缩级别，它决定了表数据的压缩比以及压缩时间。一般来讲，压缩级别越高，压缩比也越大，压缩时间也越长；反之亦然。实际压缩比取决于加载的表数据的分布特征。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_aa5b8a7104d6945d58a03972278591d3e">取值范围：</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a1a430f08cf6e49f7994275bddc586385">列存表的有效值为YES/NO/LOW/MIDDLE/HIGH，默认值为LOW。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a625b3e0b9daa4201812264fbf13d2a8f">行存表的有效值为YES/NO，默认值为NO。</p>
</li><li id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_l86b11167e9114a3cbb463a20600d205c">MAX_BATCHROW<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a633e1fa6e82f4c3f8f05275a282b4ad5">指定了在数据加载过程中一个存储单元可以容纳记录的最大数目。该参数只对列存表有效。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_aa423526f9f5840fbafc77b8180347749">取值范围：10000~60000</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a593534bf61a54427b1a3f45f425119bd">COMPRESS / NOCOMPRESS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_aa79c918c3c62404e909873ea535d5c59">创建一个新表时，需要在创建表语句中指定关键字COMPRESS，这样，当对该表进行批量插入时就会触发压缩特性。该特性会在页范围内扫描所有元组数据，生成字典、压缩元组数据并进行存储。指定关键字NOCOMPRESS则不对表进行压缩。</p>
<p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a3438fb6670584f15b8709ca1080e32ad">缺省值：NOCOMPRESS，即不对元组数据进行压缩。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a5c4944ddbcb64e3eb7dd15383cb9a2f4">TABLESPACE tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_aae872baf2754485f987cbbff7f9abf8f">指定新表将要在tablespace_name表空间内创建。如果没有声明，将使用默认表空间。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_ac50c9a90d2a342dface327d3f4182d29">AS query</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a04ea89cbd83f4bad97ab96d524bc84cb">一个SELECT VALUES命令或者一个运行预备好的SELECT或VALUES查询的EXECUTE命令。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_a41da66bd3d9f4b7da0a520ae4d32107d">[ WITH [ NO ] DATA ]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370582__zh-cn_topic_0237122118_zh-cn_topic_0059777601_ad587e355c411409f80704ee0c4617acd">创建表时，是否也插入查询到的数据。默认是要数据，选择“NO”参数时，则不要数据。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE TABLE PARTITION" alias="CREATE TABLE PARTITION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p66371482513">创建分区表。分区表是把逻辑上的一张表根据某种方案分成几张物理块进行存储，这张逻辑上的表称之为分区表，物理块称之为分区。分区表是一张逻辑表，不存储数据，数据实际是存储在分区上的。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p5641114815116">常见的分区方案有范围分区（Range Partitioning）、哈希分区（Hash Partitioning）、列表分区（List Partitioning）、数值分区（Value Partition）等。目前行存表、列存表仅支持范围分区。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p7650174815515">范围分区是根据表的一列或者多列，将要插入表的记录分为若干个范围，这些范围在不同的分区里没有重叠。为每个范围创建一个分区，用来存储相应的数据。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p1748319710549">范围分区的分区策略是指记录插入分区的方式。目前范围分区仅支持范围分区策略。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p39869581530">范围分区策略：根据分区键值将记录映射到已创建的某个分区上，如果可以映射到已创建的某一分区上，则把记录插入到对应的分区上，否则给出报错和提示信息。这是最常用的分区策略。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p268514816512">分区可以提供若干好处：</p>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_ul96878484515"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li1568911481516">某些类型的查询性能可以得到极大提升。特别是表中访问率较高的行位于一个单独分区或少数几个分区上的情况下。分区可以减少数据的搜索空间，提高数据访问效率。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li569454819513">当查询或更新一个分区的大部分记录时，连续扫描那个分区而不是访问整个表可以获得巨大的性能提升。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li1769844865113">如果需要大量加载或者删除的记录位于单独的分区上，则可以通过直接读取或删除那个分区以获得巨大的性能提升，同时还可以避免由于大量DELETE导致的VACUUM超载（仅范围分区）。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ad19c2ad113b7444685c31936988ae1dd">有限地支持唯一约束和主键约束，即唯一约束和主键约束的约束键必须包含所有分区键。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建分区表tpcds.web_returns_p1。
postgres=# CREATE TABLE tpcds.web_returns_p1
 ( 
WR_RETURNED_DATE_SK INTEGER , 
WR_RETURNED_TIME_SK INTEGER , 
WR_ITEM_SK INTEGER NOT NULL , 
WR_REFUNDED_CUSTOMER_SK INTEGER , 
WR_REFUNDED_CDEMO_SK INTEGER , 
WR_REFUNDED_HDEMO_SK INTEGER , 
WR_REFUNDED_ADDR_SK INTEGER , 
WR_RETURNING_CUSTOMER_SK INTEGER , 
WR_RETURNING_CDEMO_SK INTEGER , 
WR_RETURNING_HDEMO_SK INTEGER , 
WR_RETURNING_ADDR_SK INTEGER , 
WR_WEB_PAGE_SK INTEGER , 
WR_REASON_SK INTEGER , 
WR_ORDER_NUMBER BIGINT NOT NULL , 
WR_RETURN_QUANTITY INTEGER , 
WR_RETURN_AMT DECIMAL ( 7 , 2 ) , 
WR_RETURN_TAX DECIMAL ( 7 , 2 ) , 
WR_RETURN_AMT_INC_TAX DECIMAL ( 7 , 2 ) , 
WR_FEE DECIMAL ( 7 , 2 ) , 
WR_RETURN_SHIP_COST DECIMAL ( 7 , 2 ) , 
WR_REFUNDED_CASH DECIMAL ( 7 , 2 ) , 
WR_REVERSED_CHARGE DECIMAL ( 7 , 2 ) , 
WR_ACCOUNT_CREDIT DECIMAL ( 7 , 2 ) , 
WR_NET_LOSS DECIMAL ( 7 , 2 ) 
 ) 
WITH ( ORIENTATION = COLUMN , COMPRESSION=MIDDLE ) 
PARTITION BY RANGE ( WR_RETURNED_DATE_SK ) 
 ( 
PARTITION P1 VALUES LESS THAN ( 2450815 ) , 
PARTITION P2 VALUES LESS THAN ( 2451179 ) , 
PARTITION P3 VALUES LESS THAN ( 2451544 ) , 
PARTITION P4 VALUES LESS THAN ( 2451910 ) , 
PARTITION P5 VALUES LESS THAN ( 2452275 ) , 
PARTITION P6 VALUES LESS THAN ( 2452640 ) , 
PARTITION P7 VALUES LESS THAN ( 2453005 ) , 
PARTITION P8 VALUES LESS THAN ( MAXVALUE ) 
 ) ; 

--查询分区P1的行数。
postgres=# SELECT COUNT ( * ) FROM tpcds.web_returns_p1 PARTITION FOR ( 2450815 ) ; 
count
--------
0
 ( 1 row ) 
示例2：创建范围分区表tpcds.web_returns_p2，含有8个分区，分区键类型为integer类型，其中第8个分区上边界为MAXVALUE。八个分区的范围分别为： wr_returned_date_sk&lt; 2450815，2450815&lt;= wr_returned_date_sk&lt; 2451179，2451179&lt;=wr_returned_date_sk&lt; 2451544，2451544 &lt;= wr_returned_date_sk&lt; 2451910，2451910 &lt;= wr_returned_date_sk&lt; 2452275，2452275 &lt;= wr_returned_date_sk&lt; 2452640，2452640 &lt;= wr_returned_date_sk&lt; 2453005，wr_returned_date_sk&gt;=2453005。
分区表tpcds.web_returns_p2的表空间为example1；分区P1到P7没有声明表空间，使用采用分区表tpcds.web_returns_p2的表空间example1；指定分区P8的表空间为example2。
假定数据库节点的数据目录/pg_location/mount1/path1，数据库节点的数据目录/pg_location/mount2/path2，数据库节点的数据目录/pg_location/mount3/path3，数据库节点的数据目录/pg_location/mount4/path4是dwsadmin用户拥有读写权限的空目录。
postgres=# CREATE TABLESPACE example1 RELATIVE LOCATION ' tablespace1/tablespace_1 ' ; 
postgres=# CREATE TABLESPACE example2 RELATIVE LOCATION ' tablespace2/tablespace_2 ' ; 
postgres=# CREATE TABLESPACE example3 RELATIVE LOCATION ' tablespace3/tablespace_3 ' ; 
postgres=# CREATE TABLESPACE example4 RELATIVE LOCATION ' tablespace4/tablespace_4 ' ; 
postgres=# CREATE TABLE tpcds.web_returns_p2
 ( 
WR_RETURNED_DATE_SK INTEGER , 
WR_RETURNED_TIME_SK INTEGER , 
WR_ITEM_SK INTEGER NOT NULL , 
WR_REFUNDED_CUSTOMER_SK INTEGER , 
WR_REFUNDED_CDEMO_SK INTEGER , 
WR_REFUNDED_HDEMO_SK INTEGER , 
WR_REFUNDED_ADDR_SK INTEGER , 
WR_RETURNING_CUSTOMER_SK INTEGER , 
WR_RETURNING_CDEMO_SK INTEGER , 
WR_RETURNING_HDEMO_SK INTEGER , 
WR_RETURNING_ADDR_SK INTEGER , 
WR_WEB_PAGE_SK INTEGER , 
WR_REASON_SK INTEGER , 
WR_ORDER_NUMBER BIGINT NOT NULL , 
WR_RETURN_QUANTITY INTEGER , 
WR_RETURN_AMT DECIMAL ( 7 , 2 ) , 
WR_RETURN_TAX DECIMAL ( 7 , 2 ) , 
WR_RETURN_AMT_INC_TAX DECIMAL ( 7 , 2 ) , 
WR_FEE DECIMAL ( 7 , 2 ) , 
WR_RETURN_SHIP_COST DECIMAL ( 7 , 2 ) , 
WR_REFUNDED_CASH DECIMAL ( 7 , 2 ) , 
WR_REVERSED_CHARGE DECIMAL ( 7 , 2 ) , 
WR_ACCOUNT_CREDIT DECIMAL ( 7 , 2 ) , 
WR_NET_LOSS DECIMAL ( 7 , 2 ) 
 ) 
TABLESPACE example1
PARTITION BY RANGE ( WR_RETURNED_DATE_SK ) 
 ( 
PARTITION P1 VALUES LESS THAN ( 2450815 ) , 
PARTITION P2 VALUES LESS THAN ( 2451179 ) , 
PARTITION P3 VALUES LESS THAN ( 2451544 ) , 
PARTITION P4 VALUES LESS THAN ( 2451910 ) , 
PARTITION P5 VALUES LESS THAN ( 2452275 ) , 
PARTITION P6 VALUES LESS THAN ( 2452640 ) , 
PARTITION P7 VALUES LESS THAN ( 2453005 ) , 
PARTITION P8 VALUES LESS THAN ( MAXVALUE ) TABLESPACE example2
 ) 
ENABLE ROW MOVEMENT ; 

--以like方式创建一个分区表。
postgres=# CREATE TABLE tpcds.web_returns_p3 ( LIKE tpcds.web_returns_p2 INCLUDING PARTITION ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_s02c689b7f4ca4fdb959248b97512053c">CREATE TABLE [ IF NOT EXISTS ] partition_table_name
( [ 
    { column_name data_type [ COLLATE collation ] [ column_constraint [ ... ] ]
    | table_constraint
    | LIKE source_table [ like_option [...] ] }[, ... ]
] )
    [ WITH ( {storage_parameter = value} [, ... ] ) ]
    [ COMPRESS | NOCOMPRESS ]
    [ TABLESPACE tablespace_name ]
     PARTITION BY { 
        {RANGE (partition_key) ( partition_less_than_item [, ... ] )} |
        {RANGE (partition_key) ( partition_start_end_item [, ... ] )}
    } [ { ENABLE | DISABLE } ROW MOVEMENT ]; </pre>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_u7dd92ec66cea4772bdab76ae4a5edddc"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l4bd1a927bad849b6920382bc18e86918">列约束column_constraint：<pre class="screen" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_se2fb4ffb2d7a4c21bc8ca83774c888e2">[ CONSTRAINT constraint_name ]
{ NOT NULL |
  NULL | 
  CHECK ( expression ) | 
  DEFAULT default_expr | 
  UNIQUE index_parameters | 
  PRIMARY KEY index_parameters }
[ DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE ]</pre>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l9dff9176a432432f9f1cb76f60a28ba9">表约束table_constraint：<pre class="screen" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_s8505b7fc75994ecc8e6bfdb986acc3d1">[ CONSTRAINT constraint_name ]
{ CHECK ( expression ) | 
  UNIQUE ( column_name [, ... ] ) index_parameters | 
  PRIMARY KEY ( column_name [, ... ] ) index_parameters}
[ DEFERRABLE | NOT DEFERRABLE | INITIALLY DEFERRED | INITIALLY IMMEDIATE ]</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_u2fb27d06f65a4457bc9ec7dd046b5636"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ldd9eaee99d954e978d55003223dc9c11">like选项like_option：<pre class="screen" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_screen173651410146">{ INCLUDING | EXCLUDING } { DEFAULTS | CONSTRAINTS | INDEXES | STORAGE | COMMENTS | RELOPTIONS| ALL }</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_uea787ce34ddb4a51a8f55178cb41f556"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_lb22e158b23724a40bf51d1b7cfca49b3">索引存储参数index_parameters：<pre class="screen" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_s30d99637f1324e53afe6feec69de9c8c">[ WITH ( {storage_parameter = value} [, ... ] ) ]
[ USING INDEX TABLESPACE tablespace_name ]</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a94dc00c32ee34fac8162c5b65ed00548">IF NOT EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a1be0bb723b1e48a9b567a3fdc4cd2ac1">如果已经存在相同名称的表，不会抛出一个错误，而会发出一个通知，告知表关系已存在。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a29b15e8c10c74a3486b650c4f6f5d39b">partition_table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a0c2bb8918fca4d74baa60c93400340c8">分区表的名称。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a52417088b07a49a38fa941f3a70cdc34">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a15f34799c2614665a0cdde05306a098e">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_zh-cn_topic_0058965796_p311025502056">新表中要创建的字段名。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_zh-cn_topic_0058965796_p205567012052">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a16e0a334313746a1835cf82a23196ec0">data_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a1c7db50636634bcd967a5960b0866701">字段的数据类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a06cf5757f7d1461c8c1288654ae37256">COLLATE  collation</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a981cc5673fbf4fb48148894a5c0ead03">COLLATE子句指定列的排序规则（该列必须是可排列的数据类型）。如果没有指定，则使用默认的排序规则。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a60a934613498422da6b4bb1d044e48f4">CONSTRAINT constraint_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_afe7680a6428c43b592505f982df45c55">列约束或表约束的名称。可选的约束子句用于声明约束，新行或者更新的行必须满足这些约束才能成功插入或更新。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a9ace6872ba9c4f8fb131bba1e45a3ada">定义约束有两种方法：</p>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_uf0f9cfb7d9d04ee9931e98482dcc8443"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_lae166fd48fa14838bee0fc178761fbae">列约束：作为一个列定义的一部分，仅影响该列。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l30875a35e41349dda520f70110bfac18">表约束：不和某个列绑在一起，可以作用于多个列。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_zh-cn_topic_0058965796_b567286520412">LIKE source_table [ like_option ... ]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a9d6039ff961c4e92811df80b29687c26">LIKE子句声明一个表，新表自动从这个表里面继承所有字段名及其数据类型和非空约束。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_aa0acf2f1d3bf4a29a5533f6ee25785df">和INHERITS不同，新表与原来的表之间在创建动作完毕之后是完全无关的。在源表做的任何修改都不会传播到新表中，并且也不可能在扫描源表的时候包含新表的数据。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_aaa9e365b617f424e8b0030fc450353a1">字段缺省表达式只有在声明了INCLUDING DEFAULTS之后才会包含进来。缺省是不包含缺省表达式的，即新表中所有字段的缺省值都是NULL。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a879a6a6e4df349e7aefdb0c5ebc4ed56">非空约束将总是复制到新表中，CHECK约束则仅在指定了INCLUDING CONSTRAINTS的时候才复制，而其他类型的约束则永远也不会被复制。此规则同时适用于表约束和列约束。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a5ba618b0edf642cea3f075fca4599e30">和INHERITS不同，被复制的列和约束并不使用相同的名称进行融合。如果明确的指定了相同的名称或者在另外一个LIKE子句中，将会报错。</p>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_uec76fc85285c4320950959087d365cd1"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l524ab286d597461e998c2a2e140f04a3">如果指定了INCLUDING INDEXES，则源表上的索引也将在新表上创建，默认不建立索引。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_lf8344c2ea5b64b95951c8098bc2aecd6">如果指定了INCLUDING STORAGE，则拷贝列的STORAGE设置也将被拷贝，默认情况下不包含STORAGE设置。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_lbce73591e771429ea9bfe1d293fb825a">如果指定了INCLUDING COMMENTS，则源表列、约束和索引的注释也会被拷贝过来。默认情况下，不拷贝源表的注释。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l1b16ef3280514a4aae0236e97b6fd69d">如果指定了INCLUDING RELOPTIONS，则源表的存储参数（即源表的WITH子句）也将拷贝至新表。默认情况下，不拷贝源表的存储参数。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122117_zh-cn_topic_0059778169_lf3bc8583e6f64689869bf18cea37c8f7">INCLUDING ALL包含了INCLUDING DEFAULTS、INCLUDING CONSTRAINTS、INCLUDING INDEXES、INCLUDING STORAGE、INCLUDING COMMENTS、INCLUDING PARTITION和INCLUDING RELOPTIONS的内容。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ac5898c9d629e4d83a542ad1f7a5306a4">WITH ( storage_parameter [= value] [, ... ] )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_aca33ba9c98bb411696ed956fd6befd0d">这个子句为表或索引指定一个可选的存储参数。参数的详细描述如下所示：</p>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_u8206168399054d539753fff6279fcb58"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_lcac65f2cbe2a4dc8a3d17a604511796b">FILLFACTOR<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a93dd9528c50046228ec2174618fc6bce">一个表的填充因子（fillfactor）是一个介于10和100之间的百分数。100（完全填充）是默认值。如果指定了较小的填充因子，INSERT操作仅按照填充因子指定的百分率填充表页。每个页上的剩余空间将用于在该页上更新行，这就使得UPDATE有机会在同一页上放置同一条记录的新版本，这比把新版本放置在其他页上更有效。对于一个从不更新的表将填充因子设为100是最佳选择，但是对于频繁更新的表，选择较小的填充因子则更加合适。该参数对于列存表没有意义。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a6c5dacca22c8433aa5fc43b11e4224dd">取值范围：10~100</p>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l25d8a0a184d7477ba1ae17b07b3bfc9f">ORIENTATION<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a64350006ac104b34998f911829011608">决定了表的数据的存储方式。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a6bf08123d1ec41e78a397b7697294418">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_u4a225165164640fc86d31bb26a9590d5"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l941cc6b3b36a419a8c94364cc133af36">COLUMN：表的数据将以列式存储。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l024ac5be250444fca706c0e2f46595f2">ROW（缺省值）：表的数据将以行式存储。<div class="notice" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_n8bb7ba17e4214f6f9d117243c93698c8"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a7aecb295703a4a7ea1f53e5acff3881b">orientation不支持修改。</p>
</div></div>
</li></ul>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l38433135b7f540249d3f2c1d79a1328d">COMPRESSION<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_u5199de2b9ce644019f09c5ebc31048c9"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l60bc49ce95064d8783a7733d3e9d670c">列存表的有效值为LOW/MIDDLE/HIGH/YES/NO，压缩级别依次升高，默认值为LOW。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l47abae56827b457c9c81d9ffb177d617">行存表的有效值为YES/NO，默认值为NO。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l9715cd44cb294a94a49780c7108c9d36">MAX_BATCHROW<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ac43c711b122842baadd4baf274753ecd">指定了在数据加载过程中一个存储单元可以容纳记录的最大数目。该参数只对列存表有效。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a1bcf0ba64dd24f56ac9b35d6de4e6fd0">取值范围：10000~60000</p>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_lf4414ab5320342eeaed779a4be9175c5">PARTIAL_CLUSTER_ROWS<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a38143750386e4e1db8e70fd73bec31fb">指定了在数据加载过程中进行将局部聚簇存储的记录数目。该参数只对列存表有效。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a5854eb691d954df9ab881eedb563b0a9">取值范围：其有效值为大于等于10万。此值是MAX_BATCHROW的倍数。</p>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l6a11511489c3434c84bf4ec996b102c2">DELTAROW_THRESHOLD<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ac02a254c512940bc933c231b5193c316">预留参数。该参数只对列存表有效。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ad0aff0c3962f4bdcb434a201db9e32e5">取值范围：0～9999</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a800fa6f09cb64501ac9b6e49566b8766">COMPRESS / NOCOMPRESS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ab48fe9bd9bd34e14b23b011d76f174d8">创建一个新表时，需要在创建表语句中指定关键字COMPRESS，这样，当对该表进行批量插入时就会触发压缩特性。该特性会在页范围内扫描所有元组数据，生成字典、压缩元组数据并进行存储。指定关键字NOCOMPRESS则不对表进行压缩。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_aba25e0412f004ef3935993224e3326a6">缺省值为NOCOMPRESS，即不对元组数据进行压缩。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_af709bcb25b6f4af4933e5541390aea4d">TABLESPACE tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ace88993e82014ad39c1e8929d38ff384">指定新表将要在tablespace_name表空间内创建。如果没有声明，将使用默认表空间。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><a name="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l00efc30fe63048ffa2ef68c5b18bb455"></a><a name="zh-cn_topic_0237122119_zh-cn_topic_0059777586_l00efc30fe63048ffa2ef68c5b18bb455"></a><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ae9f59f342ef7473ca0e4d371a17ce158">PARTITION BY RANGE(partition_key)</strong><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a6823607709524ecab628b776f39b8634">创建范围分区。partition_key为分区键的名称。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p1850525435412">（1）对于从句是VALUES LESS THAN的语法格式：</p>
<div class="notice" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_ne6c6e4d4583f4ec7904d8e771d8694a8"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_zh-cn_topic_0058965796_p690770720101">对于从句是VALUE LESS THAN的语法格式，范围分区策略的分区键最多支持4列。</p>
</div></div>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_zh-cn_topic_0058965796_p883454020329">该情形下，分区键支持的数据类型为：SMALLINT、INTEGER、BIGINT、DECIMAL、NUMERIC、REAL、DOUBLE PRECISION、CHARACTER VARYING(n)、VARCHAR(n)、CHARACTER(n)、CHAR(n)、CHARACTER、CHAR、TEXT、NVARCHAR2、NAME、TIMESTAMP[(p)] [WITHOUT TIME ZONE]、TIMESTAMP[(p)] [WITH TIME ZONE]、DATE。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p1832219614579">（2）对于从句是START END的语法格式：</p>
<div class="notice" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_note155073594110"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p15081359115">对于从句是START END的语法格式，范围分区策略的分区键仅支持1列。</p>
</div></div>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p774418158575">该情形下，分区键支持的数据类型为：SMALLINT、INTEGER、BIGINT、DECIMAL、NUMERIC、REAL、DOUBLE PRECISION、TIMESTAMP[(p)] [WITHOUT TIME ZONE]、TIMESTAMP[(p)] [WITH TIME ZONE]、DATE。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a7dc24efb9b934cd3a60066b8380bb9c4">PARTITION partition_name VALUES LESS THAN ( { partition_value | MAXVALUE } )</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a187e212de5744516808083384a296327">指定各分区的信息。partition_name为范围分区的名称。partition_value为范围分区的上边界，取值依赖于partition_key的类型。MAXVALUE表示分区的上边界，它通常用于设置最后一个范围分区的上边界。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_n5bb580300475469998b780b9047fc0a5"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_ul861645913157"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li2616185941517">每个分区都需要指定一个上边界。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li86168591159">分区上边界的类型应当和分区键的类型一致。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li1661675961516">分区列表是按照分区上边界升序排列的，值较小的分区位于值较大的分区之前。</li></ul>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><a name="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li2094151861116"></a><a name="zh-cn_topic_0237122119_li2094151861116"></a><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_b193040541211">PARTITION partition_name {START (partition_value) END (partition_value) EVERY (interval_value)</strong><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_b188831037785">} </strong><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_b13541171817599">| </strong><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_b14548519572"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_b69088450599">{START (partition_value) END (partition_value|MAXVALUE)} | {START(partition_value)} | </strong>{END (partition_value | MAXVALUE)</strong>}<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_p5457183272811">指定各分区的信息，各参数意义如下：</p>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_ul474222022918"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li1934812914318">partition_name：范围分区的名称或名称前缀，除以下情形外（假定其中的partition_name是p1），均为分区的名称。<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_ul2260440124111"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li1162851102617">若该定义是START+END+EVERY从句，则语义上定义的分区的名称依次为p1_1, p1_2, ...。例如对于定义“PARTITION p1 START(1) END(4) EVERY(1)”，则生成的分区是：[1, 2), [2, 3) 和 [3, 4)，名称依次为p1_1, p1_2和p1_3，即此处的p1是名称前缀。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li32049373337">若该定义是第一个分区定义，且该定义有START值，则范围（MINVALUE, START）将自动作为第一个实际分区，其名称为p1_0，然后该定义语义描述的分区名称依次为p1_1, p1_2, ...。例如对于完整定义“PARTITION p1 START(1), PARTITION p2 START(2)”，则生成的分区是：(MINVALUE, 1), [1, 2) 和 [2, MAXVALUE)，其名称依次为p1_0, p1_1和p2，即此处p1是名称前缀，p2是分区名称。这里MINVALUE表示最小值。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li57341353123113">partition_value：范围分区的端点值（起始或终点），取值依赖于partition_key的类型，不可是MAXVALUE。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li441355619353">interval_value：对[START，END) 表示的范围进行切分，interval_value是指定切分后每个分区的宽度，不可是MAXVALUE；如果（END-START）值不能整除以EVERY值，则仅最后一个分区的宽度小于EVERY值。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li19743172082915">MAXVALUE：表示最大值，它通常用于设置最后一个范围分区的上边界。</li></ul>
<div class="notice" id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_note1260511153100"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><ol id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_ol0606515131011"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li18608215101010">在创建分区表若第一个分区定义含START值，则范围（MINVALUE，START）将自动作为实际的第一个分区。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li358021011157">START END语法需要遵循以下限制：<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_ul106578178151"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li16657181710159">每个partition_start_end_item中的START值（如果有的话，下同）必须小于其END值；</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li971274618164">相邻的两个partition_start_end_item，第一个的END值必须等于第二个的START值；</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li14736133618183">每个partition_start_end_item中的EVERY值必须是正向递增的，且必须小于（END-START）值；</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li14536161519228">每个分区包含起始值，不包含终点值，即形如：[起始值，终点值)，起始值是MINVALUE时则不包含；</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li11392115215301">一个partition_start_end_item创建的每个分区所属的TABLESPACE一样；</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li943618157154">partition_name作为分区名称前缀时，其长度不要超过57字节，超过时自动截断；</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li1770933882020">在创建、修改分区表时请注意分区表的分区总数不可超过最大限制（32767）；</li></ul>
</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li6780164617498">在创建分区表时START END与LESS THAN语法不可混合使用。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_li17731727132913">即使创建分区表时使用START END语法，备份（gs_dump）出的SQL语句也是VALUES LESS THAN语法格式。</li></ol>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a5996e0d89cc845ee89595d96cc28f10c">{ ENABLE | DISABLE } ROW MOVEMENT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_zh-cn_topic_0058965796_p858281201015">行迁移开关。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_a1f1daf7397324249a993e82314636a6d">如果进行UPDATE操作时，更新了元组在分区键上的值，造成了该元组所在分区发生变化，就会根据该开关给出报错信息，或者进行元组在分区间的转移。</p>
<p id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_abbd35638277048dda6f3433e91cb9e76">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_uefb8133eea6440f6acec351f30e7bb7d"><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_l56e09e7c8b0e497380eadaed61155a15">ENABLE（缺省值）：行迁移开关打开。</li><li id="ZH-CN_TOPIC_0242370583__zh-cn_topic_0237122119_zh-cn_topic_0059777586_laa6da2e8fa0444dd99d1652eb9cfdf58">DISABLE：行迁移开关关闭。</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE TABLESPACE" alias="CREATE TABLESPACE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a2afdfd1e030a457b8c84e5f8e64b413e">在数据库中创建一个新的表空间。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_ul52712830165818"><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_li62493326165818">只有系统管理员可以创建表空间。</li><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_li25569026165818">不允许在一个事务块内部执行CREATE TABLESPACE。</li><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_li157371614133">执行CREATE TABLESPACE失败，如果内部创建目录（文件）操作成功了就会产生残留的目录（文件），重新创建时需要用户手动清理表空间指定的目录下残留的内容。如果在创建过程中涉及到数据目录下的表空间软连接残留，需要先将软连接的残留文件删除，再重新执行OM相关操作。</li><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_li623901531563">CREATE TABLESPACE不支持两阶段事务，如果部分节点执行失败，不支持回滚。</li><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_li7834188104515">创建表空间前的准备工作参考下述参数说明。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建表空间。
postgres=# CREATE TABLESPACE ds_location1 RELATIVE LOCATION ' tablespace/tablespace_1 ' ; 

--创建表空间，且所有者指定为用户joe。
postgres=# CREATE TABLESPACE ds_location2 OWNER joe RELATIVE LOCATION ' tablespace/tablespace_1 ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_sf81d021956e34c128c4ccb53998bc825">CREATE TABLESPACE tablespace_name
    [ OWNER user_name ] RELATIVE LOCATION 'directory' [ MAXSIZE 'space_size' ]
    [with_option_clause];</pre>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_ae959948099cd41b9a24f1aa3f35928ad">其中普通表空间的with_option_clause为：</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_s11b1450b34484fe5ab0d04c9b0ba1eab">WITH ( {filesystem= { 'general'| "general" | general} |
    random_page_cost = { 'value ' | value } |
    seq_page_cost = { 'value ' | value }}[,...])</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a4cda9fabaa7c47e28682a899fde93767">tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a355df5d93c864038acc672b0aabee61d">要创建的表空间名称。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a2d3bcffbe5c74313a46331dfc83be835">表空间名称不能和<span id="ZH-CN_TOPIC_0242370584__text54296617535">openGauss</span>中的其他表空间重名，且名称不能以"pg"开头，这样的名称留给系统表空间使用。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a480f57824fd94edd8c4ff30cd5480e72">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a25e3401c31454bfea1e8c1811b7fe158">OWNER user_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_acdfaeb9d4ac74ecfa6d0c86d32e74c7e">指定该表空间的所有者。缺省时，新表空间的所有者是当前用户。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_zh-cn_topic_0058965706_p749433720181">只有系统管理员可以创建表空间，但是可以通过OWNER子句把表空间的所有权赋给其他非系统管理员。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_zh-cn_topic_0058965706_p407988420182">取值范围：字符串，已存在的用户。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_b116911123814">RELATIVE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_p925145214116">使用相对路径，LOCATION目录是相对于各个<span id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_text134161026113319">数据库节点</span>数据目录下的。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_p16345104315191">目录层次：数据库节点的数据目录/pg_location/相对路径</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_p74991686227">相对路径最多指定两层。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_adba79660094d4349abd1c552641e7071">LOCATION directory</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_aa1111dd6373347f1941fc43983d1d2ba">用于表空间的目录，对于目录有如下要求：</p>
<ul id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_ue065dfcb5aa34430b73d9961d9d05e21"><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_li34258156144119"><span id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_text87888365437"><span id="ZH-CN_TOPIC_0242370584__text1264662413204">openGauss</span></span>系统用户必须对该目录拥有读写权限，并且目录为空。如果该目录不存在，将由系统自动创建。</li><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_lb37b386fe8b747008f5a012f34f63d6a">目录必须是绝对路径，目录中不得含有特殊字符（如$,&gt; 等）。</li><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_li4091557515518">目录不允许指定在数据库数据目录下。</li><li id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_li2958677201412">目录需为本地路径。</li></ul>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_abe52f6717a654978be921858e1bd7b87">取值范围：字符串，有效的目录。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_ac1e495bbebdb4783b1f8ac4c91a4cf91">MAXSIZE 'space_size'</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a3dfbd23751604d74ac9427c6342e2dfa">指定表空间在单个<span id="ZH-CN_TOPIC_0242370584__text36191347154617">数据库节点</span>上的最大值。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_aebba5bcc1c5946ba93932e60af077b0f">取值范围：字符串格式为正整数+单位，单位当前支持K/M/G/T/P。解析后的数值以K为单位，且范围不能够超过64比特表示的有符号整数，即1KB~9007199254740991KB。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a4ffbcf68dff5465f8535b78fbf686369">random_page_cost</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a60d45da3bc1c44b58e1747c7fdf3a8ce">指定随机读取page的开销。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a42281bd9572d4e61b20b7b874d2326e2">取值范围：0~1.79769e+308。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_acf7b779b4f354916bace1b1895a42b7b">默认值：使用GUC参数random_page_cost的值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a11a601243431498ab2a724280fd5f235">seq_page_cost</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_ab284e52e034440789029d5cf29505034">指定顺序读取page的开销。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_aa7088a0e06fe42ffb6c83cdfccdbd6b4">取值范围：0~1.79769e+308。</p>
<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_a4cf16443bc8848baaed9fa4bfcc6e646">默认值：使用GUC参数seq_page_cost的值。</p>
</div></ul></div>]]></suggestion>
    <sub id="create tablespace">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370584__zh-cn_topic_0237122120_zh-cn_topic_0059777670_p61251838141611">不建议在事务内部创建表空间。</p>
]]></suggestion>
    </sub>
  </command>
  <command id="CREATE TEXT SEARCH CONFIGURATION" alias="CREATE TEXT SEARCH CONFIGURATION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_ac804ff2130354d7ebf7b9d4edd27edac">创建新的文本搜索配置。一个文本搜索配置声明一个能将一个字符串划分成符号的文本搜索解析器，加上可以用于确定搜索对哪些标记感兴趣的字典。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_u774411c5f1e1483385986ab1a5bea049"><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_li131078817237">若仅声明分析器，那么新的文本搜索配置初始没有从符号类型到词典的映射， 因此会忽略所有的单词。后面必须调用ALTER TEXT SEARCH CONFIGURATION命令创建映射使配置生效。如果声明了COPY选项，那么会自动拷贝指定的文本搜索配置的解析器、映射、配置选项等信息。</li><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_li117031118122311">若模式名称已给出，那么文本搜索配置会在声明的模式中创建。否则会在当前模式创建。</li><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_li1907172717234">定义文本搜索配置的用户成为其所有者。</li><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_l3bfbc2f27f8d4e68a515113c8e8d791a">PARSER和COPY选项是互相排斥的，因为当一个现有配置被复制，其分析器配置也被复制了。</li><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_l218134f64eb24712be160525bc952eab">若仅声明分析器，那么新的文本搜索配置初始没有从符号类型到词典的映射， 因此会忽略所有的单词。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建文本搜索配置。
postgres=# CREATE TEXT SEARCH CONFIGURATION ngram2 ( parser=ngram ) WITH ( gram_size = 2 , grapsymbol_ignore = false ) ; 

--创建文本搜索配置。
postgres=# CREATE TEXT SEARCH CONFIGURATION ngram3 ( copy=ngram2 ) WITH ( gram_size = 2 , grapsymbol_ignore = false ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_s363572554d1f4573b9403ce62bc482cd">CREATE TEXT SEARCH CONFIGURATION name 
    ( PARSER = parser_name | COPY = source_config )
    [ WITH ( {configuration_option = value} [, ...] )];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_aa1a01151b7ac451697cca56df002557e">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a32d6afc6971a4f019e438dc4a5b19ea2">要创建的文本搜索配置的名称。该名称可以有模式修饰。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a9a995f37428c4c198109bdeadbd1eb8b">parser_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a0d0b5f0cff3b4bd5815c0703be9f378a">用于该配置的文本搜索分析器的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a3eba106afcc74404a1589d08d2283381">source_config</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a1ca0c6d27b0d4e29a6df7dab2b4fee06">要复制的现有文本搜索配置的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_af5d95713ed784973aa542a2eccb97d0c">configuration_option</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a866c8f80539b4210a5fae1affe0a440d">文本搜索配置的配置参数，主要是针对parser_name执行的解析器，或者source_config隐含的解析器而言的。</p>
<div class="p" id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a64c0cb68fefb47a5a13ce902c6ea2584">取值范围：目前共支持default、ngram两种类型的解析器，其中default类型的解析器没有对应的configuration_option，ngram类型解析器对应的configuration_option如<a href="#ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_t0d301ca84e1a4c16ae8bead85aa1a8c3">表1</a>所示。 
<div class="tablenoborder"><a name="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_t0d301ca84e1a4c16ae8bead85aa1a8c3"></a><a name="zh-cn_topic_0237122121_zh-cn_topic_0059777835_t0d301ca84e1a4c16ae8bead85aa1a8c3"></a><table cellpadding="4" cellspacing="0" summary="" id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_t0d301ca84e1a4c16ae8bead85aa1a8c3" frame="border" border="1" rules="all"><caption><b>表1 </b>ngram类型解析器对应的配置参数</caption><thead align="left"><tr id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_r7358f91c6a344d3c925a1e9a3131e90c"><th align="left" class="cellrowborder" valign="top" width="10.45%" id="mcps1.3.4.2.4.3.2.2.5.1.1"><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a70d80fceef2a43678a68d9d726b1e201">解析器</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.47%" id="mcps1.3.4.2.4.3.2.2.5.1.2"><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a2f34f4c0334d454184a3435283061072">配置参数</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="37.72%" id="mcps1.3.4.2.4.3.2.2.5.1.3"><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a9df03cd737914aa88ecf89d869f7bec2">参数描述</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="36.36%" id="mcps1.3.4.2.4.3.2.2.5.1.4"><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_ac55de7ecda5d42bc92dec9a7d12cf07f">取值范围</p>
</th>
</tr>
</thead>
<tbody><tr id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_r70279f6e42874432aea8dc060ef14816"><td class="cellrowborder" rowspan="3" valign="top" width="10.45%" headers="mcps1.3.4.2.4.3.2.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_zh-cn_topic_0058965729_p796264012457">ngram</p>
</td>
<td class="cellrowborder" valign="top" width="15.47%" headers="mcps1.3.4.2.4.3.2.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a88aacea507174f06908cbceb9ee662f7">gram_size</p>
</td>
<td class="cellrowborder" valign="top" width="37.72%" headers="mcps1.3.4.2.4.3.2.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a6837bb5d15cb4e54984b7a899d208f88">分词长度。</p>
</td>
<td class="cellrowborder" valign="top" width="36.36%" headers="mcps1.3.4.2.4.3.2.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a66cb45cb1b524d90acbaf6e014833738">正整数，1~4</p>
<p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a97173f63b7b74ab5911fad954606068e">默认值：2</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_rab1926ed9433488b96d36ae2bbedd319"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.3.2.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a077d45984066428eab0ac28303b22c9c">punctuation_ignore</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.3.2.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_af3284706279547098a0e2b1bc36b9d83">是否忽略标点符号。</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.3.2.2.5.1.3 "><ul id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_u7626c646b9b64783a2c393bcf568bad6"><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_lc99e6402cf7448b3ac3857f1a6919581">true（默认值）：忽略标点符号。</li><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_l5a0ef0fa800043b181e56b8cb6273e06">false：不忽略标点符号。</li></ul>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_r21a0acec3b1d4f209222ce6cb5c5bd77"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.3.2.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_a5fc3519aee8043039ee6609a557a3230">grapsymbol_ignore</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.3.2.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_aea2627ca36d543049f7b51963cbbe547">是否忽略图形化字符。</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.4.3.2.2.5.1.3 "><ul id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_u7ae471a522694b5d996126575b808f03"><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_l2cd559f9cbb148fbbaa5322c263e550a">true：忽略图形化字符。</li><li id="ZH-CN_TOPIC_0242370585__zh-cn_topic_0237122121_zh-cn_topic_0059777835_l81479fa60fc148afa79ad0d73f9fca13">false（默认值）：不忽略图形化字符。</li></ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE TEXT SEARCH DICTIONARY" alias="CREATE TEXT SEARCH DICTIONARY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p55141914483">创建一个新的全文检索词典。词典是一种指定在全文检索时识别特定词并处理的方法。</p>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p5654125664618">词典的创建依赖于预定义模板（在系统表<a>PG_TS_TEMPLATE</a>中定义），支持创建五种类型的词典，分别是Simple、Ispell、Synonym、Thesaurus、以及Snowball，每种类型的词典可以完成不同的任务。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul94641895249"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li10464891245">具有SYSADMIN权限的用户可以执行创建词典操作，创建该词典的用户自动成为其所有者。</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li24716712720">临时模式（pg_temp）下不允许创建词典。</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li1695011287207">创建或修改词典之后，任何对于用户自定义的词典定义文件的修改，将不会影响到数据库中的词典。如果需要在数据库中使用这些修改，需使用ALTER语句更新对应词典的定义文件。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_zh-cn_topic_0059777936_s92a0deb0c52b4eb0a4b341a63983a0f0">CREATE TEXT SEARCH DICTIONARY name (
    TEMPLATE = template
    [, option = value [, ... ]]
);</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b524483759421">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p447093219453">要创建的词典的名称（可指定模式名，否则在当前模式下创建）。</p>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p53237289456">取值范围：符合标识符命名规范的字符串，且最大长度不超过63个字符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b123161516184011">template</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p63719564012">模板名。</p>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p93710584015">取值范围：系统表<a>PG_TS_TEMPLATE</a>中定义的模板：Simple/Synonym/Thesaurus/Ispell/Snowball。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><a name="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li1286812455448"></a><a name="zh-cn_topic_0237122122_li1286812455448"></a><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b1289412569392">option</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p145461744155218">参数名。与template值对应，不同的词典模板具有不同的参数列表，且与指定顺序无关。</p>
<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul73520317301"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li132392610291">Simple词典对应的option<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul164711610132616"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li1521442771710"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b101381554191714">STOPWORDS</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p141621281174">停用词表文件名，默认后缀名为stop。停用词文件格式为一组word列表，每行定义一个停用词。词典处理时，文件中的空行和空格会被忽略，并将stopword词组转换为小写形式。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li83020302172"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b6753155581714">ACCEPT</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p780343081713">是否将非停用词设置为已识别。默认值为true。</p>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p5644711224">当Simple词典设置参数ACCEPT=true时，将不会传递任何token给后继词典，此时建议将其放置在词典列表的最后。反之，当ACCEPT=false时，建议将该Simple词典放置在列表中的至少一个词典之前。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li13533193132616"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b953215316264">FILEPATH</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p45331531122613">词典文件所在目录。目录可以指定为本地目录和OBS目录。其中，本地目录格式为"file://absolute_path"，OBS目录格式为"obs://bucket_name/path accesskey=ak secretkey=sk region=rg"。默认值为预定义词典文件所在目录。FILEPATH参数必须和STOPWORDS参数同时指定，不允许单独指定。</p>
</li></ul>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li3769818163018">Synonym词典对应的option<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul1786729203116"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li9908122611315"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b23599148445">SYNONYM</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p149066276287">同义词词典的定义文件名，默认后缀名为syn。</p>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p39811136114718">文件格式为一组同义词列表，每行格式为"token synonym"，即token和其对应的synonym，中间以空格相连。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li5422183819471"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b162141117154410">CASESENSITIVE</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p1271883924716">设置是否大小写敏感，默认值为false，此时词典文件中的token和synonym均会转为小写形式处理。如果设置为true，则不会进行小写转换。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li2975203353118"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b14974833193111">FILEPATH</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p4975333103113">同义词词典文件所在目录。目录可以指定为本地目录和OBS目录两种形式。其中，本地目录格式为"file://absolute_path"，OBS目录格式为"obs://bucket_name/path accesskey=ak secretkey=sk region=rg"。默认值为预定义词典文件所在目录。</p>
</li></ul>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li172887716330">Thesaurus词典对应的option<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul0565165617272"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li13265721131414"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b12812195313552">DICTFILE</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p1623814161718">词典定义文件名，默认后缀名为ths。</p>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p86584227140">文件格式为一组同义词列表，每行格式为"sample words : indexed words"，中间冒号（:）作为短语和其替换词间的分隔符。TZ词典处理时，如果有多个匹配的sample words，将选择最长匹配输出。</p>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul10566175692712"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li455652516147"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b1122613555554">DICTIONARY</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p1822292741416">用于词规范化的子词典名，必须且仅能定义一个。该词典必须是已经存在的，在检查短语匹配之前使用，用于识别和规范输入文本。</p>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p1242051723714">如果子词典无法识别输入词，将会报错。此时，需要移除该词或者更新子词典使其识别。此外，可在indexed words的开头放上一个星号（*）来跳过在其上应用子词典，但是所有sample words必须可以被子词典识别。</p>
<div class="p" id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p9897225193416">如果词典文件定义的sample words中，含有子词典中定义的停用词，需要用问号（？）替代停用词。假设a和the是子词典中所定义的停用词，如下：<pre class="screen" id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_screen128832051145213">? one ? two : swsw</pre>
</div>
<p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p314914310533">上述同义词组定义会匹配"a one the two"以及"the one a two"，这两个短语均会被swsw替代输出。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li3693203211140"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b71872599556">FILEPATH</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p201381234141411">词典定义文件所在目录。目录可以指定为本地目录和OBS目录两种形式。其中，本地目录格式为"file://absolute_path"，OBS目录格式为"obs://bucket_name/path accesskey=ak secretkey=sk region=rg"。默认值为预定义词典文件所在目录。</p>
</li></ul>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li3590340173413">Ispell词典<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul8643134014350"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li6403123817359"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b135851231145610">DICTFILE</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p169415319334">词典定义文件名，默认后缀名为dict。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li44331630183512"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b1543323093511">AFFFILE</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p1743317304351">词缀文件名，默认后缀名为affix。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li19991204413517"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b2990044193516">STOPWORDS</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p19991184416354">停用词文件名，默认后缀名为stop，文件格式要求与Simple类型词典的停用词文件相同。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li821674983510"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b162161149203511">FILEPATH</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p86651356113516">词典文件所在目录。可以指定为本地目录和OBS目录两种形式。其中，本地目录格式为"file://absolute_path"，OBS目录格式为"obs://bucket_name/path accesskey=ak secretkey=sk region=rg"。默认值为预定义词典文件所在目录。</p>
</li></ul>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li1585912584354">Snowball词典<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul622714279442"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li1165615544373"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b19949171714574">LANGUAGE</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p121185610373">语言名，标识使用哪种语言的词干分析算法。算法按照对应语言中的拼写规则，缩减输入词的常见变体形式为一个基础词或词干。</p>
</li><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li10262357173720"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b46341815125710">STOPWORDS</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p20978757173720">停用词表文件名，默认后缀名为stop，文件格式要求与Simple类型词典的停用词文件相同。</p>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_ul1862715564217"><li id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_li594740133814"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b8786121310577">FILEPATH</strong><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p196391115386">词典定义文件所在目录。可以指定为本地目录或者OBS目录。其中，本地目录格式为"file://absolute_path"，OBS目录格式为"obs://bucket_name/path accesskey=ak secretkey=sk region=rg"。默认值为预定义词典文件所在目录。FILEPATH参数必须和STOPWORDS参数同时指定，不允许单独指定。</p>
</li></ul>
</li></ul>
<div class="note" id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_note1970820111566"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p1011883919564">词典定义文件的文件名仅支持小写字母、数据、下划线混合。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_b18861937193116">value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370586__zh-cn_topic_0237122122_p15861137193115">参数值。如果不是简单的标识符或数字，则参数值必须加单引号（标示符和数字同样可以加上单引号）。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE TRIGGER" alias="CREATE TRIGGER">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p11128134817614">创建一个触发器。 触发器将与指定的表或视图关联，并在特定条件下执行指定的函数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_ul139412062717"><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li158017715272">当前仅支持在普通行存表上创建触发器，不支持在列存表、临时表、unlogged表等类型表上创建触发器。</li><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li347634145417">如果为同一事件定义了多个相同类型的触发器，则按触发器的名称字母顺序触发它们。</li><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li153342473107">触发器常用于多表间数据关联同步场景，对SQL执行性能影响较大，不建议在大数据量同步及对性能要求高的场景中使用。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建源表及触发表
postgres=# CREATE TABLE test_trigger_src_tbl ( id1 INT , id2 INT , id3 INT ) ; 
postgres=# CREATE TABLE test_trigger_des_tbl ( id1 INT , id2 INT , id3 INT ) ; 

--创建触发器函数
postgres=# CREATE OR REPLACE FUNCTION tri_insert_func ( ) RETURNS TRIGGER AS
$$
DECLARE
BEGIN
INSERT INTO test_trigger_des_tbl VALUES ( NEW.id1 , NEW.id2 , NEW.id3 ) ; 
RETURN NEW ; 
END
$$ LANGUAGE PLPGSQL ; 
postgres=# CREATE OR REPLACE FUNCTION tri_update_func ( ) RETURNS TRIGGER AS
$$
DECLARE
BEGIN
UPDATE test_trigger_des_tbl SET id3 = NEW.id3 WHERE id1=OLD.id1 ; 
RETURN OLD ; 
END
$$ LANGUAGE PLPGSQL ; 
postgres=# CREATE OR REPLACE FUNCTION TRI_DELETE_FUNC ( ) RETURNS TRIGGER AS
$$
DECLARE
BEGIN
DELETE FROM test_trigger_des_tbl WHERE id1=OLD.id1 ; 
RETURN OLD ; 
END
$$ LANGUAGE PLPGSQL ; 

--创建INSERT触发器
postgres=# CREATE TRIGGER insert_trigger
BEFORE INSERT ON test_trigger_src_tbl
FOR EACH ROW
EXECUTE PROCEDURE tri_insert_func ( ) ; 

--创建UPDATE触发器
postgres=# CREATE TRIGGER update_trigger
AFTER UPDATE ON test_trigger_src_tbl
FOR EACH ROW
EXECUTE PROCEDURE tri_update_func ( ) ; 

--创建DELETE触发器
postgres=# CREATE TRIGGER delete_trigger
BEFORE DELETE ON test_trigger_src_tbl
FOR EACH ROW
EXECUTE PROCEDURE tri_delete_func ( ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_s234e98654dd34a88b2b5f526b351f837">CREATE [ CONSTRAINT ] TRIGGER trigger_name { BEFORE | AFTER | INSTEAD OF } { event [ OR ... ] }
    ON table_name
    [ FROM referenced_table_name ]
    { NOT DEFERRABLE | [ DEFERRABLE ] { INITIALLY IMMEDIATE | INITIALLY DEFERRED } }
    [ FOR [ EACH ] { ROW | STATEMENT } ]
    [ WHEN ( condition ) ]
    EXECUTE PROCEDURE function_name ( arguments );</pre>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_aa733ffdbfa434a399bc9f249353759e9">其中event包含以下几种：</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_sde4230dc64464456a34e0b74ea991cbd">    INSERT
    UPDATE [ OF column_name [, ... ] ]
    DELETE
    TRUNCATE</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b7910144355615">CONSTRAINT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1652873112568">可选项，指定此参数将创建约束触发器，即触发器作为约束来使用。除了可以使用SET CONSTRAINTS调整触发器触发的时间之外，这与常规触发器相同。 约束触发器必须是AFTER ROW触发器。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_ab494791a6d774693a3e67c1a5a8f0cfc">trigger_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_a40a37644aa17476c944a099c82f1683f">触发器名称，该名称不能限定模式，因为触发器自动继承其所在表的模式，且同一个表的触发器不能重名。 对于约束触发器，使用<a>SET CONSTRAINTS</a>修改触发器行为时也使用此名称。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_zh-cn_topic_0058966135_p34082761901">取值范围：符合标识符命名规范的字符串，且最大长度不超过63个字符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b734281918714">BEFORE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p330913613266">触发器函数是在触发事件发生前执行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b234511916713">AFTER</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p18303125415">触发器函数是在触发事件发生后执行，约束触发器只能指定为AFTER。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b93473191572">INSTEAD OF</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p10309181914516">触发器函数直接替代触发事件。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b1877155513121">event</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p11506111613114">启动触发器的事件，取值范围包括：INSERT、UPDATE、DELETE或TRUNCATE，也可以通过OR同时指定多个触发事件。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p466616554361">对于UPDATE事件类型，可以使用下面语法指定列：</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_screen63001455103713">UPDATE OF column_name1 [, column_name2 ... ]</pre>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p152344432124">表示只有这些列作为UPDATE语句的目标列时，才会启动触发器，但是INSTEAD OF UPDATE类型不支持指定列信息。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_a967f1871525a494182a5d7e524520bc0">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_zh-cn_topic_0059778166_a1048cc1e92b64285afced7c67931000f">需要创建触发器的表名称。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p711315618308">取值范围：数据库中已经存在的表名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b32581866170">referenced_table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p273111018174">约束引用的另一个表的名称。 只能为约束触发器指定，常见于外键约束。由于当前不支持外键，因此不建议使用。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p10998410101710">取值范围：数据库中已经存在的表名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b7743192182514">DEFERRABLE |</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b1374512182511"> NOT DEFERRABLE</strong><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p2471540121720">约束触发器的启动时机，仅作用于约束触发器。这两个关键字设置该约束是否可推迟。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p16756934169">详细介绍请参见<a>CREATE TABLE</a>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b7746182115251">INITIALLY IMMEDIATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'> <strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b2862135017154">| </strong><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b177476210252">INITIALLY DEFERRED</strong><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p5488144010186">如果约束是可推迟的，则这个子句声明检查约束的缺省时间，仅作用于约束触发器。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p10194112621819">详细介绍请参见<a>CREATE TABLE</a>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b18402116141511">FOR EACH ROW | </strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b9406101618154">FOR EACH STATEMENT</strong><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p17920479205">触发器的触发频率。</p>
<ul id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_ul643915208206"><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li19185121314207">FOR EACH ROW是指该触发器是受触发事件影响的每一行触发一次。</li><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li15052127215">FOR EACH STATEMENT是指该触发器是每个SQL语句只触发一次。</li></ul>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p11547714202115">未指定时默认值为FOR EACH STATEMENT。约束触发器只能指定为FOR EACH ROW。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b10835244187">condition</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p2859421162611">决定是否实际执行触发器函数的条件表达式。当指定WHEN时，只有在条件返回true时才会调用该函数。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p6692141112272">在FOR EACH ROW触发器中，WHEN条件可以通过分别写入OLD.column_name或NEW.column_name来引用旧行或新行值的列。 当然，INSERT触发器不能引用OLD和DELETE触发器不能引用NEW。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p36481798278">INSTEAD OF触发器不支持WHEN条件。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p56541271276">WHEN表达式不能包含子查询。</p>
<p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p0982542279">对于约束触发器，WHEN条件的评估不会延迟，而是在执行更新操作后立即发生。 如果条件返回值不为true，则触发器不会排队等待延迟执行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b2453112911816">function_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p13417254171413">用户定义的函数，必须声明为不带参数并返回类型为触发器，在触发器触发时执行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_b78821936131814">arguments</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p452593510259">执行触发器时要提供给函数的可选的以逗号分隔的参数列表。参数是文字字符串常量，简单的名称和数字常量也可以写在这里，但它们都将被转换为字符串。 请检查触发器函数的实现语言的描述，以了解如何在函数内访问这些参数。</p>
<div class="note" id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_note174681631113919"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p16083236407">关于触发器种类：</p>
<ul id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_ul18326144512421"><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li1432616452421">INSTEAD OF的触发器必须标记为FOR EACH ROW，并且只能在视图上定义。</li><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li18326164534216">BEFORE和AFTER触发器作用在视图上时，只能标记为FOR EACH STATEMENT。</li><li id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_li1032664512427">TRUNCATE类型触发器仅限FOR EACH STATEMENT。</li></ul>
</div></div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_table15282217184416" frame="border" border="1" rules="all"><caption><b>表1 </b>表和视图上支持的触发器种类：</caption><thead align="left"><tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row1928351717446"><th align="left" class="cellrowborder" valign="top" width="18.61%" id="mcps1.3.4.2.14.4.2.5.1.1"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p172831717164411">触发时机</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="31.39%" id="mcps1.3.4.2.14.4.2.5.1.2"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p12831417204411">触发事件</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.4.2.14.4.2.5.1.3"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p02835173441">行级</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.4.2.14.4.2.5.1.4"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p7283151724411">语句级</p>
</th>
</tr>
</thead>
<tbody><tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row172831817174411"><td class="cellrowborder" rowspan="2" valign="top" width="18.61%" headers="mcps1.3.4.2.14.4.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p730044544511">BEFORE</p>
</td>
<td class="cellrowborder" valign="top" width="31.39%" headers="mcps1.3.4.2.14.4.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p3284317124416">INSERT/UPDATE/DELETE</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.14.4.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p328415179448">表</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.14.4.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p52841717144413">表和视图</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row16284131794411"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p11284117194411">TRUNCATE</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p17284117134416">不支持</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p928411720440">表</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row13284111719447"><td class="cellrowborder" rowspan="2" valign="top" width="18.61%" headers="mcps1.3.4.2.14.4.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p77757114469">AFTER</p>
</td>
<td class="cellrowborder" valign="top" width="31.39%" headers="mcps1.3.4.2.14.4.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p152851217194419">INSERT/UPDATE/DELETE</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.14.4.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p18285111715443">表</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.14.4.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p6285191714444">表和视图</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row628521784416"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p028581720447">TRUNCATE</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p79551335194718">不支持</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p32851817104412">表</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row1628517179447"><td class="cellrowborder" rowspan="2" valign="top" width="18.61%" headers="mcps1.3.4.2.14.4.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p76867126463">INSTEAD OF</p>
</td>
<td class="cellrowborder" valign="top" width="31.39%" headers="mcps1.3.4.2.14.4.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p132851717134412">INSERT/UPDATE/DELETE</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.14.4.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p628520177441">视图</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.4.2.14.4.2.5.1.4 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p328521734411">不支持</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row4285121715449"><td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p5285121710449">TRUNCATE</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p13881123616473">不支持</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.2.14.4.2.5.1.3 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p828581719444">不支持</p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_table760181655812" frame="border" border="1" rules="all"><caption><b>表2 </b>PLPGSQL类型触发器函数特殊变量：</caption><thead align="left"><tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row19602716145815"><th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.4.2.14.5.2.3.1.1"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p206021716105816">变量名</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.4.2.14.5.2.3.1.2"><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1460201645816">变量含义</p>
</th>
</tr>
</thead>
<tbody><tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row3602131614583"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p14602151695812">NEW</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1860211675810">INSERT及UPDATE操作涉及tuple信息中的新值，对DELETE为空。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row76021816145814"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p11602191615818">OLD</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1602171615583">UPDATE及DELETE操作涉及tuple信息中的旧值，对INSERT为空。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row18602416155810"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1475416171454">TG_NAME</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p5602181610580">触发器名称。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row1603161675820"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1475411171056">TG_WHEN</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p206031016115811">触发器触发时机（BEFORE/AFTER/INSTEAD OF）。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row1660319162582"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1175418171457">TG_LEVEL</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p0603191615816">触发频率（ROW/STATEMENT）。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row1560316166589"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p127546171358">TG_OP</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p10603716185818">触发操作（INSERT/UPDATE/DELETE/TRUNCATE）。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row10541541358"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p27541171651">TG_RELID</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1954041519">触发器所在表OID。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row45412413517"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1875420175514">TG_RELNAME</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p205414755">触发器所在表名（已废弃，现用TG_TABLE_NAME替代）。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row13249111110518"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p87540171655">TG_TABLE_NAME</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p10250201116514">触发器所在表名。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row162500111657"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p1475451710513">TG_TABLE_SCHEMA</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p6250711553">触发器所在表的SCHEMA信息。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row625014111253"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p117543174514">TG_NARGS</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p192506111453">触发器函数参数个数。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_row1764175611515"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.1 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p37540171551">TG_ARGV[]</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.4.2.14.5.2.3.1.2 "><p id="ZH-CN_TOPIC_0242370587__zh-cn_topic_0237122123_p676419562519">触发器函数参数列表。</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE TYPE" alias="CREATE TYPE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p105231915193720">在当前数据库中定义一种新的数据类型。定义数据类型的用户将成为该数据类型的拥有者。类型只适用于行存表</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p20460781475"><span style="color:#353A3F;">有四种形式的</span><span style="color:#353A3F;">CREATE TYPE</span>，<span style="color:#353A3F;">分别为：复合</span>类型、基本类型、<span style="color:#353A3F;">shell</span><span style="color:#353A3F;">类型</span><span style="color:#353A3F;">和枚举类型。</span></p>
<ul id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_ul1188784611381"><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li888784623814">复合类型<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p11237174918386">复合类型由一个属性名和数据类型的列表指定。如果属性的数据类型是可排序的，也可以指定该属性的排序规则。复合类型本质上和表的行类型相同，但是如果只想定义一种类型，使用CREATE TYPE避免了创建一个实际的表。单独的复合类型也是很有用的，例如可以作为函数的参数或者返回类型。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p2186115112380">为了能够创建复合类型，必须拥有在其所有属性类型上的USAGE特权。</p>
</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li1888194610383">基本类型<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p14784155253820">用户可以自定义一种新的基本类型（标量类型）。通常来说这些函数必须是底层语言所编写。</p>
</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li102851849135010"><span style="color:#353A3F;">shell类型</span><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p3795195055018"><span style="color:#353A3F;">shell类型是一种用于后面要定义的类型的占位符，通过发出一个不带除类型名之外其他参数的CREATE TYPE命令可以创建这种类型。在创建基本类型时，需要shell类型作为一种向前引用</span>。</p>
</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li11735434112116">枚举类型<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1616012407213">由若干个标签构成的列表，每一个标签值都是一个非空字符串，且字符串长度必须不超过64个字节。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_zh-cn_topic_0059779377_a4f15fb9b63944f6480e9923fcac240da"><span style="color:#353A3F;">如果给定一个模式名，那么该类型将被创建在指定的模式中。否则它会被创建在当前模式中。类型名称必须与同一个模式中任何现有的类型或者域相区别（因为表具有相关的数据类型，类型名称也必须与同一个模式中任何现有表的名称不同）</span><span style="color:#353A3F;">。</span></p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建一种复合类型，建表并插入数据以及查询。
postgres=# CREATE TYPE compfoo AS ( f1 int , f2 text ) ; 
postgres=# CREATE TABLE t1_compfoo ( a int , b compfoo ) ; 
postgres=# CREATE TABLE t2_compfoo ( a int , b compfoo ) ; 
postgres=# INSERT INTO t1_compfoo values ( 1 , ( 1 , ' demo ' ) ) ; 
postgres=# INSERT INTO t2_compfoo select * from t1_typ5 ; 
postgres=# SELECT ( b ) .f1 FROM t1_compfoo ; 
postgres=# SELECT * FROM t1_compfoo t1 join t2_compfoo t2 on ( t1.b ) .f1= ( t1.b ) .f1 ; 

--要改变一个用户定义类型compfoo1的所有者为usr1。
postgres=# CREATE USER usr1 PASSWORD ' Bigdata@123 ' ; 
postgres=# ALTER TYPE compfoo1 OWNER TO usr1 ; 

--创建一个枚举类型。
postgres=# CREATE TYPE bugstatus AS ENUM ( ' create ' , ' modify ' , ' closed ' ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_zh-cn_topic_0059779377_sf194089eee824b4caaa861236dfee7dc">CREATE TYPE name AS
    ( [ attribute_name data_type [ COLLATE collation ] [, ... ] ] )

CREATE TYPE name (
    INPUT = input_function,
    OUTPUT = output_function
    [ , RECEIVE = receive_function ]
    [ , SEND = send_function ]
    [ , TYPMOD_IN =
type_modifier_input_function ]
    [ , TYPMOD_OUT =
type_modifier_output_function ]
    [ , ANALYZE = analyze_function ]
    [ , INTERNALLENGTH = { internallength |
VARIABLE } ]
    [ , PASSEDBYVALUE ]
    [ , ALIGNMENT = alignment ]
  [ , STORAGE = storage ]
    [ , LIKE = like_type ]
    [ , CATEGORY = category ]
    [ , PREFERRED = preferred ]
    [ , DEFAULT = default ]
    [ , ELEMENT = element ]
    [ , DELIMITER = delimiter ]
    [ , COLLATABLE = collatable ]
)

CREATE TYPE name

CREATE TYPE name AS ENUM
    ( [ 'label' [, ... ] ] )</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b17763241835">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p58691113033">要创建的类型的名称（可以被模式限定）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b01531135332">attribute_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1632454313311">复合类型的一个属性（列）的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b14719394411">data_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1380516192049">要成为复合类型的一个列的现有数据类型的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b2080919231372">collation</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p974312694317">要关联到复合类型的一列的现有排序规则的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b0555228174315">input_function</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p105551828184318">将数据从类型的外部文本形式转换为内部形式的函数名。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1284141513124">输入函数可以被声明为有一个cstring类型的参数，或者有三个类型分别为cstring、 oid、integer的参数。</p>
<ul id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_ul173814513135"><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li79811348151317">cstring参数是以C字符串存在的输入文本。</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li5981154820134">oid参数是该类型自身的OID（对于数组类型则是其元素类型的OID）。</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li2098264815133">integer参数是目标列的typmod（如果知道，不知道则将传递 -1）。</li></ul>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p2027685514154">输入函数必须返回一个该数据类型本身的值。通常，一个输入函数应该被声明为STRICT。 如果不是这样，在读到一个NULL输入值时，调用输入函数时第一个参数会是NULL。在这种情况下，该函数必须仍然返回NULL，除非调用函数发生了错误（这种情况主要是想支持域输入函数，域输入函数可能需要拒绝NULL输入）。</p>
<div class="note" id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_note863756205811"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p5609344183916">输入和输出函数能被声明为具有新类型的结果或参数是因为：必须在创建新类型之前创建这两个函数。而新类型应该首先被定义为一种shell type，它是一种占位符类型，除了名称和拥有者之外它没有其他属性。这可以通过不带额外参数的命令CREATE TYPE name做到。然后用C写的I/O函数可以被定义为引用这种shell type。最后，用带有完整定义的CREATE TYPE把该shell type替换为一个完全的、合法的类型定义，之后新类型就可以正常使用了。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b655532804318">output_function</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p13555202844317">将数据从类型的内部形式转换为外部文本形式的函数名。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p17250445149">输出函数必须被声明为有一个新数据类型的参数。输出函数必须返回类型cstring。对于NULL值不会调用输出函数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b0555162812433">receive_function</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p75551028174311">可选参数。将数据从类型的外部二进制形式转换成内部形式的函数名。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p327121082316">如果没有该函数，该类型不能参与到二进制输入中。二进制表达转换成内部形式代价更低，然而却更容易移植（例如，标准的整数数据类型使用网络字节序作为外部二进制表达，而内部表达是机器本地的字节序）。receive_function应该执行足够的检查以确保该值是有效的。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p84285256293">接收函数可以被声明为有一个internal类型的参数，或者有三个类型分别为internal、oid、integer的参数。</p>
<ul id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_ul107511335336"><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li9204655133219">internal参数是一个指向StringInfo缓冲区的指针，其中保存着接收到的字节串。</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li0205195593213">oid和integer参数和文本输入函数的相同。</li></ul>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p20710584339">接收函数必须返回一个该数据类型本身的值。通常，一个接收函数应该被声明为STRICT。如果不是这样，在读到一个NULL输入值时调用接收函数时第一个参数会是NULL。在这种情况下，该函数必须仍然返回NULL，除非接收函数发生了错误（这种情况主要是想支持域接收函数，域接收函数可能需要拒绝NULL输入）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b125555286437">send_function</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p3555728204316">可选参数。将数据从类型的内部形式转换为外部二进制形式的函数名。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p177614289579">如果没有该函数，该类型将不能参与到二进制输出中。发送函数必须被声明为有一个新数据类型的参数。发送函数必须返回类型bytea。对于NULL值不会调用发送函数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b19555132814438">type_modifier_input_function</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p4555172844312">可选参数。将类型的修饰符数组转换为内部形式的函数名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b855542819436">type_modifier_output_function</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1755532812438">可选参数。将类型的修饰符的内部形式转换为外部文本形式的函数名。</p>
<div class="note" id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_note41036467581"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p3573104735813">如果该类型支持修饰符（附加在类型声明上的可选约束，例如，char(5)或numeric(30,2)），则需要可选的type_modifier_input_function以及type_modifier_output_function。<span id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_text46951444436"><span id="ZH-CN_TOPIC_0242370588__text1219143314207">openGauss</span></span>允许用户定义的类型有一个或者多个简单常量或者标识符作为修饰符。不过，为了存储在系统目录中，该信息必须能被打包到一个非负整数值中。所声明的修饰符会被以cstring数组的形式传递给type_modifier_input_function。 type_modifier_input_function必须检查该值的合法性（如果值错误就抛出一个错误），如果值正确，要返回一个非负integer值，该值将被存储在“typmod”列中。如果类型没有 type_modifier_input_function则类型修饰符将被拒绝。type_modifier_output_function把内部的整数typmod值转换回正确的形式用于用户显示。type_modifier_output_function必须返回一个cstring值，该值就是追加到类型名称后的字符串。例如，numeric的函数可能会返回(30,2)。如果默认的显示格式就是只把存储的typmod整数值放在圆括号内，则允许省略type_modifier_output_function。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b555514284436">analyze_function</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p755532811431">可选参数。为该数据类型执行统计分析的函数名的可选参数。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p39988717594">默认情况下，如果该类型有一个默认的B-tree操作符类，ANALYZE将尝试用类型的“equals”和“less-than”操作符来收集统计信息。这种行为对于非标量类型并不合适，因此可以通过指定一个自定义分析函数来覆盖这种行为。分析函数必须被声明为有一个类型为internal的参数，并且返回一个boolean结果。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b5555142894311">internallength</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p18555428144320">可选参数。一个数字常量，用于指定新类型的内部表达的字节长度。默认为变长。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p135122985915">虽然只有I/O函数和其他为该类型创建的函数才知道新类型的内部表达的细节， 但是内部表达的一些属性必须被向<span id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_text19179847184314"><span id="ZH-CN_TOPIC_0242370588__text7931193311205">openGauss</span></span>声明。其中最重要的是internallength。基本数据类型可以是定长的（这种情况下internallength是一个正整数）或者是变长的（把internallength设置为VARIABLE，在内部通过把typlen设置为-1表示）。所有变长类型的内部表达都必须以一个4字节整数开始，internallength定义了总长度。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b7535175914212">PASSEDBYVALUE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p20826121015189">可选参数。表示这种数据类型的值需要被传值而不是传引用。传值的类型必须是定长的，并且它们的内部表达不能超过Datum类型（某些机器上是4字节，其他机器上是8字节）的尺寸。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b1355572811439">alignment</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p955552834315">可选参数。该参数指定数据类型的存储对齐需求。如果被指定，必须是char、int2、int4或者double。默认是int4。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1935919221303">允许的值等同于以1、2、4或8字节边界对齐。要注意变长类型的alignment参数必须至少为4，因为它们需要包含一个int4作为它们的第一个组成部分。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b1055519284436">storage</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p2555228194317">可选参数。该数据类型的存储策略。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1716611397427">如果被指定，必须是plain、external、extended或者main。 默认是plain。</p>
<ul id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_ul534162219433"><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li739732014436">plain指定该类型的数据将总是被存储在线内并且不会被压缩。（对定长类型只允许plain）</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li15399172014432">extended 指定系统将首先尝试压缩一个长的数据值，并且将在数据仍然太长的情况下把值移出主表行。</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li20401420184312">external允许值被移出主表， 但是系统将不会尝试对它进行压缩。</li><li id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_li20402192074313">main允许压缩，但是不鼓励把值移出主表（如果没有其他办法让行的大小变得合适，具有这种存储策略的数据项仍将被移出主表，但比起extended以及external项来，这种存储策略的数据项会被优先考虑保留在主表中）。<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p2747103415014">除plain之外所有的storage值都暗示该数据类型的函数能处理被TOAST过的值。指定的值仅仅是决定一种可TOAST数据类型的列的默认TOAST存储策略，用户可以使用ALTER TABLE SET STORAGE为列选取其他策略。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b85556285435">like_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p7555028144317">可选参数。与新类型具有相同表达的现有数据类型的名称。会从这个类型中复制internallength、 passedbyvalue、 alignment以及storage的值（ 除非在这个CREATE TYPE命令的其他地方用显式说明覆盖）。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p5363144813018">当新类型的低层实现是以一种现有的类型为参考时，用这种方式指定表达特别有用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b85557286436">category</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p135557284439">可选参数。这种类型的分类码（一个ASCII 字符）。 默认是“用户定义类型”的'U'。为了创建自定义分类， 也可以选择其他 ASCII字符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b55556282430">preferred</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1755592811431">可选参数。如果这种类型是其类型分类中的优先类型则为TRUE，否则为FALSE。默认为假。在一个现有类型分类中创建一种新的优先类型要非常谨慎， 因为这可能会导致很大的改变。</p>
<div class="note" id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_note1228123415312"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p52811434175310">category和preferred参数可以被用来帮助控制在混淆的情况下应用哪一种隐式造型。每一种数据类型都属于一个用单个ASCII 字符命名的分类，并且每一种类型可以是其所属分类中的“首选”。当有助于解决重载函数或操作符时，解析器将优先造型到首选类型（但是只能从同类的其他类型造型）。对于没有隐式转换到或来自任意其他类型的类型，让这些设置保持默认即可。不过，对于有隐式转换的相关类型的组，把它们都标记为属于同一个类别并且选择一种或两种“最常用”的类型作为该类别的首选通常是很有用的。在把一种用户定义的类型增加到一个现有的内建类别（例如，数字或者字符串类型）中时，category参数特别有用。不过，也可以创建新的全部是用户定义类型的类别。对这样的类别，可选择除大写字母之外的任何ASCII 字符。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b1955522864312">default</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p85551428194318">可选参数。数据类型的默认值。如果被省略，默认值是空。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p655515282438">如果用户希望该数据类型的列被默认为某种非空值，可以指定一个默认值。默认值可以用DEFAULT关键词指定（这样一个默认值可以被附加到一个特定列的显式DEFAULT子句覆盖）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b2555142812433">element</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1755532817432">可选参数。被创建的类型是一个数组，element指定了数组元素的类型。例如，要定义一个4字节整数的数组（int4）， 应指定ELEMENT = int4。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b25556285433">delimiter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p195551728104310">可选参数。指定这种类型组成的数组中分隔值的定界符。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p12691551521">可以把delimiter设置为一个特定字符，默认的定界符是逗号（,）。注意定界符是与数组元素类型相关的，而不是数组类型本身相关。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b655514284439">collatable</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p1255592814432">可选参数。如果这个类型的操作可以使用排序规则信息，则为TRUE。默认为FALSE。</p>
<p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p35553284432">如果collatable为TRUE，这种类型的列定义和表达式可能通过使用COLLATE子句携带有排序规则信息。在该类型上操作的函数的实现负责真正利用这些信息，仅把类型标记为可排序的并不会让它们自动地去使用这类信息。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_b12181720142818">lable</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370588__zh-cn_topic_0237122124_p65721214102813">可选参数。与枚举类型的一个值相关的文本标签，其值为长度不超过64个字符的非空字符串。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE USER" alias="CREATE USER">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_p11128134817614">创建一个用户。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_ul139412062717"><li id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_li158017715272">通过CREATE USER创建的用户，默认具有LOGIN权限；</li><li id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_li1618551411277">通过CREATE USER创建用户的同时系统会在执行该命令的数据库中，为该用户创建一个同名的SCHEMA；其他数据库中，则不自动创建同名的SCHEMA；用户可使用CREATE SCHEMA命令，分别在其他数据库中，为该用户创建同名SCHEMA。</li><li id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_li14941206273">系统管理员在普通用户同名schema下创建的对象，所有者为schema的同名用户（非系统管理员）。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建用户jim，登录密码为Bigdata@123。
postgres=# CREATE USER jim PASSWORD ' Bigdata@123 ' ; 

--下面语句与上面的等价。
postgres=# CREATE USER kim IDENTIFIED BY ' Bigdata@123 ' ; 

--如果创建有“创建数据库”权限的用户，则需要加CREATEDB关键字。
postgres=# CREATE USER dim CREATEDB PASSWORD ' Bigdata@123 ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_s234e98654dd34a88b2b5f526b351f837">CREATE USER user_name [ [ WITH ] option [ ... ] ] [ ENCRYPTED | UNENCRYPTED ] { PASSWORD | IDENTIFIED BY } { 'password' | DISABLE };</pre>
<p id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_aa733ffdbfa434a399bc9f249353759e9">其中option子句用于设置权限及属性等信息。</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_sde4230dc64464456a34e0b74ea991cbd">{SYSADMIN | NOSYSADMIN}
    | {MONADMIN | NOMONADMIN}
    | {OPRADMIN | NOOPRADMIN}
    | {POLADMIN | NOPOLADMIN}
    | {AUDITADMIN | NOAUDITADMIN}
    | {CREATEDB | NOCREATEDB}
    | {USEFT | NOUSEFT}
    | {CREATEROLE | NOCREATEROLE}
    | {INHERIT | NOINHERIT}
    | {LOGIN | NOLOGIN}
    | {REPLICATION | NOREPLICATION}
    | {INDEPENDENT | NOINDEPENDENT}
    | {VCADMIN | NOVCADMIN}
    | CONNECTION LIMIT connlimit
    | VALID BEGIN 'timestamp'
    | VALID UNTIL 'timestamp'
    | RESOURCE POOL 'respool'
    | PERM SPACE 'spacelimit'
    | TEMP SPACE 'tmpspacelimit'
    | SPILL SPACE 'spillspacelimit'
    | IN ROLE role_name [, ...]
    | IN GROUP role_name [, ...]
    | ROLE role_name [, ...]
    | ADMIN role_name [, ...]
    | USER role_name [, ...]
    | SYSID uid
    | DEFAULT TABLESPACE tablespace_name
    | PROFILE DEFAULT
    | PROFILE profile_name
    | PGUSER</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_ab494791a6d774693a3e67c1a5a8f0cfc">user_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_a40a37644aa17476c944a099c82f1683f">用户名称。</p>
<p id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_zh-cn_topic_0058966135_p34082761901">取值范围：字符串，要符合标识符的命名规范。且最大长度不超过63个字符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_a967f1871525a494182a5d7e524520bc0">password</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_a1048cc1e92b64285afced7c67931000f">登录密码。</p>
<p id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_ae3ed25298d5149beb2bf51427e9c327a">密码规则如下：</p>
<ul id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_u411af76c7c5444eeb41d5924eb04a155"><li id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_l1b3ebcdf72274b19858495c15be4e4ac">密码默认不少于8个字符。</li><li id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_le5e10cb0c2af409eb0704e33342a6f49">不能与用户名及用户名倒序相同。</li><li id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_l85d3b9f459dd4e8d86e4722240ecc503">至少包含大写字母（A-Z），小写字母（a-z），数字（0-9），非字母数字字符（限定为~!@#$%^&amp;*()-_=+\|[{}];:,&lt;.&gt;/?）四类字符中的三类字符。</li><li id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_l189be0957d1d4e53b9835d8288ae823e">创建用户时，应当使用双引号或单引号将用户密码括起来。</li></ul>
<p id="ZH-CN_TOPIC_0242370589__zh-cn_topic_0237122125_zh-cn_topic_0059778166_ad3c1c3878d1d4c8d972a7c18a26db903">取值范围：字符串。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CREATE VIEW" alias="CREATE VIEW">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_p8427126195619">创建一个视图。视图与基本表不同，是一个虚拟的表。数据库中仅存放视图的定义，而不存放视图对应的数据，这些数据仍存放在原来的基本表中。若基本表中的数据发生变化，从视图中查询出的数据也随之改变。从这个意义上讲，视图就像一个窗口，透过它可以看到数据库中用户感兴趣的数据及变化。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--创建字段spcname为pg_default组成的视图。
postgres=# CREATE VIEW myView AS
SELECT * FROM pg_tablespace WHERE spcname = ' pg_default ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_sf194089eee824b4caaa861236dfee7dc">CREATE [ OR REPLACE ] [ TEMP | TEMPORARY ] VIEW view_name [ ( column_name [, ...] ) ]
    [ WITH ( {view_option_name [= view_option_value]} [, ... ] ) ]
    AS query;</pre>
<div class="note" id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_note14976111514243"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_p697719158241">创建视图时使用WITH(security_barriers)可以创建一个相对安全的视图，避免攻击者利用低成本函数的RAISE语句打印出隐藏的基表数据。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_b443295239058">OR REPLACE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p4034199912">如果视图已存在，则重新定义。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_af331be885ec349949fe9ee4a00a6506c">TEMP | TEMPORARY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_ae21b90edb7f2498d814bd8fe39098fc3">创建临时视图。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_b634213919058">view_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p46232469917">要创建的视图名称。可以用模式修饰。</p>
<p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p601580429112">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_b339216149058">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p107579639122">可选的名称列表，用作视图的字段名。如果没有给出，字段名取自查询中的字段名。</p>
<p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p100098979138">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_b368590719058">view_option_name [= view_option_value]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p417308099148">该子句为视图指定一个可选的参数。</p>
<p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p400329689148">目前view_option_name支持的参数仅有security_barrier，当VIEW试图提供行级安全时，应使用该参数。</p>
<p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p651385579149">取值范围：<span id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_text3774144911544">Boolean</span>类型，TRUE、FALSE</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_b632961899058">query</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370590__zh-cn_topic_0237122126_zh-cn_topic_0059779377_zh-cn_topic_0058966063_p265722389231">为视图提供行和列的SELECT或VALUES语句。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="CURSOR" alias="CURSOR">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a5d3a7a04c36941aeb083fdb4095dca30">CURSOR命令定义一个游标，用于在一个大的查询里面检索少数几行数据。</p>
<p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a798ae73d5dc647d3be45540819ed8482">为了处理SQL语句，存储过程进程分配一段内存区域来保存上下文联系。游标是指向上下文区域的句柄或指针。借助游标，存储过程可以控制上下文区域的变化。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_ul9971164772915"><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_li17971114716295">游标命令只能在事务块里使用。</li><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_li2252132319303">通常游标和SELECT一样返回文本格式。因为数据在系统内部是用二进制格式存储的，系统必须对数据做一定转换以生成文本格式。一旦数据是以文本形式返回，客户端应用需要把它们转换成二进制进行操作。使用FETCH语句，游标可以返回文本或二进制格式。</li><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_li7773508297">应该小心使用二进制游标。文本格式一般都比对应的二进制格式占用的存储空间大。二进制游标返回内部二进制形态的数据，可能更易于操作。如果想以文本方式显示数据，则以文本方式检索会为用户节约很多客户端的工作。比如，如果查询从某个整数列返回1，在缺省的游标里将获得一个字符串1，但在二进制游标里将得到一个4字节的包含该数值内部形式的数值（大端顺序）。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--建立一个名为cursor1的游标。
postgres=# CURSOR cursor1 FOR SELECT * FROM tpcds.customer_address ORDER BY 1 ; 

--抓取头3行到游标cursor1里。
postgres=# FETCH FORWARD 3 FROM cursor1 ; 
ca_address_sk | ca_address_id | ca_street_number | ca_street_name | ca_street_type | ca_suite_number | ca_city | ca_county | ca_state | ca_zip | ca_country | ca_gmt_offset | ca_location_type
---------------+------------------+------------------+--------------------+-----------------+-----------------+-----------------+-----------------+----------+------------+---------------+---------------+----------------------
1 | AAAAAAAABAAAAAAA | 18 | Jackson | Parkway | Suite 280 | Fairfield | Maricopa County | AZ | 86192 | United States | -7.00 | condo
2 | AAAAAAAACAAAAAAA | 362 | Washington 6th | RD | Suite 80 | Fairview | Taos County | NM | 85709 | United States | -7.00 | condo
3 | AAAAAAAADAAAAAAA | 585 | Dogwood Washington | Circle | Suite Q | Pleasant Valley | York County | PA | 12477 | United States | -5.00 | single family
 ( 3 rows ) 

--关闭游标并提交事务。
postgres=# CLOSE cursor1 ; 

--建立一个名为cursor2的游标。
postgres=# CURSOR cursor2 FOR VALUES ( 1 , 2 ) , ( 0 , 3 ) ORDER BY 1 ; 

--抓取头2行到游标cursor2里。
postgres=# FETCH FORWARD 2 FROM cursor2 ; 
column1 | column2
---------+---------
0 | 3
1 | 2
 ( 2 rows ) 

--关闭游标并提交事务。
postgres=# CLOSE cursor2 ; 

--创建一个with hold游标。
postgres=# DECLARE cursor1 CURSOR WITH HOLD FOR SELECT * FROM tpcds.customer_address ORDER BY 1 ; 

--抓取头2行到游标cursor1里。
postgres=# FETCH FORWARD 2 FROM cursor1 ; 
ca_address_sk | ca_address_id | ca_street_number | ca_street_name | ca_street_type | ca_suite_number | ca_city | ca_county | ca_state | ca_zip | ca_country | ca_gmt_offset | ca_location_type
---------------+------------------+------------------+--------------------+-----------------+-----------------+-----------------+-----------------+----------+------------+---------------+---------------+----------------------
1 | AAAAAAAABAAAAAAA | 18 | Jackson | Parkway | Suite 280 | Fairfield | Maricopa County | AZ | 86192 | United States | -7.00 | condo
2 | AAAAAAAACAAAAAAA | 362 | Washington 6th | RD | Suite 80 | Fairview | Taos County | NM | 85709 | United States | -7.00 | condo
 ( 2 rows ) 

--抓取下一行到游标cursor1里。
postgres=# FETCH FORWARD 1 FROM cursor1 ; 
ca_address_sk | ca_address_id | ca_street_number | ca_street_name | ca_street_type | ca_suite_number | ca_city | ca_county | ca_state | ca_zip | ca_country | ca_gmt_offset | ca_location_type
---------------+------------------+------------------+--------------------+-----------------+-----------------+-----------------+-----------------+----------+------------+---------------+---------------+----------------------
3 | AAAAAAAADAAAAAAA | 585 | Dogwood Washington | Circle | Suite Q | Pleasant Valley | York County | PA | 12477 | United States | -5.00 | single family
 ( 1 row ) 

--关闭游标。
postgres=# CLOSE cursor1 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_sa34a40326d394b38bece6a5b0500171e">CURSOR cursor_name
    [ BINARY ]  [ NO SCROLL ]  [ { WITH | WITHOUT } HOLD ]
    FOR query ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a606dd20c42c846fdb247327ecd1290fa">cursor_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_ab84c84d5c5844cab97313945bff0bc4d">将要创建的游标名。</p>
<p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a2967ff9027a742ef827f443796a619b8">取值范围：遵循数据库对象命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a8eada737bf364886badd0655fb521b02">BINARY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a0e85ea5912514387a621c57471e9f4e3">指明游标以二进制而不是文本格式返回数据。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_ab7e1704535304adb9c78e0d65beda722">NO SCROLL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a0e163fe3b7564e4d93accf99a1618808">声明游标检索数据行的方式。</p>
<ul id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_u20de00fd73d446e9bb0189e3b778d879"><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_l5a33e6b8633b458db764d97999204d09">NO SCROLL：声明该游标不能用于以倒序的方式检索数据行。</li><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_l0c77ecd0fd0647ccb940f1609f7a0b69">未声明：根据执行计划的不同，自动判断该游标是否可以用于以倒序的方式检索数据行。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_b4128252317231">WITH HOLD | WITHOUT HOLD</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_p3587557115854">声明当创建游标的事务结束后，游标是否能继续使用。</p>
<ul id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_ul5444468315854"><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_li2024010215854">WITH HOLD：声明该游标在创建它的事务结束后仍可继续使用。</li><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_li4794319815854">WITHOUT HOLD：声明该游标在创建它的事务之外不能再继续使用，此游标将在事务结束时被自动关闭。</li><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_li39838911154646">如果不指定WITH HOLD或WITHOUT HOLD，默认行为是WITHOUT HOLD。</li><li id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_li1855175215110">跨节点事务不支持WITH HOLD（例如在多<span id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_text636575011556">DBnode</span>部署openGauss中所创建的含有DDL的事务属于跨节点事务）。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_ab248cc3281e6484e8e2016ac9f4e04db">query</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_a98835797820c485bac9b673154aaf202">使用SELECT或VALUES子句指定游标返回的行。</p>
<p id="ZH-CN_TOPIC_0242370592__zh-cn_topic_0237122128_zh-cn_topic_0059778820_ae35a03c27a3443bb984b27679117b2f6">取值范围：SELECT或VALUES子句。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DEALLOCATE" alias="DEALLOCATE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370593__zh-cn_topic_0237122129_zh-cn_topic_0059778612_a84ca9e39cc794ffdb38139081a09ce82">DEALLOCATE用于删除前面编写的预备语句。如果用户没有明确删除一个预备语句，那么它将在会话结束的时候被删除。</p>
<p id="ZH-CN_TOPIC_0242370593__zh-cn_topic_0237122129_zh-cn_topic_0059778612_a4ed20ef010654f589233cc055c043e59">PREPARE关键字总被忽略。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370593__zh-cn_topic_0237122129_zh-cn_topic_0059778612_s6e4fb79523a4432f8c8b8b12989653c3">DEALLOCATE [ PREPARE ] { name | ALL };</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370593__zh-cn_topic_0237122129_zh-cn_topic_0059778612_a2c573f82ad9b4aa6947f42f9176dbe9c">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370593__zh-cn_topic_0237122129_zh-cn_topic_0059778612_a0b71070b3cd3498f8c6099e61068bd3d">将要删除的预备语句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370593__zh-cn_topic_0237122129_zh-cn_topic_0059778612_a8dba6ef16dfb4c46ba2e76cc1d7b878f">ALL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370593__zh-cn_topic_0237122129_zh-cn_topic_0059778612_a53be9bb8a1244864a572832ed7f0368f">删除所有预备语句。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DECLARE" alias="DECLARE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_p189713221577">DECLARE命令既可以定义一个游标，用于在一个大的查询里面检索少数几行数据，也可以作为一个匿名块的开始。</p>
<p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a5d3a7a04c36941aeb083fdb4095dca30">本节主要描述定义为游标的用法，开启匿名块的用法见<a>BEGIN</a>。</p>
<p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a798ae73d5dc647d3be45540819ed8482">为了处理SQL语句，存储过程进程分配一段内存区域来保存上下文联系。游标是指向上下文区域的句柄或指针。借助游标，存储过程可以控制上下文区域的变化。</p>
<p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a2c57a7f55289468c8a208650abdb93fe">通常游标和SELECT一样返回文本格式。因为数据在系统内部是用二进制格式存储的，系统必须对数据做一定转换以生成文本格式。一旦数据是以文本形式返回，客户端应用需要把它们转换成二进制进行操作。使用FETCH语句，游标可以返回文本或二进制格式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_ul67887131108"><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_li17788813201018">游标命令只能在事务块里使用。</li><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_li191071016171012">应该小心使用二进制游标。文本格式一般都比对应的二进制格式占用的存储空间大。二进制游标返回内部二进制形态的数据，可能更易于操作。如果想以文本方式显示数据，则以文本方式检索会为用户节约很多客户端的工作。比如，如果查询从某个整数列返回1，在缺省的游标里将获得一个字符串1，但在二进制游标里将得到一个4字节的包含该数值内部形式的数值（大端顺序）。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_ul426419238204"><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_li026372392019">定义游标<pre class="screen" id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_screen112637232205">DECLARE cursor_name [ BINARY ] [ NO SCROLL ]
    CURSOR [ { WITH | WITHOUT } HOLD ] FOR query ;</pre>
</li><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_li15264172312207">开启匿名块<pre class="screen" id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_screen726462312200">[DECLARE [declare_statements]] 
BEGIN
execution_statements
END;
/</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a606dd20c42c846fdb247327ecd1290fa">cursor_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_ab84c84d5c5844cab97313945bff0bc4d">将要创建的游标名。</p>
<p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a2967ff9027a742ef827f443796a619b8">取值范围：遵循数据库对象命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a8eada737bf364886badd0655fb521b02">BINARY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a0e85ea5912514387a621c57471e9f4e3">指明游标以二进制而不是文本格式返回数据。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_ab7e1704535304adb9c78e0d65beda722">NO SCROLL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a0e163fe3b7564e4d93accf99a1618808">声明游标检索数据行的方式。</p>
<ul id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_u20de00fd73d446e9bb0189e3b778d879"><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_l5a33e6b8633b458db764d97999204d09">NO SCROLL：声明该游标不能用于以倒序的方式检索数据行。</li><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_l0c77ecd0fd0647ccb940f1609f7a0b69">未声明：根据执行计划的不同，自动判断该游标是否可以用于以倒序的方式检索数据行。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_b235175511597">WITH HOLD</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_p3655193131616"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_b795973915938">WITHOUT HOLD</strong></p>
<p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_p3587557115854">声明当创建游标的事务结束后，游标是否能继续使用。</p>
<ul id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_ul5444468315854"><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_li2024010215854">WITH HOLD：声明该游标在创建它的事务结束后仍可继续使用。</li><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_li4794319815854">WITHOUT HOLD：声明该游标在创建它的事务之外不能再继续使用，此游标将在事务结束时被自动关闭。</li><li id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_li39838911154646">如果不指定WITH HOLD或WITHOUT HOLD，默认行为是WITHOUT HOLD。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_ab248cc3281e6484e8e2016ac9f4e04db">query</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a98835797820c485bac9b673154aaf202">使用SELECT或VALUES子句指定游标返回的行。</p>
<p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_ae35a03c27a3443bb984b27679117b2f6">取值范围：SELECT或VALUES子句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_zh-cn_topic_0058966177_b5324449299">declare_statements</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a018eb5d36f2c4764b230aa8cd6388e60">声明变量，包括变量名和变量类型，如“sales_cnt int”。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_a51e4c129161b49efab9688af52c84a8f">execution_statements</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_adc32a6f4f2ca423baa39cd1d735a6b6b">匿名块中要执行的语句。</p>
<p id="ZH-CN_TOPIC_0242370594__zh-cn_topic_0237122130_zh-cn_topic_0059777616_aff0538120abd4432882690937c7f6e10">取值范围：已存在的函数名称。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DELETE" alias="DELETE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a862beb1a36b2444c914bcff301a3cc44">DELETE从指定的表里删除满足WHERE子句的行。如果WHERE子句不存在，将删除表中所有行，结果只保留表结构。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_u8495c87e8db341888db82404642a2eab"><li id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_l7fbb48e44ef54cacaf0f3a69d24b5576">要删除表中的数据，用户必须对它有DELETE权限。同样也必须有USING子句引用的表以及condition上读取的表的SELECT权限。</li><li id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_li66221323925">对于行存复制表，仅支持有主键约束场景下的delete操作。</li><li id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_lff9cdae931964c7b906711495fdb200e">对于列存表，暂时不支持RETURNING子句。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除tpcds.customer_address_bak中ca_address_sk小于14888的职员。
postgres=# DELETE FROM tpcds.customer_address_bak WHERE ca_address_sk &lt; 14888 ; 

--删除tpcds.customer_address_bak中所有数据。
postgres=# DELETE FROM tpcds.customer_address_bak ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_s4906f01b05fe48fdb1e4b43da6882282">[ WITH [ RECURSIVE ] with_query [, ...] ]
DELETE FROM [ ONLY ] table_name [ * ] [ [ AS ] alias ]
    [ USING using_list ]
    [ WHERE condition | WHERE CURRENT OF cursor_name ]
    [ RETURNING { * | { output_expr [ [ AS ] output_name ] } [, ...] } ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_b19065306508">WITH [ RECURSIVE ] with_query [, ...]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_acb5f0d77707641c191c76296b6e45a07">用于声明一个或多个可以在主查询中通过名称引用的子查询，相当于临时表。</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_af7ed26074b744c8d90222c6d2d9bf163">如果声明了RECURSIVE，那么允许SELECT子查询通过名称引用它自己。</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_p4921168135112">其中with_query的详细格式为：</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a965e5da438fe4e89afceb4b625b2d4c4">with_query_name [ ( column_name [, ...] ) ] AS</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_acf4b1edc469b4bdd8127ec89474ef1f7">( {select | values | insert | update | delete} )</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_zh-cn_topic_0058966121_p149744293314">&#8211; with_query_name指定子查询生成的结果集名称，在查询中可使用该名称访问</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_ac25bb355018846c8831a24dcd1d36bf3">子查询的结果集。</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a074f32e4a981496bb2a8f59524b87037">&#8211; column_name指定子查询结果集中显示的列名。</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_acaf8c28189c14b60ae70418bce18e8e5">&#8211; 每个子查询可以是SELECT，VALUES，INSERT，UPDATE或DELETE语句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_ad0e12d957835411187b024514c82e906">ONLY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a24894f86a3ac48a1818b56b7869a7ba6">如果指定ONLY则只有该表被删除；如果没有声明，则该表和它的所有子表将都被删除。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a552c021e42d14bcabae9f1ac207d558b">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a61be764492a54f77a191f9f3b3b6ed9d">目标表的名称（可以有模式修饰）。</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_aa9cc0f8ef0a84000935f4e7da3731c87">取值范围：已存在的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a1bd41033214e4b028ba3a38070d44803">alias</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a69c70b9df2dc49578cf3575cc88002e7">目标表的别名。</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a0603fe0b2f4d4d1bbadd38f42d446d6c">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_ae8b1e839787046d481458708765b1c00">using_list</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_aff5894ec8188490886298ea219e758f7">using子句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_ab5b086f41e8141e6b23347c4180fe32a">condition</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a574561a1dba2464a99a9b3309013b926">一个返回<span id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_text2049720528545">Boolean</span>值的表达式，用于判断哪些行需要被删除。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a3d3698371d8b4595aed22ea9e9778c8f">WHERE CURRENT OF cursor_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a1a565e44738047c69fa861ee1b2bad19">当前不支持，仅保留语法接口。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_aba755b282a264e2da13688733e45e832">output_expr</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a2fe7b5f93a5841678dfeef98f99d0eaa">DELETE命令删除行之后计算输出结果的表达式。该表达式可以使用表的任意字段。可以使用*返回被删除行的所有字段。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_a87e3480b352b40fc9ea6bf6e74d5eae5">output_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_ae841abf7d3914e62937929a5256364a4">一个字段的输出名称。</p>
<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_aeaf1e6cbbad743c99a83c82d942250e7">取值范围：字符串，符合标识符命名规范。</p>
</div></ul></div>]]></suggestion>
    <sub id="delete">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370595__zh-cn_topic_0237122131_zh-cn_topic_0059778379_p6135437811290">如果要删除表中的所有记录，建议使用truncate语法。</p>
]]></suggestion>
    </sub>
  </command>
  <command id="DO" alias="DO">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_p12812161210572">执行匿名代码块。</p>
<p id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_afcd7db27bbaa479abfb5cb75f5d451dc">代码块被看做是没有参数的一段函数体，返回值类型是void。它的解析和执行是同一时刻发生的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_u2ce5b78e76424fa38e39c1ce87c10a20"><li id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_l4bdf4caed38f460e945c56eca98b3af5">程序语言在使用之前，必须通过命令CREATE LANGUAGE安装到当前的数据库中。 plpgsql是默认的安装语言，其它语言安装时必须指定。</li><li id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_l6b5f402a09ec4977baf72165e835cf23">如果语言是不受信任的，用户必须有使用程序语言的USAGE权限，或者是系统管理员。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--授予用户webuser对模式tpcds下视图的所有操作权限。
postgres=# DO $$DECLARE r record ; 
BEGIN
FOR r IN SELECT c.relname table_name , n.nspname table_schema FROM pg_class c , pg_namespace n
WHERE c.relnamespace = n.oid AND n.nspname = ' tpcds ' AND relkind IN ( ' r ' , ' v ' ) 
LOOP
EXECUTE ' GRANT ALL ON ' || quote_ident ( r.table_schema ) || ' . ' || quote_ident ( r.table_name ) || ' TO webuser ' ; 
END LOOP ; 
END$$ ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_s0c054cd62d8d4221be193e811c9fde79">DO [ LANGUAGE lang_name ] code;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_a16a3b0da02da462ab7e8365de8d8bf9d">lang_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_a5851375298d84d14a571c5d18b775de7">用来解析代码的程序语言的名称，如果缺省，默认的语言是plpgsql。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_ad5b44baf1f7d48acb8f1b596ddd8589c">code</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370596__zh-cn_topic_0237122132_zh-cn_topic_0059778658_afe0bc3074b5f458492894e90976d79d7">程序语言代码可以被执行的。程序语言必须指定为字符串才行。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP DATABASE" alias="DROP DATABASE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_a372f0bc5f1bf44c4805fc50f292d96c4">删除一个数据库。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_u880c01c43872458ea14a929cf3fcdef8"><li id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_l23f882c1eb7241c0bb1970fcde260428">只有数据库所有者有权限执行DROP DATABASE命令，系统管理员默认拥有此权限。</li><li id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_le0709df589f8460d81586a7d0495664c">不能对系统默认安装的三个数据库（POSTGRES、TEMPLATE0和TEMPLATE1）执行删除操作，系统做了保护。如果想查看当前服务中有哪几个数据库，可以用gsql的\l命令查看。</li><li id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_l90823d2ae80e47448786bdd66385779a">如果有用户正在与要删除的数据库连接，则删除操作失败。</li><li id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_lf7c22802e16f4f55a0638f89a4b32a0f">不能在事务块中执行DROP DATABASE命令。</li><li id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_l5dcff3190cd645d6a54ea7e8598db2e5">如果执行DROP DATABASE失败，事务回滚，需要再次执行一次DROP DATABASE IF EXISTS。</li></ul>
<div class="notice" id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_ne0f40a8b953a499d8cc52ee4481af9bc"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_ad2b8328789564010a99dca64c798df89">DROP DATABASE一旦执行将无法撤销，请谨慎使用。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除数据库。
postgres=# DROP DATABASE music2 ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_s8a8486a02c7e48c0b58995763196b091">DROP DATABASE [ IF EXISTS ] database_name ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_a891e7bcf480e49d9a145b851dc55862f">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_ae3a9f68f98bd416e9c1fe0d92e1d758c">如果指定的数据库不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_a44c13324313d443ebd6dda36a04aa28a">database_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_a312e45d7ae4746cea0cd2d12df010a2a">要删除的数据库名称。</p>
<p id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_afac700998c974294bb66afa098a5c200">取值范围：字符串，已存在的数据库名称。</p>
</div></ul></div>]]></suggestion>
    <sub id="drop database">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370597__zh-cn_topic_0237122133_zh-cn_topic_0059778607_p3051403311434">不支持在事务中删除database。</p>
]]></suggestion>
    </sub>
  </command>
  <command id="DROP DATA SOURCE" alias="DROP DATA SOURCE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_p13595141618175">删除一个Data Source对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_p2062013772219">只有属主/系统管理员/初始用户才可以删除一个Data Source对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除Data Source对象。
postgres=# DROP DATA SOURCE ds_tst1 CASCADE ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_screen075494214237">DROP DATA SOURCE [IF EXISTS] src_name [CASCADE | RESTRICT];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_b17931287445">src_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_p16227122472710">待删除的Data Source对象名称。</p>
<p id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_p178238448272">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_b18896191116446">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_p18607211131819">如果指定的Data Source不存在，则发出一个notice而不是报错。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_b1751541618447">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_ul153143002911"><li id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_li2054193082910"><strong id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_b132385209443">CASCADE</strong>：表示允许级联删除依赖于Data Source的对象</li><li id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_li7777112173414"><strong id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_b1729192219449">RESTRICT</strong>（缺省值）：表示有依赖于该Data Source的对象存在，则该Data Source无法删除。<p id="ZH-CN_TOPIC_0242370599__zh-cn_topic_0237122135_p9941543345">目前Data Source对象没有被依赖的对象，CASCADE和RESTRICT效果一样，保留此选项是为了向后兼容性。</p>
</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP DIRECTORY" alias="DROP DIRECTORY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370600__zh-cn_topic_0237122136_zh-cn_topic_0059779050_a64e30c63769e4d41885a8fc415c32767">删除指定的directory对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370600__zh-cn_topic_0237122136_zh-cn_topic_0059779050_afb9484ca99274988a6a25dd1503340c3">默认只有初始化用户可以执行drop操作，当enable_access_server_directory开启时（可参考<a>enable_access_server_directory</a>），sysadmin权限的用户也可以执行drop操作。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除目录。
postgres=# DROP DIRECTORY dir ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370600__zh-cn_topic_0237122136_zh-cn_topic_0059779050_s136b1517a5fd4a3694c0b7e444413e64">DROP DIRECTORY [ IF EXISTS ] directory_name;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370600__zh-cn_topic_0237122136_b16984153381015">directory_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370600__zh-cn_topic_0237122136_p885721933812">目录名称。</p>
<p id="ZH-CN_TOPIC_0242370600__zh-cn_topic_0237122136_p66361212385">取值范围：已经存在的目录名。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP FUNCTION" alias="DROP FUNCTION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a305b860310174e9eb229d82a23169845">删除一个已存在的函数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_aefba996f1533424d8507ec67c2550aab">如果函数中涉及对临时表相关操作，则无法使用DROP FUNCTION删除函数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_screen223918614384">DROP FUNCTION [ IF EXISTS ] function_name 
[ ( [ {[ argmode ] [ argname ] argtype} [, ...] ] ) [ CASCADE | RESTRICT ] ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a203326b620c046ceb2a010be1c809abb">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_acf4352251caa4f89b2abc6762e2a874b">IF EXISTS表示，如果函数存在则执行删除操作，函数不存在也不会报错，只是发出一个notice。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a020438f32246476bb264efc6c24d223b">function_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a5ea355e0e45b40789374ac90c0c9f30b">要删除的函数名称。</p>
<p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a2ad341f21c48471ca8633d232f573452">取值范围：已存在的函数名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a54224622681d427b91b4dd99fb221917">argmode</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_ab28136fc17df4fd39c8cc75453ce93e0">函数参数的模式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a4d883bfca3a4450fb7c29bfaeb254bde">argname</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a9c3ca76a893442ceafd54aab6ebe0e90">函数参数的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_aed276f659a12499883c2586ccb9f69bd">argtype</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0251134237__zh-cn_topic_0237122138_zh-cn_topic_0059778261_a18a2aeb9816e473c85326202d57aee05">函数参数的类型</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP GROUP" alias="DROP GROUP">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370603__zh-cn_topic_0237122139_zh-cn_topic_0059778284_p98481555105718">删除用户组。</p>
<p id="ZH-CN_TOPIC_0242370603__zh-cn_topic_0237122139_zh-cn_topic_0059778284_a925d90fbae6e4b00acbc47f23c761bcd">DROP GROUP是DROP ROLE的别名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370603__zh-cn_topic_0237122139_zh-cn_topic_0059778284_a2a6a51ff615a4bcd86e818caec15205e">DROP GROUP是openGauss管理工具封装的内部接口，用来实现openGauss管理。该接口不建议用户直接使用，以免对openGauss状态造成影响。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370603__zh-cn_topic_0237122139_zh-cn_topic_0059778284_s15c42bde6ed9445eb470533574544d0f">DROP GROUP [ IF EXISTS ] group_name [, ...];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370603__zh-cn_topic_0237122139_zh-cn_topic_0059778284_zh-cn_topic_0058965866_p396061162623">请参见DROP ROLE的<a>参数说明</a>。</p>
</div>]]></suggestion>
  </command>
  <command id="DROP INDEX" alias="DROP INDEX">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a09808169769f4e3b8f655a188955ffbe">删除索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_ad26fd08eeede4af0bd2391231d76a3ce">只有索引的所有者有权限执行DROP INDEX命令，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除一个现有的索引。
postgres=# DROP INDEX tpcds.ds_ship_mode_t1_index2 ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_s211189da8ec64f5eaeaafaf91fc9294d">DROP INDEX [ CONCURRENTLY ] [ IF EXISTS ] 
    index_name [, ...] [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a895c4fbc865d431b8503cdf71f462a6c">CONCURRENTLY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a05cc9c6def254c3ca559cc3e4c880cdc">以不加锁的方式删除索引。删除索引时，一般会阻塞其他语句对该索引所依赖表的访问。加此关键字，可实现删除过程中不做阻塞。</p>
<p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a11d3a8e4db734f84a4433bbedd72064f">此选项只能指定一个索引的名称， 并且CASCADE选项不支持。</p>
<p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a66f352d3239140d19d3e89993a893fba">普通DROP INDEX命令可以在事务内执行，但是DROP INDEX CONCURRENTLY不可以在事务内执行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a396c7b38d5fb4e46884b9f1db0d160e7">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a93ad613b908e4da58226a982f0455b72">如果指定的索引不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a359e1aa06cb34402800720e2ee196533">index_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_ad9589f4baa7c4aaaa0fc0efbe17fa011">要删除的索引名。</p>
<p id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_ad16cff35e1364925a16c5878bcbfcc61">取值范围：已存在的索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_a251c5b30e97b4186b5bb2d18cd4486ed">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_ue780c7b30bf644ca994906bb9f43d94a"><li id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_lcbdbfcbb33a44caf83f6a08d50523526">CASCADE：表示允许级联删除依赖于该索引的对象。</li><li id="ZH-CN_TOPIC_0242370604__zh-cn_topic_0237122140_zh-cn_topic_0059779018_l425c5f353fd94081a92eb9901d451891">RESTRICT（缺省值）：表示有依赖与此索引的对象存在，则该索引无法被删除。</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP OWNED" alias="DROP OWNED">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_p1216810256479">删除一个数据库角色所拥有的数据库对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_ul2010320369553"><li id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_li510473655518">所有该角色在当前数据库里和共享对象（数据库，表空间） 上的所有对象上的权限都将被撤销。</li><li id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_li1110493617550">DROP OWNED常常被用来为移除一个或者多个角色做准备。因为DROP OWNED只影响当前数据库中的对象，通常需要在包含将被移除角色所拥有的对象的每一个数据库中都执行这个命令。</li><li id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_li610403655518">使用CASCADE选项可能导致这个命令递归去删除由其他用户所拥有的对象。</li><li id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_li2104163615558">角色所拥有的数据库、表空间将不会被移除。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_zh-cn_topic_0059777620_seb4d9c4e044c4e5199cc4c75cd3a2f34">DROP OWNED BY name [, ...] [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_zh-cn_topic_0059777620_a80317d30d9384379ac7cf47b38417fab">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_zh-cn_topic_0059777620_a17106e9f3b544a85bdfa2b5ed821b060">角色名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_zh-cn_topic_0059777620_aff578a287a324063bad5953a9bb4bc23">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_zh-cn_topic_0059777620_uf532353d8bc94d3a87abe451d0afa556"><li id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_zh-cn_topic_0059777620_l516828d20209482c9d9986e0ddfbbbda">CASCADE：级联删除所有依赖于被删除对象的对象。</li><li id="ZH-CN_TOPIC_0242370607__zh-cn_topic_0237122143_zh-cn_topic_0059777620_l4042e1e25b334494a094714a4a20c2bf">RESTRICT（缺省值）：拒绝删除那些有任何依赖对象存在的对象。</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP ROW LEVEL SECURITY POLICY" alias="DROP ROW LEVEL SECURITY POLICY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_p48721529133312">删除表上某个行访问控制策略。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_p4506162315333">仅表的所有者或者管理员用户才能删除表的行访问控制策略。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除行访问控制策略
postgres=# DROP ROW LEVEL SECURITY POLICY all_data_rls ON all_data ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_zh-cn_topic_0059777620_seb4d9c4e044c4e5199cc4c75cd3a2f34">DROP [ ROW LEVEL SECURITY ] POLICY [ IF EXISTS ] policy_name ON table_name [ CASCADE | RESTRICT ]</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_zh-cn_topic_0059778377_a04ebaf75789945d4bdc4a5878005d552">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_zh-cn_topic_0059778377_a3bc1233057ec414993f1a8a63304f7d9">如果指定的行访问控制策略不存在，发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_zh-cn_topic_0059778377_aeec84618983f4d98b04082bec62a5836">policy_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><div class="p" id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_zh-cn_topic_0059778377_zh-cn_topic_0058966243_p543164111462">要删除的行访问控制策略的名称。<ul id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_ul21438814291"><li id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_li1814414812914">table_name<p id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_p1060794462913">行访问控制策略所在的数据表名。</p>
</li><li id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_li6819104233611">CASCADE/RESTRICT<p id="ZH-CN_TOPIC_0242370608__zh-cn_topic_0237122144_p1282010427368">仅适配此语法，无对象依赖于该行访问控制策略，CASCADE和RESTRICT效果相同。</p>
</li></ul>
</div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP PROCEDURE" alias="DROP PROCEDURE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370609__zh-cn_topic_0237122145_zh-cn_topic_0059778377_a23b4ac885e62407cad81ecd76ee154a2">删除已存在的存储过程。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370609__zh-cn_topic_0237122145_zh-cn_topic_0059778377_sf63cd1cc6b7a4c97ae682089582a2dc6">DROP PROCEDURE [ IF EXISTS  ] procedure_name ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370609__zh-cn_topic_0237122145_zh-cn_topic_0059778377_a04ebaf75789945d4bdc4a5878005d552">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370609__zh-cn_topic_0237122145_zh-cn_topic_0059778377_a3bc1233057ec414993f1a8a63304f7d9">如果指定的存储过程不存在，发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370609__zh-cn_topic_0237122145_zh-cn_topic_0059778377_aeec84618983f4d98b04082bec62a5836">procedure_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370609__zh-cn_topic_0237122145_zh-cn_topic_0059778377_zh-cn_topic_0058966243_p543164111462">要删除的存储过程名称。</p>
<p id="ZH-CN_TOPIC_0242370609__zh-cn_topic_0237122145_zh-cn_topic_0059778377_add933bc200a3448da40c1117f68a8dcb">取值范围：已存在的存储过程名。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP ROLE" alias="DROP ROLE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370611__zh-cn_topic_0237122147_zh-cn_topic_0059778848_a71ab9d9b46824f47a60bd8d1aeb73fd2">删除指定的角色。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除角色manager。
postgres=# DROP ROLE manager ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370611__zh-cn_topic_0237122147_zh-cn_topic_0059778848_s6c12e633c86a49a396b9011a4bc70986">DROP ROLE [ IF EXISTS ] role_name [, ...];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370611__zh-cn_topic_0237122147_zh-cn_topic_0059778848_a1d1a7e399d33463ead4310410b47d048">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370611__zh-cn_topic_0237122147_zh-cn_topic_0059778848_a188ae3769a234ebcb44e27557556cbfb">如果指定的角色不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370611__zh-cn_topic_0237122147_zh-cn_topic_0059778848_a4687cbd7f9aa4fa084f070a06bc7a969">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370611__zh-cn_topic_0237122147_zh-cn_topic_0059778848_a98fbefec8ccb44b39307db7d33b9a756">要删除的角色名称。</p>
<p id="ZH-CN_TOPIC_0242370611__zh-cn_topic_0237122147_zh-cn_topic_0059778848_a26a44b32c71c4e8a95931192f5947539">取值范围：已存在的角色。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP SCHEMA" alias="DROP SCHEMA">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_ae4b0c03e2def4a9ea2e7b0e2913238e1">从数据库中删除模式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_p111911347185714">只有模式的所有者有权限执行DROP SCHEMA命令，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除schema。
postgres=# DROP SCHEMA role1 CASCADE ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_s1a18a009d9304de299cdca95155318a4">DROP SCHEMA [ IF EXISTS ] schema_name [, ...] [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_a7a4ea829139047b3aa97aa4d4589b89b">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_a74be2243a065417da0aeb3ced496fd3d">如果指定的模式不存在，发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_zh-cn_topic_0058965787_b304450809655">schema_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_a212ca18769524159964d1d41d39eeda5">模式的名称。</p>
<p id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_ae33eb02e21134d5a98839a9aacfb4fcd">取值范围：已存在模式名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_a2bf6f24a1f954eb5ace8f9f590411af2">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_ub1dc136fee644e71a90d1bf9abe41088"><li id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_l7730887dcb95450d83e0675942fc7f2f">CASCADE：自动删除包含在模式中的对象。</li><li id="ZH-CN_TOPIC_0242370612__zh-cn_topic_0237122148_zh-cn_topic_0059778467_lf4be308aaad64176aa19a6bfbcf262a3">RESTRICT：如果模式包含任何对象，则删除失败（缺省行为）。</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP SEQUENCE" alias="DROP SEQUENCE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_p1992494923419">从当前数据库里删除序列。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_p159241449153419">只有序列的所有者或者系统管理员才能删除。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除序列。
postgres=# DROP SEQUENCE serial ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_screen3924134933416">DROP SEQUENCE [ IF EXISTS ] {[schema.]sequence_name} [ , ... ] [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_b692624943414">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_p7926549203412">如果指定的序列不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_b69261749153417">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_p5926104910345">序列名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_b1560064343815">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_p129261749193419">级联删除依赖序列的对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_b789012440387">RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370613__zh-cn_topic_0237122149_zh-cn_topic_0059778402_p7926114915349">如果存在任何依赖的对象，则拒绝删除序列。此项是缺省值。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP SYNONYM" alias="DROP SYNONYM">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0251888993__zh-cn_topic_0237122151_zh-cn_topic_0059778429_a829deb7c215e42e5b58a9f870abec4d2">删除指定的SYNONYM对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0251888993__zh-cn_topic_0237122151_zh-cn_topic_0059778429_a33daca489c0543f5b8266bd2d5f233e8">只有SYNONYM的所有者有权限执行DROP SYNONYM命令，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除同义词。
postgres=# DROP SYNONYM t1 ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0251888993__zh-cn_topic_0237122151_zh-cn_topic_0059778429_s604fb5db7e5c451f87a29cde6cee891d">DROP SYNONYM [ IF EXISTS ] synonym_name [ CASCADE | RESTRICT ];</pre>
</div>]]></suggestion>
  </command>
  <command id="DROP TABLE" alias="DROP TABLE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_af902abc04ad94b868a9332d671499dca">删除指定的表。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_p20630144795610">DROP TABLE会强制删除指定的表，删除表后，依赖该表的索引会被删除，而使用到该表的函数和存储过程将无法执行。删除分区表，会同时删除分区表中的所有分区。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除表空间、模式joe和模式表warehouse。
postgres=# DROP TABLE tpcds.warehouse_t1 ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_sf7700c5d92de4636b60473eb464442cc">DROP TABLE [ IF EXISTS ] 
    { [schema.]table_name } [, ...] [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_adca3206265fe412196b2ead887a98877">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_a666ca7424cb247e593371caef5d07647">如果指定的表不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_a77c961cda14948809bfa677881b25154">schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_a11f96237c4ff4418a4015fb6a622976e">模式名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_a7846a4ce552747528894ab9120a1776f">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_a25a0ee7d6a6f44a79789b34395290b98">表名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_a33878ba5e9e24689ad639cc248298c6c">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_ud6db62a0145e4f5694e7a2d28c8ff168"><li id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_la03ef81ad1b840609b1cdae7a2794a7b">CASCADE：级联删除依赖于表的对象（比如视图）。</li><li id="ZH-CN_TOPIC_0242370616__zh-cn_topic_0237122152_zh-cn_topic_0059778107_l049b4cc42905435ebf8187ed3c20d96a">RESTRICT（缺省项）：如果存在依赖对象，则拒绝删除该表。这个是缺省。</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP TABLESPACE" alias="DROP TABLESPACE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_zh-cn_topic_0058966222_p636542691551">删除一个表空间。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_ueefe6e647a194413992c19f0d13eb09f"><li id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_l30e2f190f7c6440a8ce887cf12a52582">只有表空间所有者有权限执行DROP TABLESPACE命令，系统管理员默认拥有此权限。</li><li id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_lc919ece57e5845dd9a62db2be341e7e0">在删除一个表空间之前，表空间里面不能有任何数据库对象，否则会报错。</li><li id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_li397895713515">DROP TABLESPACE不支持回滚，因此，不能出现在事务块内部。</li><li id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_li0981736101413">执行DROP TABLESPACE操作时，如果有另外的会话执行\db查询操作，可能会由于tablespace事务的原因导致查询失败，请重新执行\db查询操作。</li><li id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_l78fe7f154a3e4e6799fc07fa9f61dbed">如果执行DROP TABLESPACE失败，需要再次执行一次DROP TABLESPACE IF EXISTS。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除表空间。
postgres=# DROP TABLESPACE ds_location2 ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_s4f89f5fd9ad648ab85ce26268a9efe4b">DROP TABLESPACE [ IF EXISTS ] tablespace_name;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_a30afb68864554ba49f99d2a20f4c34f3">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_ac4ba6d1b6c2f4b2bbd7de47cf1f35350">如果指定的表空间不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_a90cddca4624f4aa8b9ebfe9f537c434b">tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_zh-cn_topic_0058966222_p106574120200">表空间的名称。</p>
<p id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_afbabaf5273bb4799ad77fad55f7832df">取值范围：已存在的表空间的名称。</p>
</div></ul></div>]]></suggestion>
    <sub id="drop database">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370617__zh-cn_topic_0237122153_zh-cn_topic_0059779073_p3051403311434">不支持在事务中删除database。</p>
]]></suggestion>
    </sub>
  </command>
  <command id="DROP TEXT SEARCH CONFIGURATION" alias="DROP TEXT SEARCH CONFIGURATION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_zh-cn_topic_0058965800_p636542691551">删除已有文本搜索配置。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_p177121419165516">要执行这个命令，用户必须是该配置的所有者。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除文本搜索配置。
postgres=# DROP TEXT SEARCH CONFIGURATION joe.ngram_2 ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_s44db11c9e7594058a14298763bd505ab">DROP TEXT SEARCH CONFIGURATION [ IF EXISTS ] name [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_a2d7ad64a0f7740d3ab2a660b17db51e6">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_a5bd7012b1d6c46dba4c1c7a2536351e3">如果指定的文本搜索配置不存在，那么发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_zh-cn_topic_0058965800_b462723515739">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_af5d60a5b479146038e70ce50fcf7378d">要删除的文本搜索配置名称（可有模式修饰）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_a5e0d14b8de1e4765800da45bd5381d55">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_a24c4061c9332441898cfc92100230d4b">级联删除依赖文本搜索配置的对象。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_a77b2c27848244420a6c27d6a6eb43de0">RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370618__zh-cn_topic_0237122154_zh-cn_topic_0059778389_afd18181ffa624eab9d11bed06cdfa4c6">若有任何对象依赖文本搜索配置则拒绝删除它。这是默认情况。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP TEXT SEARCH DICTIONARY" alias="DROP TEXT SEARCH DICTIONARY">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_p46481919173114">删除全文检索词典。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_ul11440124205318"><li id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_li10355217162410">预定义词典不支持DROP操作。</li><li id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_li10464891245">只有词典的所有者可以执行DROP操作，系统管理员默认拥有此权限。</li><li id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_li67602155415">谨慎执行DROP...CASCADE操作，该操作将级联删除使用该词典的文本搜索配置（TEXT SEARCH CONFIGURATION）。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除词典english
DROP TEXT SEARCH DICTIONARY english ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059777936_s92a0deb0c52b4eb0a4b341a63983a0f0">DROP TEXT SEARCH DICTIONARY [ IF EXISTS ] name [ CASCADE | RESTRICT ]</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059778389_a2d7ad64a0f7740d3ab2a660b17db51e6">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059778389_a5bd7012b1d6c46dba4c1c7a2536351e3">如果指定的全文检索词典不存在，那么发出一个Notice而不是报错。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b524483759421">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p447093219453">要删除的词典名称（可指定模式名，否则默认在当前模式下）。</p>
<p id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p53237289456">取值范围：已存在的词典名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059778389_a5e0d14b8de1e4765800da45bd5381d55">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059778389_a24c4061c9332441898cfc92100230d4b">自动删除依赖于该词典的对象，并依次删除依赖于这些对象的所有对象。</p>
<p id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_p1110754945915">如果存在任何一个使用该词典的文本搜索配置，此DROP命令将不会成功。可添加CASCADE以删除引用该词典的所有文本搜索配置以及词典。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059778389_a77b2c27848244420a6c27d6a6eb43de0">RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370619__zh-cn_topic_0237122155_zh-cn_topic_0059778389_afd18181ffa624eab9d11bed06cdfa4c6">如果任何对象依赖词典，则拒绝删除该词典。这是缺省值。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP TRIGGER" alias="DROP TRIGGER">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_ad0775e422d0246678c1a7492fed97376">删除触发器。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p59415015645">只有触发器的所有者可以执行DROP TRIGGER操作，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除触发器
postgres=# DROP TRIGGER insert_trigger ON test_trigger_src_tbl ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_s4bb39b3572b64f91b82fac17d3b570e9">DROP TRIGGER [ IF EXISTS ] trigger_name ON table_name [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b654799209421">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p413483989425">如果指定的触发器不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b524483759421">trigger_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p447093219453">要删除的触发器名称。</p>
<p id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p53237289456">取值范围：已存在的触发器。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_b10748195216598">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_p318211253564">要删除的触发器所在的表名称。</p>
<p id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_p185906551621">取值范围：已存在的含触发器的表。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b22733299421">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_ua92227f36d6943d181cb45e878b00a56"><li id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_l6f84a686fe2543569aea56614c986d73">CASCADE：级联删除依赖此触发器的对象。</li><li id="ZH-CN_TOPIC_0242370620__zh-cn_topic_0237122156_zh-cn_topic_0059777895_l008c0aa6f9e44781a8ea437032a388ab">RESTRICT：如果有依赖对象存在，则拒绝删除此触发器。此选项为缺省值。</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP TYPE" alias="DROP TYPE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_p18120164041212">删除一个用户定义的数据类型。只有类型所有者才有删除权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除compfoo1类型。
postgres=# DROP TYPE usr1.compfoo1 cascade ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_zh-cn_topic_0059778403_s5f30de81aca940f09abc8b0cb5a10b29">DROP TYPE [ IF EXISTS ] name [, ...] [ CASCADE | RESTRICT ]</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_zh-cn_topic_0059778403_aed73358aa4354b648f96c1c7fc00b4e5">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_zh-cn_topic_0059778403_a153bf696dca74d7e82b116752b968de4">如果指定的类型不存在，那么发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_b8597214131">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_zh-cn_topic_0059778403_a39f233cff17b45619e93044aec8629fb">要删除的类型名(可以有模式修饰)。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_b51677212139">CASCADE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_p1971524012136">级联删除依赖该类型的对象(比如字段、函数、操作符等)</p>
<p id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_p29574881416"><strong id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_b11885161117159">RESTRICT</strong></p>
<p id="ZH-CN_TOPIC_0242370621__zh-cn_topic_0237122157_p132422139159">如果有依赖对象，则拒绝删除该类型（缺省行为）。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP USER" alias="DROP USER">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_a8482277cef3e443483795f01d99e797b">删除用户，同时会删除同名的schema。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_ua9480ef5759c49179cacea55e1311bb3"><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_l26657ca4fe9647dc8fc33c89484e0a48">须使用CASCADE级联删除依赖用户的对象（除数据库外）。当删除用户的级联对象时，如果级联对象处于锁定状态，则此级联对象无法被删除，直到对象被解锁或锁定级联对象的进程被杀死。</li><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_li773343271813">在<span id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_text15612132524513"><span id="ZH-CN_TOPIC_0242370622__text418143832012">openGauss</span></span>中，存在一个配置参数enable_kill_query，此参数在配置文件postgresql.conf中。此参数影响级联删除用户对象的行为：<ul id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_uf687d3db52b646fd9fc6fde4f85fcd8e"><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_ld7c505ca22ae46149ec75993d466470b">当参数enable_kill_query为on ，且使用CASCADE模式删除用户时，会自动kill锁定用户级联对象的进程，并删除用户。</li><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_l7ac2f0adf715417681e80b01126c0b94">当参数enable_kill_query为off，且使用CASCADE模式删除用户时，会等待锁定级联对象的进程结束之后再删除用户。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_lbd20cb840f854868936e025a8d881977">在数据库中删除用户时，如果依赖用户的对象在其他数据库中或者依赖用户的对象是其他数据库，请用户先手动删除其他数据库中的依赖对象或直接删除依赖数据库，再删除用户。即drop user不支持跨数据库进行级联删除。</li><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_li1420762613368">如果该用户被DATA SOURCE对象依赖时，无法直接级联删除该用户，需要手动删除对应的DATA SOURCE对象之后再删除该用户。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除用户。
postgres=# DROP USER kim CASCADE ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_s5f30de81aca940f09abc8b0cb5a10b29">DROP USER [ IF EXISTS ] user_name [, ...] [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_aed73358aa4354b648f96c1c7fc00b4e5">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_a153bf696dca74d7e82b116752b968de4">如果指定的用户不存在，发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_a5393e287a0e3420f9177aa9d1f6187d1">user_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_a692915fe22d6476c8ed0e5b4ce85e3d9">待删除的用户名。</p>
<p id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_a39f233cff17b45619e93044aec8629fb">取值范围：已存在的用户名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_ab46d11275e174156903103011836cc10">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_u3d817589369f440abe61896d9ed83efb"><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_l367edc13259f451086b55ecb6bbf9a1a">CASCADE：级联删除依赖用户的对象。</li><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_l20841f686e104598abb80e5a5c5a376f">RESTRICT：如果用户还有任何依赖的对象，则拒绝删除该用户（缺省行为）。<div class="note" id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_note6435822181015"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_afffc43431f0f4772aca1eef2053e3a5c">在<span id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_text4996142694517"><span id="ZH-CN_TOPIC_0242370622__text419673942020">openGauss</span></span>中，存在一个配置参数enable_kill_query，此参数在配置文件postgresql.conf中。此参数影响级联删除用户对象的行为：</p>
<ul id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_ul5201548111012"><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_zh-cn_topic_0059778403_l6e6530d786294c3d84c337e3074d3208">当参数enable_kill_query为on ，且使用CASCADE模式删除用户时，会自动kill锁定用户级联对象的进程，并删除用户。</li><li id="ZH-CN_TOPIC_0242370622__zh-cn_topic_0237122158_li13201114871018">当参数enable_kill_query为off，且使用CASCADE模式删除用户时，会等待锁定级联对象的进程结束之后再删除用户。</li></ul>
</div></div>
</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="DROP VIEW" alias="DROP VIEW">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_ad0775e422d0246678c1a7492fed97376">数据库中强制删除已有的视图。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p59415015645">只有视图的所有者有权限执行DROP VIEW的命令，系统管理员默认拥有此权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除视图myView。
postgres=# DROP VIEW myView ; </pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_s4bb39b3572b64f91b82fac17d3b570e9">DROP VIEW [ IF EXISTS ] view_name [, ...] [ CASCADE | RESTRICT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b654799209421">IF EXISTS</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p413483989425">如果指定的视图不存在，则发出一个notice而不是抛出一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b524483759421">view_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p447093219453">要删除的视图名称。</p>
<p id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_zh-cn_topic_0058965839_p53237289456">取值范围：已存在的视图。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_zh-cn_topic_0058965839_b22733299421">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_ua92227f36d6943d181cb45e878b00a56"><li id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_l6f84a686fe2543569aea56614c986d73">CASCADE：级联删除依赖此视图的对象（比如其他视图）。</li><li id="ZH-CN_TOPIC_0242370623__zh-cn_topic_0237122159_zh-cn_topic_0059777895_l008c0aa6f9e44781a8ea437032a388ab">RESTRICT：如果有依赖对象存在，则拒绝删除此视图。此选项为缺省值。</li></ul>
</div></ul></div>]]></suggestion>
  </command>
  <command id="EXECUTE" alias="EXECUTE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370625__zh-cn_topic_0237122161_zh-cn_topic_0059777447_zh-cn_topic_0058965830_p9099401596">执行一个前面准备好的预备语句。因为一个预备语句只在会话的生命期里存在，那么预备语句必须是在当前会话的前些时候用PREPARE语句创建的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370625__zh-cn_topic_0237122161_zh-cn_topic_0059777447_zh-cn_topic_0058965830_p46945701596">如果创建预备语句的PREPARE语句声明了一些参数，那么传递给EXECUTE语句的必须是一个兼容的参数集，否则就会生成一个错误。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--为一个INSERT语句创建一个预备语句然后执行它。
postgres=# PREPARE insert_reason ( integer , character ( 16 ) , character ( 100 ) ) AS INSERT INTO tpcds.reason_t1 VALUES ( $1 , $2 , $3 ) ; 
postgres=# EXECUTE insert_reason ( 52 , ' AAAAAAAADDAAAAAA ' , ' reason 52 ' ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370625__zh-cn_topic_0237122161_zh-cn_topic_0059777447_s849b9a250cd34aaba19abc939c861716">EXECUTE name [ ( parameter [, ...] ) ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370625__zh-cn_topic_0237122161_zh-cn_topic_0059777447_a1c46946650e84e248d26dd5f0ab1439c">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370625__zh-cn_topic_0237122161_zh-cn_topic_0059777447_a1b393e845c3e434baa85b146a605e3a0">要执行的预备语句的名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370625__zh-cn_topic_0237122161_zh-cn_topic_0059777447_a1bbe6c6a5dd549f6bfd39b80d607d5fe">parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370625__zh-cn_topic_0237122161_zh-cn_topic_0059777447_a7d30e78dae914c16a4bc3844fa3c1d9a">给预备语句的一个参数的具体数值。它必须是一个和生成与创建这个预备语句时指定参数的数据类型相兼容的值的表达式。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="EXPLAIN" alias="EXPLAIN">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a703382e366e545628da60548c4cbc946">显示SQL语句的执行计划。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_af66353677b634f2991676a3a0fec9535">执行计划将显示SQL语句所引用的表会采用什么样的扫描方式，如：简单的顺序扫描、索引扫描等。如果引用了多个表，执行计划还会显示用到的JOIN算法。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a29c3d1ac9cf344be8f79fb2c24944ad3">执行计划的最关键的部分是语句的预计执行开销，这是计划生成器估算执行该语句将花费多长的时间。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a7469ce67054d41d8aee617e3378ef805">若指定了ANALYZE选项，则该语句会被执行，然后根据实际的运行结果显示统计数据，包括每个计划节点内时间总开销（毫秒为单位）和实际返回的总行数。这对于判断计划生成器的估计是否接近现实非常有用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ae77682731d654a3ca9fec66ddeea8be9">在指定ANALYZE选项时，语句会被执行。如果用户想使用EXPLAIN分析INSERT，UPDATE，DELETE，CREATE TABLE AS或EXECUTE语句，而不想改动数据（执行这些语句会影响数据），请使用这种方法：</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_se75da54931694eb49e5dd2135930cf8c">START TRANSACTION;
EXPLAIN ANALYZE ...;
ROLLBACK;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--修改explain_perf_mode为normal
postgres=# SET explain_perf_mode=normal ; 

--显示表简单查询的执行计划。
postgres=# EXPLAIN SELECT * FROM tpcds.customer_address_p1 ; 
QUERY PLAN
--------------------------------------------------
Data Node Scan ( cost=0.00..0.00 rows=0 width=0 ) 
Node/s: All dbnodes
 ( 2 rows ) 

--以JSON格式输出的执行计划（explain_perf_mode为normal时）。
postgres=# EXPLAIN ( FORMAT JSON ) SELECT * FROM tpcds.customer_address_p1 ; 
QUERY PLAN
--------------------------------------
[ +
{ +
"Plan": { +
"Node Type": "Data Node Scan" , +
"Startup Cost": 0.00 , +
"Total Cost": 0.00 , +
"Plan Rows": 0 , +
"Plan Width": 0 , +
"Node/s": "All dbnodes" +
} +
} +
]
 ( 1 row ) 

--如果有一个索引，当使用一个带索引WHERE条件的查询，可能会显示一个不同的计划。
postgres=# EXPLAIN SELECT * FROM tpcds.customer_address_p1 WHERE ca_address_sk=10000 ; 
QUERY PLAN
--------------------------------------------------
Data Node Scan ( cost=0.00..0.00 rows=0 width=0 ) 
Node/s: dn_6005_6006
 ( 2 rows ) 

--以YAML格式输出的执行计划（explain_perf_mode为normal时）。
postgres=# EXPLAIN ( FORMAT YAML ) SELECT * FROM tpcds.customer_address_p1 WHERE ca_address_sk=10000 ; 
QUERY PLAN
---------------------------------
- Plan: +
Node Type: "Data Node Scan"+
Startup Cost: 0.00 +
Total Cost: 0.00 +
Plan Rows: 0 +
Plan Width: 0 +
Node/s: "dn_6005_6006"
 ( 1 row ) 

--禁止开销估计的执行计划。
postgres=# EXPLAIN ( COSTS FALSE ) SELECT * FROM tpcds.customer_address_p1 WHERE ca_address_sk=10000 ; 
QUERY PLAN
------------------------
Data Node Scan
Node/s: dn_6005_6006
 ( 2 rows ) 

--带有聚集函数查询的执行计划。
postgres=# EXPLAIN SELECT SUM ( ca_address_sk ) FROM tpcds.customer_address_p1 WHERE ca_address_sk&lt;10000 ; 
QUERY PLAN
---------------------------------------------------------------------------------------
Aggregate ( cost=18.19..14.32 rows=1 width=4 ) 
-&gt; Streaming ( type: GATHER ) ( cost=18.19..14.32 rows=3 width=4 ) 
Node/s: All dbnodes
-&gt; Aggregate ( cost=14.19..14.20 rows=3 width=4 ) 
-&gt; Seq Scan on customer_address_p1 ( cost=0.00..14.18 rows=10 width=4 ) 
Filter: ( ca_address_sk &lt; 10000 ) 
 ( 6 rows ) 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_uffa48ccd20314a249f500252a6511477"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l1033d27714bf465a938e8d7dbc0b62b8">显示SQL语句的执行计划，支持多种选项，对选项顺序无要求。<pre class="screen" id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_scd249553d48f4e38af509be7e846d228">EXPLAIN [ (  option  [, ...] )  ] statement;</pre>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ab367f378b1d24eda96544931a5b4f48f">其中选项option子句的语法为。</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_s090614d2b19846149700b092abebaeb2">ANALYZE [ boolean ] |
    ANALYSE [ boolean ] |
    VERBOSE [ boolean ] |
    COSTS [ boolean ] |
    CPU [ boolean ] |
    DETAIL [ boolean ] |
    NODES [ boolean ] |
    NUM_NODES [ boolean ] |
    BUFFERS [ boolean ] |
    TIMING [ boolean ] |
    PLAN [ boolean ] |
    FORMAT { TEXT | XML | JSON | YAML }</pre>
</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l98ae6a51183d450aae24b5fe24be389f">显示SQL语句的执行计划，且要按顺序给出选项。<pre class="screen" id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_s31190d8f364d456a9ee1ecc26fbb01bd">EXPLAIN  { [  { ANALYZE  | ANALYSE  }  ] [ VERBOSE  ]  | PERFORMANCE  } statement;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ad2e00a952dc14e89a4fb653aa7106e31">statement</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a31ddfe3d3f4d402dbe1d0ed96e27a7e6">指定要分析的SQL语句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a374570450f3c459fab22aca91ac42596">ANALYZE boolean | ANALYSE boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a77d3bf1fec5b425ca3700e00786fa865">显示实际运行时间和其他统计数据。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a822b079f823e4891b0b0ec713fa04e38">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_uc92cea24b762451e948a84f95ab1e6d7"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l58d591951cb54294b8f25fd928b57491">TRUE（缺省值）：显示实际运行时间和其他统计数据。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_lbf3ee673a9af4cd5ae72efd600eeaa6d">FALSE：不显示。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_aa03f5d6907174b948151fd8decfd7897">VERBOSE boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ab9f39b1d7a61487195e0b447898253f0">显示有关计划的额外信息。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ad8595f8259774fdda3c5ec457e892396">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_u44525d566d204344992c96080aa3f0fb"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l7b68fb9fe4c949efa324102373710f22">TRUE（缺省值）：显示额外信息。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l251af7a7559d47ef805f2d110d3e0346">FALSE：不显示。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_acdee632c4d3c4b3694d36b666c2964e4">COSTS boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a8b8a6ad340ee4de0be628c4a79249777">包括每个规划节点的估计总成本，以及估计的行数和每行的宽度。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a1508d936c72d47bcb8546cc41ee63f59">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_u9ac8cfbac249430887ccd1b4df8bdbf7"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_le7549080ba7443299ef950f2680f570c">TRUE（缺省值）：显示估计总成本和宽度。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_lf90b6b65a41f41abb1aa4668e1b52d4e">FALSE：不显示。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_acd662ea8bc5c47bcb40c80be3ff1af1d">CPU boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_zh-cn_topic_0058965750_p204987092828">打印CPU的使用情况的信息。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a228c874695c445b7bc3e23ab5a96f989">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ub247373dae5d4514a15c29729b8cac46"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l1630721365684a3e940d1e3efb26b827">TRUE（缺省值）：显示CPU的使用情况。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l9fa28483bf15400bbf840d52d7a27230">FALSE：不显示。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_zh-cn_topic_0058965750_b697368692828">DETAIL boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a8010bc1f97b34cacb3ba9d8263f8da7c">打印数据库节点上的信息。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a5b7396e5bd584f2e81692a88cedcbec6">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ufc282b76f79040cdb6e25ad27921532c"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l55127fcea4654a849ed2c2406642c83f">TRUE（缺省值）：打印数据库节点的信息。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l1ea398b993424884bed35d090cab48cd">FALSE：不打印。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_zh-cn_topic_0058965750_b825989392828">NODES boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_zh-cn_topic_0058965750_p723017592828">打印query执行的节点信息。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ad9cf485f5a634607ab8a09564a622248">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ua1a8a036f78f4b0892c7a3ccd8681809"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l49c098c0909f45838420c0903e2cc1a3">TRUE（缺省值）：打印执行的节点的信息。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_la0956aa7547c46a79f9134eeac9c7719">FALSE：不打印。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a9c8080c2fdfa45c897f6b424a4e09c5b">NUM_NODES boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ad816086c320f47c9b2a636badfcc9219">打印执行中的节点的个数信息。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a426651e0e20b4d9382d07af3f54234af">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ud3683c889a064ff29dccfc8c81291663"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ledc30b96c34842ae97560672074fec00">TRUE（缺省值）：打印数据库节点个数的信息。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ldcb0d5c100ea4d1dbeefc86cee04bcd3">FALSE：不打印。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a6e57e5405f0b44df91acedb6b434dccc">BUFFERS boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a99d4966b11734ba698c78caa80a17604">包括缓冲区的使用情况的信息。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a0fc5742d806b497ba66c001822b5cba2">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_uc70d9a82c43d43eb895e1b08a46da636"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l28bf5350f98e41d8bf6b40ff58f6671b">TRUE：显示缓冲区的使用情况。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l9a70c8ed815c4d989fc6a562d804f14d">FALSE（缺省值）：不显示。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ada125d7e63f240789e98645dde5c552c">TIMING boolean</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ae0a19243e62e413ebb67ff69235c810a">包括实际的启动时间和花费在输出节点上的时间信息。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a1ea553f5209542e49ba7de1e6e617785">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_u7105c33ae4fa4171bd7a21bb82197a2d"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l73300e29a120475da772a1210d6e5843">TRUE（缺省值）：显示启动时间和花费在输出节点上的时间信息。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_l5849b7137b7e483cb7ceda10a9bc9439">FALSE：不显示。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_b192347359333">PLAN</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_p42341735193319">是否将执行计划存储在plan_table中。当该选项开启时，会将执行计划存储在PLAN_TABLE中，不打印到当前屏幕，因此该选项为on时，不能与其他选项同时使用。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_p2023413519334">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_ul14234183516334"><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_li52341935173312">ON（缺省值）：将执行计划存储在plan_table中，不打印到当前屏幕。执行成功返回EXPLAIN SUCCESS。</li><li id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_li1234335113316">OFF：不存储执行计划，将执行计划打印到当前屏幕。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a96054bf8ee614471b2cc46eba3864c9b">FORMAT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ad0c11bb6b03143848cc4fba1b9b8b8d1">指定输出格式。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_zh-cn_topic_0058965750_p533878501433">取值范围：TEXT，XML，JSON和YAML。</p>
<p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_zh-cn_topic_0058965750_p107286021433">默认值：TEXT。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_ae837ac87bad64102851d079981cf396e">PERFORMANCE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370627__zh-cn_topic_0237122163_zh-cn_topic_0059777774_a8d1e552afcc741bb9c9e84bfa38e042f">使用此选项时，即打印执行中的所有相关信息。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="EXPLAIN PLAN" alias="EXPLAIN PLAN">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_p8060118">通过EXPLAIN PLAN命令可以将查询执行的计划信息存储于PLAN_TABLE表中。与EXPLAIN命令不同的是，EXPLAIN PLAN仅将计划信息进行存储，而不会打印到屏幕。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_ul424995255613"><li id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_li3250195215612">EXPLAIN PLAN不支持在<span id="ZH-CN_TOPIC_0242370628__text1474565694614">数据库节点</span>上执行。</li><li id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_li1585416549569">对于执行错误的SQL无法进行计划信息的收集。</li><li id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_li5668556185613">PLAN_TABLE中的数据是session级生命周期并且session隔离和用户隔离，用户只能看到当前session、当前用户的数据。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">explain plan set statement_id= ' TPCH-Q4 ' for
select
o_orderpriority , 
count ( * ) as order_count
from
orders
where
o_orderdate &gt;= ' 1993-07-01 ' ::date
and o_orderdate &lt; ' 1993-07-01 ' ::date + interval ' 3 month ' 
and exists ( 
select
*
from
lineitem
where
l_orderkey = o_orderkey
and l_commitdate &lt; l_receiptdate
 ) 
group by
o_orderpriority
order by
o_orderpriority ; 
查询PLAN_TABLE。SELECT * FROM PLAN_TABLE ; 
清理PLAN_TABLE表中的数据。DELETE FROM PLAN_TABLE WHERE xxx ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_screen177001314105115">EXPLAIN PLAN
[ SET STATEMENT_ID = string ]
FOR statement ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle">STATEMENT_ID用户可以对查询设置标签，输入的标签信息也将存储于PLAN_TABLE中。&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><div class="note" id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_nf4efcc7eb7da41d5b14d51e34770dcf2"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370628__zh-cn_topic_0237122164_zh-cn_topic_0165816825_ad48ef195a8664a60809a068d74c6a18e">用户在执行EXPLAIN PLAN时，如果没有进行SET  STATEMENT_ID，则默认为空值。同时，用户可输入的STATEMENT_ID最大长度为30个字节，超过长度将会产生报错。</p>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="FETCH" alias="FETCH">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a1cf1e7d44d3e468eae77938f88d88975">FETCH通过已创建的游标来检索数据。</p>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_aed7c7c0f0ff740058890b6a7c9577662">每个游标都有一个供FETCH使用的关联位置。游标的关联位置可以在查询结果的第一行之前，或者在结果中的任意行，或者在结果的最后一行之后：</p>
<ul id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_u818fe7600b094ebb953a493f122da589"><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l23c6b0f8e2fe4658ba31b56b01f65737">游标刚创建完之后，关联位置在第一行之前的。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l329fef1ad45241d8bb2666517abdab13">在抓取了一些移动行之后，关联位置在检索到的最后一行上。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_la4810474ca30486eb89ed7940c989c8d">如果FETCH抓取完了所有可用行，它就停在最后一行后面，或者在反向抓取的情况下是停在第一行前面。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l174b77576d4e463aab35681ca8327242">FETCH ALL或FETCH BACKWARD ALL将总是把游标的关联位置放在最后一行或者在第一行前面。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_u282a6dfa9e174c6c9e61fd0662489cef"><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l6db0e929913a4b57b5d812fbced06c83">如果游标定义了NO SCROLL，则不允许使用例如FETCH BACKWARD之类的反向抓取。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l60d1f2a3f2fe4b6ab9483d58b0d95018">NEXT，PRIOR，FIRST，LAST，ABSOLUTE，RELATIVE形式在恰当地移动游标之后抓取一条记录。如果后面没有数据行，就返回一个空的结果，此时游标就会停在查询结果的最后一行之后（向后查询时）或者第一行之前（向前查询时）。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l547d9f8029fb477d8c4aa6804643e8e3">FORWARD和BACKWARD形式在向前或者向后移动的过程中抓取指定的行数，然后把游标定位在最后返回的行上；或者是，如果count大于可用的行数，则在所有行之后（向后查询时）或者之前（向前查询时）。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_lcc45dd969f804c51a6643b50fe092a68">RELATIVE 0，FORWARD 0，BACKWARD 0都要求在不移动游标的前提下抓取当前行，也就是重新抓取最近刚抓取过的行。除非游标定位在第一行之前或者最后一行之后，这个动作都应该成功，而在那两种情况下，不返回任何行。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l67ce0bfa826e45bfb16b7d8f10b132fa">当FETCH的游标上涉及列存表时，不支持BACKWARD、PRIOR、FIRST等涉及反向获取操作。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--抓取头3行到游标cursor1里。
postgres=# FETCH FORWARD 3 FROM cursor1 ; 
ca_address_sk | ca_address_id | ca_street_number | ca_street_name | ca_street_type | ca_suite_number | ca_city | ca_county | ca_state | ca_zip | ca_country | ca_gmt_offset | ca_location_type
---------------+------------------+------------------+--------------------+-----------------+-----------------+-----------------+-----------------+----------+------------+---------------+---------------+----------------------
1 | AAAAAAAABAAAAAAA | 18 | Jackson | Parkway | Suite 280 | Fairfield | Maricopa County | AZ | 86192 | United States | -7.00 | condo
2 | AAAAAAAACAAAAAAA | 362 | Washington 6th | RD | Suite 80 | Fairview | Taos County | NM | 85709 | United States | -7.00 | condo
3 | AAAAAAAADAAAAAAA | 585 | Dogwood Washington | Circle | Suite Q | Pleasant Valley | York County | PA | 12477 | United States | -5.00 | single family
 ( 3 rows ) 

--抓取头2行到游标cursor2里。
postgres=# FETCH FORWARD 2 FROM cursor2 ; 
column1 | column2
---------+---------
0 | 3
1 | 2
 ( 2 rows ) 

--抓取头2行到游标cursor1里。
postgres=# FETCH FORWARD 2 FROM cursor1 ; 
ca_address_sk | ca_address_id | ca_street_number | ca_street_name | ca_street_type | ca_suite_number | ca_city | ca_county | ca_state | ca_zip | ca_country | ca_gmt_offset | ca_location_type
---------------+------------------+------------------+--------------------+-----------------+-----------------+-----------------+-----------------+----------+------------+---------------+---------------+----------------------
1 | AAAAAAAABAAAAAAA | 18 | Jackson | Parkway | Suite 280 | Fairfield | Maricopa County | AZ | 86192 | United States | -7.00 | condo
2 | AAAAAAAACAAAAAAA | 362 | Washington 6th | RD | Suite 80 | Fairview | Taos County | NM | 85709 | United States | -7.00 | condo
 ( 2 rows ) 

--抓取下一行到游标cursor1里。
postgres=# FETCH FORWARD 1 FROM cursor1 ; 
ca_address_sk | ca_address_id | ca_street_number | ca_street_name | ca_street_type | ca_suite_number | ca_city | ca_county | ca_state | ca_zip | ca_country | ca_gmt_offset | ca_location_type
---------------+------------------+------------------+--------------------+-----------------+-----------------+-----------------+-----------------+----------+------------+---------------+---------------+----------------------
3 | AAAAAAAADAAAAAAA | 585 | Dogwood Washington | Circle | Suite Q | Pleasant Valley | York County | PA | 12477 | United States | -5.00 | single family
 ( 1 row ) 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_sb6934fffe31344e09939a4f4e298c5de">FETCH [ direction { FROM | IN } ] cursor_name;</pre>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_aa971737708d8460ea8206ef73c5d9bd6">其中direction子句为可选参数。</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_s1ed72a4513754f5895fb64687aa3a889">NEXT
   | PRIOR
   | FIRST
   | LAST
   | ABSOLUTE count
   | RELATIVE count
   | count
   | ALL
   | FORWARD
   | FORWARD count
   | FORWARD ALL
   | BACKWARD
   | BACKWARD count
   | BACKWARD ALL</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a771ebbaa2c1e47d694c867bc99341b0c">direction_clause</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_ace7f4d36dd454baeaba7cf45651736a7">定义抓取数据的方向。</p>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a13fdf0de77a345ab8c95bdc38ea60d35">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_u50f506740df7448e8169fabe049274ae"><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_lbebb73bd908443dba63e41a8a29bd2b1">NEXT（缺省值）<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_af62a80592ad148d0bc9c79c403417cb7">从当前关联位置开始，抓取下一行。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l8933daa7c2444b3eaf5c58a99f858013">PRIOR<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a537215ae2a904c578fa26c7d38a3faa6">从当前关联位置开始，抓取上一行。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l5929da9dafac4cf68cda2f0f7a8fb236">FIRST<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a19c773c541b04e0a9b0096f116a2e3b6">抓取查询的第一行（和ABSOLUTE 1相同）。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l31219dd8e0eb4b41b7450652603cc62e">LAST<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a47d23029a7184611aa92a142b66ffa4c">抓取查询的最后一行（和ABSOLUTE -1相同）。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_lc2ee191ce0854d239dcc958263402d39">ABSOLUTE count<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a4f67f728e2614753942899388e2ca9c6">抓取查询中第count行。</p>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a19e700a374a84ab6aa9628b0151f2c03">ABSOLUTE抓取不会比用相对位移移动到需要的数据行更快，因为下层的实现必须遍历所有中间的行。</p>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a2eb0621c045b409191f48413c7626278">count取值范围：有符号的整数</p>
<ul id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_u26b526dffcfa42a399112680c70469be"><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_le0beea4643834d23882c1a47a86cfcdd">count为正数，就从查询结果的第一行开始，抓取第count行。当count小于当前游标位置时，涉及到rewind操作，暂不支持。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_leb258f06d09f4578a100e232d4815a56">count为负数或0，涉及到反向扫描操作，暂不支持。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_led74c57bc5d743d3a2dbed004facb2c0">RELATIVE count<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_ac2c10f78fc994592997cd8c5611960f7">从当前关联位置开始，抓取随后或前面的第count行。</p>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a80ba1e3cb2004255ae6b99a27c2113b0">取值范围：有符号的整数</p>
<ul id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_uc9af56e1a75d4967a3e97c3cb4ae7f3a"><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l16adfe5449ad45878a7a932e45dbc0fb">count为正数就抓取当前关联位置之后的第count行。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l07331beeca974f73897818a343dc2aeb">count为负数或0，涉及到反向扫描操作，暂不支持。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l04a17c12ea674cb38acf083bb3c9236f">如果当前行没有数据的话，RELATIVE 0返回空。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l4a7bdb7252b34f7684105cc13a2c3a98">count<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a69d154b248ae403296e552eceb8169c9">抓取随后的count行（和FORWARD count一样）。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l84d0cd85e36d43688daeaea15256c637">ALL<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_aff4c190fbd7d4ec9ab6197d5eb297425">从当前关联位置开始，抓取所有剩余的行（和FORWARD ALL一样）。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l7a6f2f18ad8744e89e44b906124f63bd">FORWARD<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a4f62d019d4974bce839a6fd0b203cee2">抓取下一行（和NEXT一样）。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l895f74a643074cc881e73a082d0ce097">FORWARD count<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a2f04d91e8d964996baa18fa9a9e7869e">与RELATIVE count的效果相同，从当前关联位置开始，抓取随后或前面的第count行。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l77bf1fcad336473e95039ea40dec71e8">FORWARD ALL<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_aadd0f4ffae7f497e874426057a6fddf2">从当前关联位置开始，抓取所有剩余行。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l5d2d609d3268435e92f08924f1efe68c">BACKWARD<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a2e4c4497ebbf422c97131368ff03672c">从当前关联位置开始，抓取前面一行(和PRIOR一样) 。</p>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l94476bff4a5e4ecc9dcff9faf1a7b3f5">BACKWARD count<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a3ece9f2ea5524e23a2784879635d64cf">从当前关联位置开始，抓取前面的count行（向后扫描）。</p>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a3d87f51b0dca4b7ea465f06b03d56ffb">取值范围：有符号的整数</p>
<ul id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_u2c13fca488f04eec88bdc82c76da00ea"><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_la737c9f35a7840258aa32a966af25240">count为正数就抓取当前关联位置之前的第count行。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l176d8d82dbff4b4bb424ef27c07453d5">count为负数就抓取当前关联位置之后的第abs（count）行。</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l08eb591cb7694e54b4df1b764d1d890d">如果有数据的话，BACKWARD 0重新抓取当前行。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_l9e3a8df2b6d94768b4a0e4397940c929">BACKWARD ALL<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_ac64c2e5410fa4db1b651c7305bb0d495">从当前关联位置开始，抓取所有前面的行（向后扫描） 。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_ae36548ce3d2c48039563f569aad27856">{ FROM | IN } cursor_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_a24f2c1f116494dd6a8cb996b9dbd5662">使用关键字FROM或IN指定游标名称。</p>
<p id="ZH-CN_TOPIC_0242370629__zh-cn_topic_0237122165_zh-cn_topic_0059778422_aa2418547a40a40899be02ba96bd9b91e">取值范围：已创建的游标的名称。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="GRANT" alias="GRANT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_p1821110131201">对角色和用户进行授权操作。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a1af4b134e10a40a4819cf52822723a01">使用GRANT命令进行用户授权包括以下三种场景：</p>
<ul id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_u9914f016f6d947f580d3b9ef56a9450b"><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l3d6974f0e8034ca7929801cb929f270a"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a57c8420b40664d00b5393fab6b0dd647">将系统权限授权给角色或用户</strong><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aa24ec417526945a2a8ec487c89b0257f">系统权限又称为用户属性，包括SYSADMIN、CREATEDB、CREATEROLE、AUDITADMIN和LOGIN。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a2a8d90db8ca146cbb8a2e8ba8277fb5f">系统权限一般通过CREATE/ALTER ROLE语法来指定。其中，SYSADMIN权限可以通过GRANT/REVOKE ALL PRIVILEGE授予或撤销。但系统权限无法通过ROLE和USER的权限被继承，也无法授予PUBLIC。</p>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l0b5cd8e1889241088682f8b29b51a740"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ab18c3ba37a0e4a1b8142192f91cf3d15">将数据库对象授权给角色或用户</strong><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a1fbd6d9bc7f348e9b0938e84247354f1">将数据库对象（表和视图、指定字段、数据库、函数、模式、表空间等）的相关权限授予特定角色或用户；</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_zh-cn_topic_0058965813_p370990115811">GRANT命令将数据库对象的特定权限授予一个或多个角色。这些权限会追加到已有的权限上。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_af94f79d581244223ad246812be0a2e34">关键字PUBLIC表示该权限要赋予所有角色，包括以后创建的用户。PUBLIC可以看做是一个隐含定义好的组，它总是包括所有角色。任何角色或用户都将拥有通过GRANT直接赋予的权限和所属的权限，再加上PUBLIC的权限。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a7a9cf169da1a4efc8743a442f1021f09">如果声明了WITH GRANT OPTION，则被授权的用户也可以将此权限赋予他人，否则就不能授权给他人。这个选项不能赋予PUBLIC，这是<span id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_text49557342457"><span id="ZH-CN_TOPIC_0242370630__text732824152012">openGauss</span></span>特有的属性。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_p113955825012"><span id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_text1493563512455"><span id="ZH-CN_TOPIC_0242370630__text6510742142013">openGauss</span></span>会将某些类型的对象上的权限授予PUBLIC。默认情况下，对表、表字段、序列、外部数据源、外部服务器、模式或表空间对象的权限不会授予PUBLIC，而以下这些对象的权限会授予PUBLIC：数据库的CONNECT权限和CREATE TEMP TABLE权限、函数的EXECUTE特权、语言和数据类型（包括域）的USAGE特权。当然，对象拥有者可以撤销默认授予PUBLIC的权限并专门授予权限给其他用户。为了更安全，建议在同一个事务中创建对象并设置权限，这样其他用户就没有时间窗口使用该对象。另外，这些初始的默认权限可以使用ALTER DEFAULT PRIVILEGES命令修改。</p>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_leaa2f1ebaaed4b51854e8d672bdbb3e9"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aa8141f52d6e64b9c81fda2cf86a8ac85">将角色或用户的权限授权给其他角色或用户</strong><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a2517627e842b4530aaf5b8265c77111c">将一个角色或用户的权限授予一个或多个其他角色或用户。在这种情况下，每个角色或用户都可视为拥有一个或多个数据库权限的集合。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a730cbd38e3b34073b87d21b30ec659f5">当声明了WITH ADMIN OPTION，被授权的用户可以将该权限再次授予其他角色或用户，以及撤销所有由该角色或用户继承到的权限。当授权的角色或用户发生变更或被撤销时，所有继承该角色或用户权限的用户拥有的权限都会随之发生变更。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ac68dc52b07614d4baf7e080b2f4d0ddc">数据库系统管理员可以给任何角色或用户授予/撤销任何权限。拥有CREATEROLE权限的角色可以赋予或者撤销任何非系统管理员角色的权限。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">postgres=# CREATE USER joe PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT ALL PRIVILEGES TO joe ; 
授权成功后，用户joe会拥有sysadmin的所有权限。
示例：将对象权限授权给用户或者角色。
撤销joe用户的sysadmin权限，然后将模式tpcds的使用权限和表tpcds.reason的所有权限授权给用户joe。postgres=# REVOKE ALL PRIVILEGES FROM joe ; 
postgres=# GRANT USAGE ON SCHEMA tpcds TO joe ; 
postgres=# GRANT ALL PRIVILEGES ON tpcds.reason TO joe ; 
授权成功后，joe用户就拥有了tpcds.reason表的所有权限，包括增删改查等权限。
将tpcds.reason表中r_reason_sk、r_reason_id、r_reason_desc列的查询权限，r_reason_desc的更新权限授权给joe。postgres=# GRANT select ( r_reason_sk , r_reason_id , r_reason_desc ) , update ( r_reason_desc ) ON tpcds.reason TO joe ; 
授权成功后，用户joe对tpcds.reason表中r_reason_sk，r_reason_id的查询权限会立即生效。如果joe用户需要拥有将这些权限授权给其他用户的权限，可以通过以下语法对joe用户进行授权。
postgres=# GRANT select ( r_reason_sk , r_reason_id ) ON tpcds.reason TO joe WITH GRANT OPTION ; 
将数据库postgres的连接权限授权给用户joe，并给予其在postgres中创建schema的权限，而且允许joe将此权限授权给其他用户。
postgres=# GRANT create , connect on database postgres TO joe WITH GRANT OPTION ; 
创建角色tpcds_manager，将模式tpcds的访问权限授权给角色tpcds_manager，并授予该角色在tpcds下创建对象的权限，不允许该角色中的用户将权限授权给其他人。
postgres=# CREATE ROLE tpcds_manager PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT USAGE , CREATE ON SCHEMA tpcds TO tpcds_manager ; 
将表空间tpcds_tbspc的所有权限授权给用户joe，但用户joe无法将权限继续授予其他用户。
postgres=# CREATE TABLESPACE tpcds_tbspc RELATIVE LOCATION ' tablespace/tablespace_1 ' ; 
postgres=# GRANT ALL ON TABLESPACE tpcds_tbspc TO joe ; 
示例：将用户或者角色的权限授权给其他用户或角色。
创建角色manager，将joe的权限授权给manager，并允许该角色将权限授权给其他人。postgres=# CREATE ROLE manager PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT joe TO manager WITH ADMIN OPTION ; 
创建用户senior_manager，将用户manager的权限授权给该用户。postgres=# CREATE ROLE senior_manager PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT manager TO senior_manager ; 
撤销权限，并清理用户。postgres=# REVOKE manager FROM joe ; 
postgres=# REVOKE senior_manager FROM manager ; 
postgres=# DROP USER manager ; 
示例：撤销上述授予的权限，并清理角色和用户。
postgres=# REVOKE ALL PRIVILEGES ON tpcds.reason FROM joe ; 
postgres=# REVOKE ALL PRIVILEGES ON SCHEMA tpcds FROM joe ; 
postgres=# REVOKE ALL ON TABLESPACE tpcds_tbspc FROM joe ; 
postgres=# DROP TABLESPACE tpcds_tbspc ; 
postgres=# REVOKE USAGE , CREATE ON SCHEMA tpcds FROM tpcds_manager ; 
postgres=# DROP ROLE tpcds_manager ; 
postgres=# DROP ROLE senior_manager ; 
postgres=# DROP USER joe CASCADE ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_u486412225f9c45168b249bd41faa5363"><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_la6e58034572346a3a04ee75809c775d3">将表或视图的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s99752dc2c9f342569f69981eaebab01c">GRANT { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES } [, ...] 
      | ALL [ PRIVILEGES ] }
    ON { [ TABLE ] table_name [, ...]
       | ALL TABLES IN SCHEMA schema_name [, ...] }
    TO { [ GROUP ] role_name | PUBLIC } [, ...] 
    [ WITH GRANT OPTION ];
</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_la4223281c2ff425d87ed7803a6a61cf5">将表中字段的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s86c6f055a85a4171a4efdbe9e7a18ea6">GRANT { {{ SELECT | INSERT | UPDATE | REFERENCES } ( column_name [, ...] )} [, ...] 
      | ALL [ PRIVILEGES ] ( column_name [, ...] ) }
    ON [ TABLE ] table_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l9e7af9bd57df48a38da181b48eeecb05">将数据库的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s694c266ce33c4f588938acaba54cb164">GRANT { { CREATE | CONNECT | TEMPORARY | TEMP } [, ...]
      | ALL [ PRIVILEGES ] }
    ON DATABASE database_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_la09ed3d2ec274e41b877123e99ca6db2">将域的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s79a3473ec4ba4dbaa07c9cae74e5c3ec">GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON DOMAIN domain_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
<div class="note" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_n7bceb61b4dbb4b30870b9a86e7a1a274"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_acc32c93750ca441c8b763f51b452a618">本版本暂时不支持赋予域的访问权限。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_la72696894620487f845cfc7e8f1ba2cd">将外部数据源的访问权限赋予给指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_sd02f30e1f4d14b128fff64e380b02343">GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON FOREIGN DATA WRAPPER fdw_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ld50a23786c454a5f9022156c1340570d">将外部服务器的访问权限赋予给指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s4e2d6abc087a40e2bdd0d9d8a43c4537">GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON FOREIGN SERVER server_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_leb18afec01124132bf815ef7c2e40b9e">将函数的访问权限赋予给指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s237ad05ae9ea49149f068109eafa1339">GRANT { EXECUTE | ALL [ PRIVILEGES ] }
    ON { FUNCTION {function_name ( [ {[ argmode ] [ arg_name ] arg_type} [, ...] ] )} [, ...]
       | ALL FUNCTIONS IN SCHEMA schema_name [, ...] }
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ldf0eb02117b849618bd158d14ad689fd">将过程语言的访问权限赋予给指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_sfd53fca2f10e4134adcc1974958e635c">GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON LANGUAGE lang_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_lddbafa614df248b6b11e0cc0343550b5">将大对象的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_se0c7e82345b24fb2a50a734ceaa953ee">GRANT { { SELECT | UPDATE } [, ...] | ALL [ PRIVILEGES ] }
    ON LARGE OBJECT loid [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
<div class="note" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_n16f6eda6e6b64915b5b8766a2e9806c4"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ac043b6b5737c4a93b990d93261893c9f">本版本暂时不支持大对象。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_labe4483cb4534c8ca561b7d52ecd2fd9">将模式的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_saa1dd5bff30f4f9d98feb56127825ef8">GRANT { { CREATE | USAGE } [, ...] | ALL [ PRIVILEGES ] }
    ON SCHEMA schema_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
<div class="note" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_n27d7a0552c2644b48f1b7fc1dec5b2e1"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_zh-cn_topic_0058965813_p61234714018">将模式中的表或者视图对象授权给其他用户时，需要将表或视图所属的模式的USAGE权限同时授予该用户，若没有该权限，则只能看到这些对象的名称，并不能实际进行对象访问。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l1555ff84126d4982b671333ce94191b7">将表空间的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s064bb2adf29c420cb924dbb90ab0807f">GRANT { CREATE | ALL [ PRIVILEGES ] }
    ON TABLESPACE tablespace_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l15351614d0b5426cb308a35699337ebd">将类型的访问权限赋予指定的用户或角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_se6a8305f7e7348e88bb42b48587eaf52">GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON TYPE type_name [, ...]
    TO { [ GROUP ] role_name | PUBLIC } [, ...]
    [ WITH GRANT OPTION ];</pre>
<div class="note" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_nfd3e706d5ad4411cb4f1a78bed53cee0"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a29d57d5b8c204c348e35b0961d407054">本版本暂时不支持赋予类型的访问权限。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l909b6acf69c046c38146fab22d824fd6">将角色的权限赋予其他用户或角色的语法。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s8e34d3f10d234dbab830fabcb5963234">GRANT role_name [, ...]
   TO role_name [, ...]
   [ WITH ADMIN OPTION ];</pre>
</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l185b60900eaa4793b4e6c30498687483">将sysadmin权限赋予指定的角色。<pre class="screen" id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_s39aaa23544924df6ae27181828c2342f">GRANT ALL { PRIVILEGES | PRIVILEGE }
   TO role_name;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a4992eaaefc644b5aa009ed8a87d7363a">SELECT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_af2878880c6574fe298069013686d4636">允许对指定的表、视图、序列执行SELECT命令，update或delete时也需要对应字段上的select权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ad5b0a16494a04f3f9d1defc7d3312bc4">INSERT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a7f18f8696534460a9c0f7222e625fc1b">允许对指定的表执行INSERT命令。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ae520f18bb128484fac99f9e4465d7668">UPDATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a3470d68253d74c1e82010d1ff29701ee">允许对声明的表中任意字段执行UPDATE命令。通常，update命令也需要select权限来查询出哪些行需要更新。SELECT… FOR UPDATE和SELECT… FOR SHARE除了需要SELECT权限外，还需要UPDATE权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a295c5208a0a043f7adf100f0ec17f062">DELETE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ade4d76835c884ea895f440f9b809a327">允许执行DELETE命令删除指定表中的数据。通常，delete命令也需要select权限来查询出哪些行需要删除。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aeab398b400834e95b8406630169f41ac">TRUNCATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_zh-cn_topic_0058965813_p693168719133">允许执行TRUNCATE语句删除指定表中的所有记录。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_afd91019ff86445f28b35493086380e17">REFERENCES</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_zh-cn_topic_0058965813_p215045819139">创建一个外键约束，必须拥有参考表和被参考表的REFERENCES权限。由于当前不支持外键，所以不建议使用该参数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_acbba72d09c1c432eb5125f7df9d482fb">CREATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ue2119a6acc264d3585b5db1dad04aad1"><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l6958656d57aa4b838db30e7613fac68d">对于数据库，允许在数据库里创建新的模式。</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l1444846f14b34bc0bf64d85413305fdf">对于模式，允许在模式中创建新的对象。如果要重命名一个对象，用户除了必须是该对象的所有者外，还必须拥有该对象所在模式的CREATE权限。</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l27f59263b9c745018ec1894d0f3fc4c4">对于表空间，允许在表空间中创建表，允许在创建数据库和模式的时候把该表空间指定为缺省表空间。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a12cc964fbf2145c1867bb83e2283014b">CONNECT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_af8eaa31d8c16454f95096141e0aad327">允许用户连接到指定的数据库。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a0caec6a141f942888b48acdc175f2a6f">EXECUTE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a9f391a50c7cb4e77b243f88ed9e0a333">允许使用指定的函数，以及利用这些函数实现的操作符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ad346185278684dbda43c6476fe1a2963">USAGE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_u9e2be9e3b11f482ab69fda6bb1115131"><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l2c51d4dae23d4f84b575a17ab229703e">对于过程语言，允许用户在创建函数的时候指定过程语言。</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_l248c3550b8db46dda03aea6debb51b10">对于模式，USAGE允许访问包含在指定模式中的对象，若没有该权限，则只能看到这些对象的名称。</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_lcc9f30d2fdb946f68e4f09a8b905284e">对于序列，USAGE允许使用nextval函数。</li><li id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_li75810362380">对于Data Source对象，USAGE是指访问权限，也是可赋予的所有权限，即USAGE与ALL PRIVILEGES等价。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a5ef986d1622a4900ad333751b5a5748a">ALL PRIVILEGES</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_adba2687ee138469d98c81eb44bd0372b">一次性给指定用户/角色赋予所有可赋予的权限。只有系统管理员有权执行GRANT ALL PRIVILEGES。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a9927592555ac4f36bc36030305d63200">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ae2ffbfdc06684f60b60727eb0923d716">已存在用户名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a889accc9e99c481aa259b60e7ef6ae77">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a31435de293f6426ab94d007084d107ee">已存在表名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a05d075b247a44e1ea18cfdc1736ca386">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a248925cc99a44d02910f8e800426dc0b">已存在字段名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a66c8c64b576148e4a16f7d15fb0f6357">schema_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a168a1f33decd46709c85a552c49883e4">已存在模式名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aef57c3d94f3b4d60b9bcc26334d2e524">database_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a16a1636a9c3f4e979415d7d19d0516b1">已存在数据库名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ab6d65170b6504075a6a4f32c4064235d">funcation_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aa57fdd12839340b5965506e3ce730bd6">已存在函数名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_afdaff996d9294eafa9e02eccbfe195ce">sequence_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_zh-cn_topic_0058965813_p954458319166">已存在序列名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a46bcb481c00b47a18d12ab5037ce32f1">domain_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_af8949e748a264c10be82a7f431726880">已存在域类型名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a5b7108c542534fc5bc503fa8187d099c">fdw_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aebda197c6c134a5bb7921650c8a46dd8">已存在外部数据包名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_add6b83cd0115401382d3ed9729a23d64">lang_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_acd53cf209ea043a7a2566585b52c231a">已存在语言名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ab897b2a4416d48258a5578b5eab09273">type_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ae408daa0ee404afe90ff4e1c367126f8">已存在类型名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_b16811741191019">src_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_p1442152544713">已存在的Data Source对象名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a63a7f265a5604485be7d045636fdcf3e">argmode</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a5bf91853ac054c6299d21dea9fce7b0e">参数模式。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a0de243a938c64eb0b43857f538579a50">取值范围：字符串，要符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a063647d8dfd74f96af53005d5120eacc">arg_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_abf1db9890e0244998c5d1cc0f45e85fa">参数名称。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ae0de4ef8d05943f8abab200f825db13b">取值范围：字符串，要符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_acc07042f50a94b878e58d65111687f87">arg_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a7c63d37afe03413395128f7e9f0972fd">参数类型。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a3df3fd432cb046d3af74612dedc70a80">取值范围：字符串，要符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_add8c903d707c4abb852d5893757fba81">loid</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aa46be1ec3e9841c3835ece2d04287bb7">包含本页的大对象的标识符。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_ac0944ed764b94d2aba0d02f75d3b27b4">取值范围：字符串，要符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a1fd4a142a8c24e62aa4ad576ef5baccc">tablespace_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a089a6358efa049a490fcd8ef390a5321">表空间名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_b63513624512">directory_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_p1135863459">目录名称。</p>
<p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_p19354614453">取值范围：字符串，要符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_a1c378504691149dda22e013975c25a28">WITH GRANT OPTION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370630__zh-cn_topic_0237122166_zh-cn_topic_0059778755_aade4e36f143e46649e7457ec5ce8763f">如果声明了WITH GRANT OPTION，则被授权的用户也可以将此权限赋予他人，否则就不能授权给他人。这个选项不能赋予PUBLIC。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="INSERT" alias="INSERT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a61cac90d1dde4e3b9866817fe9f0c048">向表中添加一行或多行数据。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_u47987fb52ae4486db8a67685f522e5a5"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_lab86b9a37f6f4a15b94aa137ff8bc382">只有拥有表INSERT权限的用户，才可以向表中插入数据。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_laf2845bc725e4c37ae166f820da00544">如果使用RETURNING子句，用户必须要有该表的SELECT权限。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_li83991197312">如果使用ON DUPLICATE KEY UPDATE，用户必须要有该表的SELECT、UPDATE权限，唯一约束（主键或唯一索引）的SELECT权限。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_l2128795ee4564a2887be4c736fcbd034">如果使用query子句插入来自查询里的数据行，用户还需要拥有在查询里使用的表的SELECT权限。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_l71157b4b1a7b4dcbbd07ebb685357547">当连接到TD兼容的数据库时，td_compatible_truncation参数设置为on时，将启用超长字符串自动截断功能，在后续的insert语句中（不包含外表的场景下），对目标表中char和varchar类型的列上插入超长字符串时，系统会自动按照目标表中相应列定义的最大长度对超长字符串进行截断。<div class="note" id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_n75d2b85bc7464f688c89222394873374"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a010ce9b52f794aa69c46b1570084454e">如果向字符集为字节类型编码（SQL_ASCII，LATIN1等）的数据库中插入多字节字符数据（如汉字等），且字符数据跨越截断位置，这种情况下，按照字节长度自动截断，自动截断后会在尾部产生非预期结果。如果用户有对于截断结果正确性的要求，建议用户采用UTF8等能够按照字符截断的输入字符集作为数据库的编码集。</p>
</div></div>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--向表中插入一条记录。
postgres=# INSERT INTO tpcds.reason_t2 ( r_reason_sk , r_reason_id , r_reason_desc ) VALUES ( 1 , ' AAAAAAAABAAAAAAA ' , ' reason1 ' ) ; 

--向表中插入一条记录，和上一条语法等效。
postgres=# INSERT INTO tpcds.reason_t2 VALUES ( 2 , ' AAAAAAAABAAAAAAA ' , ' reason2 ' ) ; 

--向表中插入多条记录。
postgres=# INSERT INTO tpcds.reason_t2 VALUES ( 3 , ' AAAAAAAACAAAAAAA ' , ' reason3 ' ) , ( 4 , ' AAAAAAAADAAAAAAA ' , ' reason4 ' ) , ( 5 , ' AAAAAAAAEAAAAAAA ' , ' reason5 ' ) ; 

--向表中插入tpcds.reason中r_reason_sk小于5的记录。
postgres=# INSERT INTO tpcds.reason_t2 SELECT * FROM tpcds.reason WHERE r_reason_sk &lt;5 ; 

--向表中插入多条记录，如果冲突则更新冲突数据行中r_reason_id字段为'BBBBBBBBCAAAAAAA'。
postgres=# INSERT INTO tpcds.reason_t2 VALUES ( 5 , ' BBBBBBBBCAAAAAAA ' , ' reason5 ' ) , ( 6 , ' AAAAAAAADAAAAAAA ' , ' reason6 ' ) ON DUPLICATE KEY UPDATE r_reason_id = ' BBBBBBBBCAAAAAAA ' ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_sd7b6a2de4d2a4c4483bffa43e399598f">[ WITH [ RECURSIVE ] with_query [, ...] ]
INSERT INTO table_name [ ( column_name [, ...] ) ]
    { DEFAULT VALUES
    | VALUES {( { expression | DEFAULT } [, ...] ) }[, ...] 
    | query }
    [ ON DUPLICATE KEY UPDATE { column_name = { expression | DEFAULT } } [, ...] ]
    [ RETURNING {* | {output_expression [ [ AS ] output_name ] }[, ...]} ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_b993312118384">WITH [ RECURSIVE ] with_query [, ...]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a09580dbafcfc47a2b292aea92c5a9533">用于声明一个或多个可以在主查询中通过名称引用的子查询，相当于临时表。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a5299f04359024453ac1042a8f5ec562c">如果声明了RECURSIVE，那么允许SELECT子查询通过名称引用它自己。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_aaa01fe7c97264fdcba364650505a05ed">其中with_query的详细格式为：with_query_name [ ( column_name [, ...] ) ] AS</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a5bb64320f38f48daa7eedd1ec69b1911">( {select | values | insert | update | delete} )</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_zh-cn_topic_0058966198_p149744293314">&#8211; with_query_name指定子查询生成的结果集名称，在查询中可使用该名称访问</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a946d1f3ba4ff41ca9e15c75ff119b0bd">子查询的结果集。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a44dc10b5a4534510b89985a9a68f7fe8">&#8211; column_name指定子查询结果集中显示的列名。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_aa3426aa486cf4c858c80947ed4e395b3">&#8211; 每个子查询可以是SELECT，VALUES，INSERT，UPDATE或DELETE语句。</p>
<div class="note" id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_note2754120196"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_p1754122011919">INSERT ON DUPLICATE KEY UPDATE不支持WITH及WITH RECURSIVE子句。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a8cb8f93e91a944ae8c535f60d59e0c16">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a4bb73a186ba44c0988dd2e2479b7b139">要插入数据的目标表名。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_acf0a60fb984c40649f2ec083fc8455fc">取值范围：已存在的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a7840a87272574b5ca69986ddd9f74064">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_adc44526a04384b30819b303b29804541">目标表中的字段名：</p>
<ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_u1aee4c37f2fb459f889e83ef73275344"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_l40e58fdb6493420a99543e54a4a1a9c6">字段名可以有子字段名或者数组下标修饰。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_l5fdc065056804093ae682c1cc12907a4">没有在字段列表中出现的每个字段，将由系统默认值，或者声明时的默认值填充，若都没有则用NULL填充。例如，向一个复合类型中的某些字段插入数据的话，其他字段将是NULL。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_le9e0170a9ef544448ed6f634be38b6cb">目标字段（column_name）可以按顺序排列。如果没有列出任何字段，则默认全部字段，且顺序为表声明时的顺序。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_leee4a23871d54d86993d1b18f58849ee">如果value子句和query中只提供了N个字段，则目标字段为前N个字段。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_lb95998ca5b764cee9b4a1e0b4fb38fbd">value子句和query提供的值在表中从左到右关联到对应列。</li></ul>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a661bde2e67f64df7a359f614d3497af1">取值范围：已存在的字段名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a5b6b916a704049a88aac00d8e54ff942">expression</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_afa8403e7c99c4dd691150ca66b41f9cc">赋予对应column的一个有效表达式或值：</p>
<ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_ul136887572094"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_li1868855717919">如果是INSERT ON DUPLICATE KEY UPDATE语句下，expression可以为VALUES(column_name)或EXCLUDED.column_name用来表示引用冲突行对应的column_name字段的值。需注意，其中VALUES(column_name)不支持嵌套在表达式中（例如VALUES(column_name)+1），但EXCLUDED不受此限制。</li></ul>
<ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_u0ec5fb9cf2ec496ea03a88a58d7f6afa"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_l4f75735c75cf4b3b863d906323aab20c">向表中字段插入单引号 " ' "时需要使用单引号自身进行转义。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_l3e45e8d84209410da21a52a20a0fe216">如果插入行的表达式不是正确的数据类型，系统试图进行类型转换，若转换不成功，则插入数据失败，系统返回错误信息。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a6c187eee5e2749f2a7fabdefc43ad5fa">DEFAULT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a4d71ba1ef65f443783fc5dc41b8a05af">对应字段名的缺省值。如果没有缺省值，则为NULL。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a8c8b445122f346db843f89cf25bfceb3">query</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a7b938ce01dc8411eb78ff12c93490b15">一个查询语句（SELECT语句），将查询结果作为插入的数据。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_abd3575ddf2d6403599e31e33c17a6d2a">RETURNING</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a085df76e65ca4acd9779c7bdcfa54c71">返回实际插入的行，RETURNING列表的语法与SELECT的输出列表一致。注意：INSERT ON DUPLICATE KEY UPDATE不支持RETURNING子句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_acac26346945c4e0288cff2711ee40b1d">output_expression</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_adc7237a5e018491db104c02a02aba37b">INSERT命令在每一行都被插入之后用于计算输出结果的表达式。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_ad5e186ffccfe4a90a034df3206320001">取值范围：该表达式可以使用table的任意字段。可以使用*返回被插入行的所有字段。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_a226f01c7843e427b8eb99fdcb78f79db">output_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_aea83707163a24f828cb0595a1eb5473f">字段的输出名称。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_zh-cn_topic_0058966198_p523689214326">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_b163471519134">ON DUPLICATE KEY UPDATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_p139178785517">对于带有唯一约束（UNIQUE INDEX或PRIMARY KEY）的表，如果插入数据违反唯一约束，则对冲突行执行UPDATE子句完成更新。</p>
<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_p1764393512568">对于不带唯一约束的表，则仅执行插入。</p>
<ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_ul1155215119444"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_li145521311164411">不支持触发器，不会触发目标表的INSERT或UPDATE触发器。</li></ul>
<ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_ul124365932417"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_li1524495919245">不支持延迟生效（DEFERRABLE）的唯一约束或主键。</li></ul>
<ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_ul488282910519"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_li19882629959">如果表中存在多个唯一约束，如果所插入数据违反多个唯一约束，对于检测到冲突的第一行进行更新，其他冲突行不更新（检查顺序与索引维护具有强相关性，一般先创建的索引先进行冲突检查）。</li></ul>
<ul id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_ul5143194116512"><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_li1638118434915">分布列、唯一索引列不允许UPDATE。</li><li id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_li9697184010255">不支持列存。</li></ul>
</div></ul></div>]]></suggestion>
    <sub id="VALUES">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370631__zh-cn_topic_0237122167_zh-cn_topic_0059778902_p1665960315748">通过insert语句批量插入数据时，建议将多条记录合并入一条语句中执行插入，以提高数据加载性能。例如，INSERT INTO sections VALUES (30, 'Administration', 31, 1900),(40, 'Development', 35, 2000), (50, 'Development' , 60 , 2001);</p>
]]></suggestion>
    </sub>
  </command>
  <command id="LOCK" alias="LOCK">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ab79b9085b791497998c88c788383eb6e">LOCK TABLE获取表级锁。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a04323b39797b46f4b27138dabda9a77f"><span id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_text17111339104510"><span id="ZH-CN_TOPIC_0242370632__text122696472204">openGauss</span></span>在为一个引用了表的命令自动请求锁时，尽可能选择最小限制的锁模式。如果用户需要一种更为严格的锁模式，可以使用LOCK命令。例如，一个应用是在Read Committed隔离级别上运行事务，并且它需要保证表中的数据在事务的运行过程中不被修改。为实现这个目的，则可以在查询之前对表使用SHARE锁模式进行锁定。这样将防止数据不被并发修改，从而保证后续的查询可以读到已提交的持久化的数据。因为SHARE锁模式与任何写操作需要的ROW EXCLUSIVE模式冲突，并且LOCK TABLE name IN SHARE MODE语句将等到所有当前持有ROW EXCLUSIVE模式锁的事务提交或回滚后才能执行。因此，一旦获得该锁，就不会存在未提交的写操作，并且其他操作也只能等到该锁释放之后才能开始。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ua366ab9efb26401ba0d07916503fd5d4"><li id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_lc894783be3fc4f37a7c330c52658f851">LOCK TABLE只能在一个事务块的内部有用，因为锁在事务结束时就会被释放。出现在任意事务块外面的LOCK TABLE都会报错。</li><li id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_l65cc6f4d69944325957a478ee569ed12">如果没有声明锁模式，缺省为最严格的模式ACCESS EXCLUSIVE。</li><li id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_l30a85ac36582423eab4dc2d7ef58c61d">LOCK TABLE ... IN ACCESS SHARE MODE需要在目标表上有SELECT权限。所有其他形式的LOCK需要UPDATE和/或DELETE权限。</li><li id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_l513326ba59d84626b4533f0ce7bc107b">没有UNLOCK TABLE命令，锁总是在事务结束时释放。</li><li id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ld472d43774624bd6a7586e4e217469b2">LOCK TABLE只处理表级的锁，因此那些带“ROW”字样的锁模式都是有歧义的。这些模式名称通常可理解为用户试图在一个被锁定的表中获取行级的锁。同样，ROW EXCLUSIVE模式也是一个可共享的表级锁。注意，只要是涉及到LOCK TABLE ，所有锁模式都有相同的语意，区别仅在于规则中锁与锁之间是否冲突，规则请参见<a href="#ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ta3d4fbc3c92c4f2994f7a9f5583a6ba5">表1</a>。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--在执行删除操作时对一个有主键的表进行 SHARE ROW EXCLUSIVE 锁。
postgres=# CREATE TABLE tpcds.reason_t1 AS TABLE tpcds.reason ; 
postgres=# START TRANSACTION ; 
postgres=# LOCK TABLE tpcds.reason_t1 IN SHARE ROW EXCLUSIVE MODE ; 
postgres=# DELETE FROM tpcds.reason_t1 WHERE r_reason_desc IN ( SELECT r_reason_desc FROM tpcds.reason_t1 WHERE r_reason_sk &lt; 6 ) ; 
postgres=# DELETE FROM tpcds.reason_t1 WHERE r_reason_sk = 7 ; 
postgres=# COMMIT ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_s6c7d980e3f644d4eadd33b17d6333dbb">LOCK [ TABLE ] {[ ONLY ] name [, ...]| {name [ * ]} [, ...]}
    [ IN {ACCESS SHARE | ROW SHARE | ROW EXCLUSIVE | SHARE UPDATE EXCLUSIVE | SHARE | SHARE ROW EXCLUSIVE | EXCLUSIVE | ACCESS EXCLUSIVE} MODE ]
    [ NOWAIT ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a23cff466c43048daaece34acbb747ddc">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_aadb0fe99c95548529d946e1c76557055">要锁定的表的名称，可以有模式修饰。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a5f0ad1badcff4c2487fe9164fee2a3c2">LOCK TABLE命令中声明的表的顺序就是上锁的顺序。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a1122e68f2bed4c5da379dfa4a3cc3989">取值范围：已存在的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a63f5f7d85d3345eb812eb3e061480bc9">ONLY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a85b4e994aeee4d1c8bb2a54fdbc02fae">如果指定ONLY，只有该表被锁定。如果没有声明，该表和他的所有子表将都被锁定。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a1ac808b79ddc401d99fa9def5869ef63">ACCESS SHARE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_afade5e566d1f4981a4c6c636ce24a2d7">ACCESS锁只允许对表进行读取，而禁止对表进行修改。所有对表进行读取而不修改的SQL语句都会自动请求这种锁。例如，SELECT命令会自动在被引用的表上请求一个这种锁。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ac4b1af12e78d43c4890d287e99ca9539">ROW SHARE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a3a60be58e320422488dc566e33ec599e">ROW SHARE锁允许对表进行并发读取，禁止对表进行其他操作。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_aa3a52e47637448be91436223e2e71c68">SELECT FOR UPDATE和SELECT FOR SHARE命令会自动在目标表上请求ROW SHARE锁（且所有被引用但不是FOR SHARE/FOR UPDATE的其他表上，还会自动加上ACCESS SHARE锁）。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a30a8205b19d149cebab41ce646e065c7">ROW EXCLUSIVE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a3e16f533c7e84cf58fb0230b3fb508bc">与ROW SHARE锁相同，ROW EXCLUSIVE允许并发读取表，但是禁止修改表中数据。UPDATE，DELETE，INSERT命令会自动在目标表上请求这个锁（且所有被引用的其他表上还会自动加上的ACCESS SHARE锁）。通常情况下，所有会修改表数据的命令都会请求表的ROW EXCLUSIVE锁。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a8402d8f72d8b4cdfa70602777051d59f">SHARE UPDATE EXCLUSIVE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a19fedc5365be4038a3b4760d2fc52f8b">这个模式保护一个表的模式不被并发修改，以及禁止在目标表上执行垃圾回收命令（VACUUM ）。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ab7f9d13e95e946ea9f1fe10d85dc9627">VACUUM（不带FULL选项），ANALYZE，CREATE INDEX CONCURRENTLY命令会自动请求这样的锁。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a2acc509d30fb41879d849a72abd47600">SHARE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_aa68f8a5ea8d54ffcb2ad09e9ae0e4b74">SHARE锁允许并发的查询，但是禁止对表进行修改。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a3e374c353dea42a28f880cd42d625f1d">CREATE INDEX（不带CONCURRENTLY选项）语句会自动请求这种锁。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a668c81f36e3d4adfa9e562b7556ab5ff">SHARE ROW EXCLUSIVE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ae70a36d55d454da8b317a2f25d3b4f0e">SHARE ROW EXCLUSIVE锁禁止对表进行任何的并发修改，而且是独占锁，因此一个会话中只能获取一次。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a7949635521e04c7a8300e94dc0f2172d">任何SQL语句都不会自动请求这个锁模式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a1091042c6faf497ab01af5a5d1085a58">EXCLUSIVE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ac554465a92f74fd188fa6f8d531390a9">EXCLUSIVE锁允许对目标表进行并发查询，但是禁止任何其他操作。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ab3f6c826e832473b9c838f2adebecbf3">这个模式只允许并发加ACCESS SHARE锁，也就是说，只有对表的读动作可以和持有这个锁模式的事务并发执行。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ae51201b666a1464f83f419e348029b3b">任何SQL语句都不会在用户表上自动请求这个锁模式。然而在某些操作的时候，会在某些系统表上请求它。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_ac1ed9028143e47e4875d1bfcce1d7dce">ACCESS EXCLUSIVE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_zh-cn_topic_0058965647_p878285143633">这个模式保证其所有者（事务）是可以访问该表的唯一事务。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_a920ed0ba91f2468386909f19e40600c5">ALTER TABLE，DROP TABLE，TRUNCATE，REINDEX，CLUSTER，VACUUM FULL命令会自动请求这种锁。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_afdd488ed074542e59e2a3a763ea68fa2">在LOCK TABLE命令没有明确声明需要的锁模式时，它是缺省锁模式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_af34be86daef54e27a9e354db7ac6a5fd">NOWAIT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_zh-cn_topic_0058965647_p84498995948">声明LOCK TABLE不去等待任何冲突的锁释放，如果无法立即获取该锁，该命令退出并且发出一个错误信息。</p>
<p id="ZH-CN_TOPIC_0242370632__zh-cn_topic_0237122168_zh-cn_topic_0059778442_zh-cn_topic_0058965647_p760490495948">在不指定NOWAIT的情况下获取表级锁时，如果有其他互斥锁存在的话，则等待其他锁的释放。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="MOVE" alias="MOVE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370633__zh-cn_topic_0237122169_zh-cn_topic_0059778649_zh-cn_topic_0058966130_p193925881216">MOVE在不检索数据的情况下重新定位一个游标。MOVE的作用类似于<a>FETCH</a>命令，但只是重定位游标而不返回行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--忽略游标cursor1的前3行。
postgres=# MOVE FORWARD 3 FROM cursor1 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370633__zh-cn_topic_0237122169_zh-cn_topic_0059778649_s515c6fe3f7ae46829bd19e5db758c7e8">MOVE [ direction [ FROM | IN ] ] cursor_name;</pre>
<p id="ZH-CN_TOPIC_0242370633__zh-cn_topic_0237122169_zh-cn_topic_0059778649_af9f4018442094833b51b6df14885ad09">其中direction子句为可选参数。</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370633__zh-cn_topic_0237122169_zh-cn_topic_0059778649_s00e6bee9dd114d0ab8a591510dbe8a6b">NEXT
   | PRIOR
   | FIRST
   | LAST
   | ABSOLUTE count
   | RELATIVE count
   | count
   | ALL
   | FORWARD
   | FORWARD count
   | FORWARD ALL
   | BACKWARD
   | BACKWARD count
   | BACKWARD ALL</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370633__zh-cn_topic_0237122169_zh-cn_topic_0059778649_zh-cn_topic_0058966130_p64249421216">MOVE命令的参数与FETCH的相同，详细请参见FETCH的<a>参数说明</a>。</p>
<div class="note" id="ZH-CN_TOPIC_0242370633__zh-cn_topic_0237122169_zh-cn_topic_0059778649_n60595ebdbede4ec9addc5c075f319304"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370633__zh-cn_topic_0237122169_zh-cn_topic_0059778649_zh-cn_topic_0058966130_p236676611216">成功完成时，MOVE命令将返回一个“MOVE count”的标签，count是一个使用相同参数的FETCH命令会返回的行数（可能为零）。</p>
</div></div>
</div>]]></suggestion>
  </command>
  <command id="MERGE INTO" alias="MERGE INTO">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p1593511493188">通过MERGE INTO语句，将目标表和源表中数据针对关联条件进行匹配，若关联条件匹配时对目标表进行UPDATE，无法匹配时对目标表执行INSERT。此语法可以很方便地用来合并执行UPDATE和INSERT，避免多次执行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_ul465523022711"><li id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_li1265553012278">进行MERGE INTO操作的用户需要同时拥有目标表的UPDATE和INSERT权限，以及源表的SELECT权限。</li><li id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_li47909342275">不支持重分布过程中MERGE INTO。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">-- 进行MERGE INTO操作
postgres=# MERGE INTO products p
USING newproducts np
ON ( p.product_id = np.product_id ) 
WHEN MATCHED THEN
UPDATE SET p.product_name = np.product_name , p.category = np.category WHERE p.product_name != ' play gym ' 
WHEN NOT MATCHED THEN
INSERT VALUES ( np.product_id , np.product_name , np.category ) WHERE np.category = ' books ' ; 
MERGE 4
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_screen836344319819">MERGE INTO table_name [ [ AS ] alias ]
USING { { table_name | view_name } | subquery } [ [ AS ] alias ]
ON ( condition )
[
  WHEN MATCHED THEN
  UPDATE SET { column_name = { expression | DEFAULT } |
          ( column_name [, ...] ) = ( { expression | DEFAULT } [, ...] ) } [, ...]
  [ WHERE condition ]
]
[
  WHEN NOT MATCHED THEN
  INSERT { DEFAULT VALUES |
  [ ( column_name [, ...] ) ] VALUES ( { expression | DEFAULT } [, ...] ) [, ...] [ WHERE condition ] }
];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b6293120125319">INTO子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_zh-cn_topic_0059778902_a4bb73a186ba44c0988dd2e2479b7b139">指定正在更新或插入的目标表。目标表为复制表时，暂不支持目标表中某列默认值为volatile函数（如自增列），enable_stream_operator=off时目标表需要包含主键或带有unique not null。</p>
<ul id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_ul1536131117155"><li id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_li355611952012"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b457694211213">talbe_name</strong><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p139262952113">目标表的表名。</p>
</li><li id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_zh-cn_topic_0059778969_le183abcaaecb42ef84a3df7b107b8ccf"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_zh-cn_topic_0059778969_a2dfc728837304df5b94c53f3dd2e81ba">alias</strong><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_zh-cn_topic_0059778969_ab6967f48ff6644e88db9b168b419f8a5">目标表的别名。</p>
<p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_zh-cn_topic_0059778969_ac11edd25b5d44f64ac7aa56ffc82ae42">取值范围：字符串，符合标识符命名规范。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b038815526222">USING子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p58570217715">指定源表，源表可以为表、视图或子查询。目标表为复制表时，暂不支持USING子句中包含非复制表。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b43151096475">ON子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_zh-cn_topic_0059777449_a00c7d22d949e44d2afee4a909d31b238">关联条件，用于指定目标表和源表的关联条件。不支持更新关联条件中的字段。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b98745324920">WHEN MATCHED子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p12887162312286">当源表和目标表中数据针对关联条件可以匹配上时，选择WHEN MATCHED子句进行UPDATE操作。</p>
<p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p79501031124716">不支持更新分布列。不支持更新系统表、系统列。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b45865724915">WHEN NOT MATCHED子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p14681335172619">当源表和目标表中数据针对关联条件无法匹配时，选择WHEN NOT MATCHED子句进行INSERT操作。</p>
<p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p46549488473">不支持INSERT子句中包含多个VALUES。</p>
<p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p20458113872611">WHEN MATCHED和WHEN NOT MATCHED子句顺序可以交换，可以缺省其中一个，但不能同时缺省，不支持同时指定两个WHEN MATCHED或WHEN NOT MATCHED子句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b38861734141614">DEFAULT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p988643414168">用对应字段的缺省值填充该字段。</p>
<p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p17886034161616">如果没有缺省值，则为NULL。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_b20886193481611">WHERE condition</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370634__zh-cn_topic_0237122170_p188603471617">UPDATE子句和INSERT子句的条件，只有在条件满足时才进行更新操作，可缺省。不支持WHERE条件中引用系统列。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="PREPARE" alias="PREPARE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_p2067411569013">创建一个预备语句。</p>
<p id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_adeb706f2fa9a4787b269fdc2018ecbc6">预备语句是服务端的对象，可以用于优化性能。在执行PREPARE语句的时候，指定的查询被解析、分析、重写。当随后发出EXECUTE语句的时候，预备语句被规划和执行。这种设计避免了重复解析、分析工作。PREPARE语句创建后在整个数据库会话期间一直存在，一旦创建成功，即便是在事务块中创建，事务回滚，PREPARE也不会删除。只能通过显式调用<a>DEALLOCATE</a>进行删除，会话结束时，PREPARE也会自动删除。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--为一个INSERT语句创建一个预备语句然后执行它。
postgres=# PREPARE insert_reason ( integer , character ( 16 ) , character ( 100 ) ) AS INSERT INTO tpcds.reason_t1 VALUES ( $1 , $2 , $3 ) ; 
postgres=# EXECUTE insert_reason ( 52 , ' AAAAAAAADDAAAAAA ' , ' reason 52 ' ) ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_s0229ee3290c64764a9d2e6007dde8bf5">PREPARE name [ ( data_type [, ...] ) ] AS statement;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_a5cd673ec183b4a259ca32f433b37ea2d">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_a6f55d59b2cc242a081373442d1f763d0">指定预备语句的名称。它必须在该会话中是唯一的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_a8a0168b042124ca595af04c645ace4ed">data_type</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_a7c3cf839dc884df9b363db11d1e1681a">参数的数据类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_ad59f54087b864b9e853a7e20f3a4d3bf">statement</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370635__zh-cn_topic_0237122171_zh-cn_topic_0059778631_a40f750a5ae2d449d9125d8369adcfcf2">是SELECT INSERT、UPDATE、DELETE、MERGE INTO或VALUES语句之一。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="PREPARE TRANSACTION" alias="PREPARE TRANSACTION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_p11485361015">为当前事务做两阶段提交的准备。</p>
<p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_ab7624807fd08454fa92c888d22d3daae">在命令之后，事务就不再和当前会话关联了；它的状态完全保存在磁盘上，它被提交成功的可能性非常高，即使是在请求提交之前数据库发生了崩溃也如此。</p>
<p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_a7afd46ed1108454091e6769d5157f948">一旦准备好了，一个事务就可以在稍后用<a>COMMIT PREPARED</a>或 <a>ROLLBACK PREPARED</a>命令分别进行提交或者回滚。这些命令可以从任何会话中发出，而不光是最初执行事务的那个会话。</p>
<p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_a4d1952c2a893476abe2c537a5512abc4">从发出命令的会话的角度来看，PREPARE TRANSACTION不同于ROLLBACK：在执行它之后，就不再有活跃的当前事务了，并且预备事务的效果无法见到 (在事务提交的时候其效果会再次可见)。</p>
<p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_acdc46b418f2540b7ac4b07b280c5bb5c">如果PREPARE TRANSACTION因为某些原因失败，那么它就会变成一个ROLLBACK，当前事务被取消。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_ua761929ea09e4409ac3c2c6b9855a068"><li id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_lad6c5dd576324e9783e36f0351223360">事务功能由数据库自动维护，不应显式使用事务功能。</li><li id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_l089e2ef0a4854b4fbd6064fb82abd0eb">在运行PREPARE TRANSACTION命令时，必须在postgresql.conf配置文件中增大max_prepared_transactions的数值。建议至少将其设置为等于max_connections，这样每个会话都可以有一个等待中的预备事务。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_sf6dca8a74aa04fdd92ab8a7d4b3a70c7">PREPARE TRANSACTION transaction_id;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_a513a732b59f7459880144b35d43a484e"><strong id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_a333a74e36fa24df48dccc4a4136596f8">transaction_id</strong></p>
<p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_a635d1d7510b04cf3a366d301cadfb8ed">待提交事务的标识符，用于后面在COMMIT PREPARED或ROLLBACK PREPARED的时候标识这个事务。它不能和任何当前预备事务已经使用了的标识符同名。</p>
<p id="ZH-CN_TOPIC_0242370636__zh-cn_topic_0237122172_zh-cn_topic_0059779173_a0eea5cd1de304906af8c4abd9ac823c9">取值范围：标识符必须以字符串文本的方式书写，并且必须小于200字节长。</p>
</div>]]></suggestion>
  </command>
  <command id="REASSIGN OWNED" alias="REASSIGN OWNED">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_p89891140821">修改数据库对象的属主。</p>
<p id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_a55030298f6434e78ba77a34e6379c4a0">REASSIGN OWNED要求系统将所有old_roles拥有的数据库对象的属主更改为new_role。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_u1c671900c2cb432e9a710abac0ad5ad4"><li id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_l4c6048b2224b482885f99e85da0baa68">REASSIGN OWNED常用于在删除角色之前的准备工作。</li><li id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_l3272b8d246ac42579410886bd6ffbd37">执行REASSIGN OWNED需要有原角色和目标角色上的权限。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_s95decfe083914a428249bc339acb7b9d">REASSIGN OWNED BY old_role [, ...] TO new_role;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_aeede9773cef645d497c5021861e79591">old_role</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_afd8a6ddc7b26400881b4d79eb53ad881">旧属主的角色名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_a24a09027102d4083aa9b88f83f83c018">new_role</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370637__zh-cn_topic_0237122173_zh-cn_topic_0059779106_a5c1baefb67e84680ba2c10dbc51c8ed7">将要成为这些对象属主的新角色的名称。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="REINDEX" alias="REINDEX">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_p941089202816">为表中的数据重建索引。</p>
<p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_ae03ab5f93021436c8c152507884fdf9e">在以下几种情况下需要使用REINDEX重建索引：</p>
<ul id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_u3d1bd3c88f124834bebbda2aafac3a93"><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_lb2b0b17548514204ad8d5d07bf786cf3">索引崩溃，并且不再包含有效的数据。</li><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_lefafd34defc24e1c8fd9a076af3d3594">索引变得“臃肿”，包含大量的空页或接近空页。</li><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_l05e711843b5240dfbb95856a23eeb02c">为索引更改了存储参数（例如填充因子），并且希望这个更改完全生效。<p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_aa0fc94d5163b40bd942627a4f1543a07">使用CONCURRENTLY选项创建索引失败，留下了一个“非法”索引。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_a86f3b70379744502b96e71c325c33e03">REINDEX DATABASE和SYSTEM这种形式的重建索引不能在事务块中执行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--重建一个单独索引。
postgres=# REINDEX INDEX tpcds.tpcds_customer_index1 ; 

--重建表tpcds.customer_t1上的所有索引。
postgres=# REINDEX TABLE tpcds.customer_t1 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_u483658329f63425f98990882f59ad2bf"><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_l4e54dda8aa5242f38c1f12bd3c30c587">重建普通索引。<pre class="screen" id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_se138f9e1ec16428ca74f4657b79c1078">REINDEX { INDEX | [INTERNAL] TABLE | DATABASE | SYSTEM } name [ FORCE ];</pre>
</li></ul>
<ul id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_ub7fe2ae39a534403a1fb0628b63fd2de"><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_lce221b601bcb4b229489f865f73a51d2">重建索引分区。<pre class="screen" id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_sc708a0b967644624a33c1fcccc87ac5b">REINDEX  { INDEX|  [INTERNAL] TABLE} name
    PARTITION partition_name [ FORCE  ];</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b5139449714957">INDEX</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_ae5fc302cb55a40c696afed5a9dc1a8e8">重新建立指定的索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b630631612616">INTERNAL TABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_p356117448318">重建列存表或Hadoop内表的Desc表的索引，如果表有从属的"TOAST"表，则这个表也会重建索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b2822377614101">TABLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_a99359c728380409faa507a79c9f6d8f9">重新建立指定表的所有索引，如果表有从属的"TOAST"表，则这个表也会重建索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b4819684214104">DATABASE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_a17f17b70b2d74cb1a504ae9f217ca128">重建当前数据库里的所有索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b912210514108">SYSTEM</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_a29e093bbdd1545fba4cf32f4219053dc">在当前数据库上重建所有系统表上的索引。不会处理在用户表上的索引。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b24633835141013">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_zh-cn_topic_0058965688_p750143514506">需要重建索引的索引、表、数据库的名称。表和索引可以有模式修饰。</p>
<div class="note" id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_n486c5e5549d740e1bb6f351b7641dbf4"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_zh-cn_topic_0058965688_p363651714506">REINDEX DATABASE和SYSTEM只能重建当前数据库的索引，所以name必须和当前数据库名称相同。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b12670019141017">FORCE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_a56f620e9aa60441c89bac47ec6b19ce5">无效选项，会被忽略。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_b45988090141022">partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_ae0807a7269604a8fa5d5e41d6612ec78">需要重建索引的分区的名称或者索引分区的名称。</p>
<p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_a581ba18454994e1ab34df4a054ae83a5">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_u99179db3595c4c4393afdd8d99360a46"><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_laf89b8526956462da17c9e96d2f88a36">如果前面是REINDEX INDEX，则这里应该指定索引分区的名称；</li><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_l5cb4b1351f8d451dbabb7e9104a01d76">如果前面是REINDEX TABLE，则这里应该指定分区的名称；</li><li id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_li1319083319382">如果前面是REINDEX INTERNAL TABLE，则这里应该指定列存分区表的分区的名称。</li></ul>
</div></ul></div>]]></suggestion>
    <sub id="INTERNAL TABLE">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_p15277202814154">此种情况大多用于故障恢复，不建议进行并发操作。</p>
]]></suggestion>
    </sub>
    <sub id="DATABASE">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_p45802117152326">不建议在事务中reindex database。</p>
]]></suggestion>
    </sub>
    <sub id="SYSTEM">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370638__zh-cn_topic_0237122174_zh-cn_topic_0059777511_p25015007152422">不建议在事务中reindex系统表。</p>
]]></suggestion>
    </sub>
  </command>
  <command id="RELEASE SAVEPOINT" alias="RELEASE SAVEPOINT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_p1033084912210">RELEASE SAVEPOINT删除一个当前事务先前定义的保存点。</p>
<p id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_p1330154916224">把一个保存点删除就令其无法作为回滚点使用，除此之外它没有其它用户可见的行为。它并不能撤销在保存点建立起来之后执行的命令的影响。要撤销那些命令可以使用ROLLBACK TO SAVEPOINT 。在不再需要的时候删除一个保存点可以令系统在事务结束之前提前回收一些资源。</p>
<p id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_p10331549162211">RELEASE SAVEPOINT也删除所有在指定的保存点建立之后的所有保存点。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_ul3555753695410"><li id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_li6504096295410">不能RELEASE一个没有定义的保存点，语法上会报错。</li><li id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_li1180473295414">如果事务在回滚状态，则不能释放保存点。</li><li id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_li626301495417">如果多个保存点拥有同样的名称，只有最近定义的那个才被释放。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--删除保存点。
postgres=# RELEASE SAVEPOINT my_savepoint;
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_screen57337169227">RELEASE [ SAVEPOINT ] <em id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_i36085225171534">savepoint_name;</em></pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_p107345163227"><strong id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_b8301214135112">savepoint_name</strong></p>
<p id="ZH-CN_TOPIC_0242370641__zh-cn_topic_0237122177_zh-cn_topic_0059778044_p197341716182215">要删除的保存点的名称</p>
</div>]]></suggestion>
  </command>
  <command id="RESET" alias="RESET">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_acf372b9f8c944b9c8682f2c926d54c75">RESET将指定的运行时参数恢复为缺省值。这些参数的缺省值是指postgresql.conf配置文件中所描述的参数缺省值。</p>
<p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a27999c7b474f4399b12cad9cc89b84a5">RESET命令与如下命令的作用相同：</p>
<p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a56766a63d4424099862dc040a2a0a579">SET configuration_parameter TO DEFAULT</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_af23fce8696d74ac192a2a09e7bda9a04">RESET的事务性行为和SET相同：它的影响将会被事务回滚撤销。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--把timezone设为缺省值。
postgres=# RESET timezone ; 

--把所有参数设置为缺省值。
postgres=# RESET ALL ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_s5cb26f0b6dbc432f8769291ac2ba725d">RESET {configuration_parameter | CURRENT_SCHEMA | TIME ZONE | TRANSACTION ISOLATION LEVEL | SESSION AUTHORIZATION | ALL };</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a774fd55232ae4c80b4d4020e0661a3f7">configuration_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a102f3bba88144798b861ba64b6330256">运行时参数的名称。</p>
<p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a8a9532eca5754c9d9f9388beb80bb6df">取值范围：可以使用SHOW ALL命令查看运行时参数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a072fe8a2de66470392bc76025716bf70">CURRENT_SCHEMA</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_ae58c87180ee34e63b52d41f862e49c99">当前模式</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a4183dbed1c4a4240a88ca8c20bf38882">TIME ZONE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_aa26eef823cd04bb68284016718638e57">时区。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a61b899155f9549f5a201ade744aa1fd4">TRANSACTION ISOLATION LEVEL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a6e6e1cf9a75447e4949b9a6ef6961a25">事务的隔离级别。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a5801da14a88040db8dd9a28a71ac9d7d">SESSION AUTHORIZATION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a22441a6cffd441e5939a5586f6423de5">当前会话的用户标识符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_a451080f0f7814df1b360859a560f1411">ALL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370642__zh-cn_topic_0237122178_zh-cn_topic_0059779097_aa8cfa3ce42654130adefaa7749a16092">所有运行时参数。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="REVOKE" alias="REVOKE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_ad15e5a0d6fcc4ad687216718a1d08e00">REVOKE用于撤销一个或多个角色的权限。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_a70fa2247e94a4d69b3dd0e5ab890416c">非对象所有者试图在对象上REVOKE权限，命令按照以下规则执行：</p>
<ul id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_u3b457081b16742e68081c066fc2054b0"><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l2cdf8891fa45468e80f96229fa174ea6">如果授权用户没有该对象上的权限，则命令立即失败。</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l335c48c5ad744728b781c51ccfad2a9b">如果授权用户有部分权限，则只撤销那些有授权选项的权限。</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l2a3506a3296347c799105978c90e655b">如果授权用户没有授权选项，REVOKE ALL PRIVILEGES形式将发出一个错误信息，而对于其他形式的命令而言，如果是命令中指定名称的权限没有相应的授权选项，该命令将发出一个警告。</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l420a46ddf0aa4f13bf955e20c7726f3d">不允许对表分区进行REVOKE操作，对分区表进行REVOKE操作会引起告警。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">postgres=# CREATE USER joe PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT ALL PRIVILEGES TO joe ; 
授权成功后，用户joe会拥有sysadmin的所有权限。
示例：将对象权限授权给用户或者角色。
撤销joe用户的sysadmin权限，然后将模式tpcds的使用权限和表tpcds.reason的所有权限授权给用户joe。postgres=# REVOKE ALL PRIVILEGES FROM joe ; 
postgres=# GRANT USAGE ON SCHEMA tpcds TO joe ; 
postgres=# GRANT ALL PRIVILEGES ON tpcds.reason TO joe ; 
授权成功后，joe用户就拥有了tpcds.reason表的所有权限，包括增删改查等权限。
将tpcds.reason表中r_reason_sk、r_reason_id、r_reason_desc列的查询权限，r_reason_desc的更新权限授权给joe。postgres=# GRANT select ( r_reason_sk , r_reason_id , r_reason_desc ) , update ( r_reason_desc ) ON tpcds.reason TO joe ; 
授权成功后，用户joe对tpcds.reason表中r_reason_sk，r_reason_id的查询权限会立即生效。如果joe用户需要拥有将这些权限授权给其他用户的权限，可以通过以下语法对joe用户进行授权。
postgres=# GRANT select ( r_reason_sk , r_reason_id ) ON tpcds.reason TO joe WITH GRANT OPTION ; 
将数据库postgres的连接权限授权给用户joe，并给予其在postgres中创建schema的权限，而且允许joe将此权限授权给其他用户。
postgres=# GRANT create , connect on database postgres TO joe WITH GRANT OPTION ; 
创建角色tpcds_manager，将模式tpcds的访问权限授权给角色tpcds_manager，并授予该角色在tpcds下创建对象的权限，不允许该角色中的用户将权限授权给其他人。
postgres=# CREATE ROLE tpcds_manager PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT USAGE , CREATE ON SCHEMA tpcds TO tpcds_manager ; 
将表空间tpcds_tbspc的所有权限授权给用户joe，但用户joe无法将权限继续授予其他用户。
postgres=# CREATE TABLESPACE tpcds_tbspc RELATIVE LOCATION ' tablespace/tablespace_1 ' ; 
postgres=# GRANT ALL ON TABLESPACE tpcds_tbspc TO joe ; 
示例：将用户或者角色的权限授权给其他用户或角色。
创建角色manager，将joe的权限授权给manager，并允许该角色将权限授权给其他人。postgres=# CREATE ROLE manager PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT joe TO manager WITH ADMIN OPTION ; 
创建用户senior_manager，将用户manager的权限授权给该用户。postgres=# CREATE ROLE senior_manager PASSWORD ' Bigdata@123 ' ; 
postgres=# GRANT manager TO senior_manager ; 
撤销权限，并清理用户。postgres=# REVOKE manager FROM joe ; 
postgres=# REVOKE senior_manager FROM manager ; 
postgres=# DROP USER manager ; 
示例：撤销上述授予的权限，并清理角色和用户。
postgres=# REVOKE ALL PRIVILEGES ON tpcds.reason FROM joe ; 
postgres=# REVOKE ALL PRIVILEGES ON SCHEMA tpcds FROM joe ; 
postgres=# REVOKE ALL ON TABLESPACE tpcds_tbspc FROM joe ; 
postgres=# DROP TABLESPACE tpcds_tbspc ; 
postgres=# REVOKE USAGE , CREATE ON SCHEMA tpcds FROM tpcds_manager ; 
postgres=# DROP ROLE tpcds_manager ; 
postgres=# DROP ROLE senior_manager ; 
postgres=# DROP USER joe CASCADE ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_ud03ae9484bd7492d9b3ce4bcf0fcd92d"><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_lfe3d43e1c6ed447599b427c3e8e118ec">回收指定表和视图上权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_s1cbae7208ff641c4b35830fa7abff0cf">REVOKE [ GRANT OPTION FOR ]
    { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES }[, ...] 
    | ALL [ PRIVILEGES ] }
    ON { [ TABLE ] table_name [, ...]
       | ALL TABLES IN SCHEMA schema_name [, ...] }
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l2b31beb884684822a2472c6f900d8a7b">回收表上指定字段权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_sdde234eebf3b4143bc1fd8ebd8f6f7f1">REVOKE [ GRANT OPTION FOR ]
    { {{ SELECT | INSERT | UPDATE | REFERENCES } ( column_name [, ...] )}[, ...] 
    | ALL [ PRIVILEGES ] ( column_name [, ...] ) }
    ON [ TABLE ] table_name [, ...]
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_lbee825b5e4d545a490823d3571b6834a">回收指定数据库上权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_s2fd98399195347ae8cc74a8485ed97cb">REVOKE [ GRANT OPTION FOR ]
    { { CREATE | CONNECT | TEMPORARY | TEMP } [, ...] 
    | ALL [ PRIVILEGES ] }
    ON DATABASE database_name [, ...]
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l2c20827f9ded4dce8fe4dfde19f5b328">回收指定函数上权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_s0c39abf7e8e948d083c3ab25ea599909">REVOKE [ GRANT OPTION FOR ]
    { EXECUTE | ALL [ PRIVILEGES ] }
    ON { FUNCTION {function_name ( [ {[ argmode ] [ arg_name ] arg_type} [, ...] ] )} [, ...]
       | ALL FUNCTIONS IN SCHEMA schema_name [, ...] }
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_la71991d977dd4e50b6e84d061fde54e7">回收指定大对象上权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_sf144c87206f44f1b85e5ea818c12a2fa">REVOKE [ GRANT OPTION FOR ]
    { { SELECT | UPDATE } [, ...] | ALL [ PRIVILEGES ] }
    ON LARGE OBJECT loid [, ...]
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_lc250133173514957b0b6f1660df756f1">回收指定模式上权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_sd7f43ae1546747e58281ed20d7c800ac">REVOKE [ GRANT OPTION FOR ]
    { { CREATE | USAGE } [, ...] | ALL [ PRIVILEGES ] }
    ON SCHEMA schema_name [, ...]
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l3024d43e3a204daebfc69e6ad0456059">回收指定表空间上权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_s426207c57a0e46f0876961acc100ce2e">REVOKE [ GRANT OPTION FOR ]
    { CREATE | ALL [ PRIVILEGES ] }
    ON TABLESPACE tablespace_name [, ...]
    FROM { [ GROUP ] role_name | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l74bafdb55a76493d887cf968a5a02637">按角色回收角色上的权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_s9a99a423dfd543e6bc380d45f5180a9d">REVOKE [ ADMIN OPTION FOR ]
    role_name [, ...] FROM role_name [, ...]
    [ CASCADE | RESTRICT ];</pre>
</li><li id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_l799cab40aedb435ebd897fa953cefb68">回收角色上的sysadmin权限。<pre class="screen" id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_saae89a8dd9f7460e8c298af0753a28b0">REVOKE ALL { PRIVILEGES | PRIVILEGE } FROM role_name;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_a359d05ba131e403b9db97f13c21a419d">关键字PUBLIC表示一个隐式定义的拥有所有角色的组。</p>
<p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_a5628bbd205a14a979b3c6ec694cfdf1c">权限类别和参数说明，请参见GRANT的<a>参数说明</a>。</p>
<p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_p1856754015244">任何特定角色拥有的特权包括直接授予该角色的特权、从该角色作为其成员的角色中得到的权限以及授予给PUBLIC的权限。因此，从PUBLIC收回SELECT特权并不一定会意味着所有角色都会失去在该对象上的SELECT特权，那些直接被授予的或者通过另一个角色被授予的角色仍然会拥有它。类似地，从一个用户收回SELECT后，如果PUBLIC仍有SELECT权限，该用户还是可以使用SELECT。</p>
<p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_a40df548c53314780be0d8f4b5ebc9b1d">指定GRANT OPTION FOR时，只撤销对该权限授权的权力，而不撤销该权限本身。</p>
<p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_a80a31065a9794a9a843aa07bc2eb9b9b">如用户A拥有某个表的UPDATE权限，及WITH GRANT OPTION选项，同时A把这个权限赋予了用户B，则用户B持有的权限称为依赖性权限。当用户A持有的权限或者授权选项被撤销时，依赖性权限仍然存在，但如果声明了CASCADE，则所有依赖性权限都被撤销。</p>
<p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_ac5c28c26710b4713a2c4086f00bfb53c">一个用户只能撤销由它自己直接赋予的权限。例如，如果用户A被指定授权（WITH ADMIN OPTION）选项，且把一个权限赋予了用户B，然后用户B又赋予了用户C，则用户A不能直接将C的权限撤销。但是，用户A可以撤销用户B的授权选项，并且使用CASCADE。这样，用户C的权限就会自动被撤销。另外一个例子：如果A和B都赋予了C同样的权限，则A可以撤销他自己的授权选项，但是不能撤销B的，因此C仍然拥有该权限。</p>
<p id="ZH-CN_TOPIC_0242370643__zh-cn_topic_0237122179_zh-cn_topic_0059779274_afa0c38b5c916451e85ba47962234270f">如果执行REVOKE的角色持有的权限是通过多层成员关系获得的，则具体是哪个包含的角色执行的该命令是不确定的。在这种场合下，最好的方法是使用SET ROLE成为特定角色，然后执行REVOKE，否则可能导致删除了不想删除的权限，或者是任何权限都没有删除。</p>
</div>]]></suggestion>
  </command>
  <command id="ROLLBACK" alias="ROLLBACK">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370644__zh-cn_topic_0237122180_zh-cn_topic_0059778963_p36237812610">回滚当前事务并取消当前事务中的所有更新。</p>
<p id="ZH-CN_TOPIC_0242370644__zh-cn_topic_0237122180_zh-cn_topic_0059778963_adb5b2eb195bd4f8d93f94ebd765a717e">在事务运行的过程中发生了某种故障，事务不能继续执行，系统将事务中对数据库的所有已完成的操作全部撤销，数据库状态回到事务开始时。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370644__zh-cn_topic_0237122180_zh-cn_topic_0059778963_a7acf1411bec24318a3bcc003d2fb6373">如果不在一个事务内部发出ROLLBACK不会有问题，但是将抛出一个NOTICE信息。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--取消所有更改
postgres=# ROLLBACK ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370644__zh-cn_topic_0237122180_zh-cn_topic_0059778963_sbc53ab944f254b52b8d41131ad68e6b2">ROLLBACK [ WORK | TRANSACTION ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370644__zh-cn_topic_0237122180_zh-cn_topic_0059778963_af7e1b74ded384bf09586fb78d80fcbcb"><strong id="ZH-CN_TOPIC_0242370644__zh-cn_topic_0237122180_zh-cn_topic_0059778963_a82648d4129ca4d34afd14aa4351bc1ba">WORK | TRANSACTION</strong></p>
<p id="ZH-CN_TOPIC_0242370644__zh-cn_topic_0237122180_zh-cn_topic_0059778963_a15bec5e7dc244eaebaec5d6c0d48d029">可选关键字。除了增加可读性，没有任何其他作用。</p>
</div>]]></suggestion>
  </command>
  <command id="ROLLBACK PREPARED" alias="ROLLBACK PREPARED">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_a3e7c3d35179a476f8cb9839fcdc7dfab">取消一个先前为两阶段提交准备好的事务。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_u1864182ceebb427797e6f9e527942702"><li id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_lba553adefc5b4246ab3daf56d230d24a">该功能仅在维护模式(GUC参数xc_maintenance_mode为on时)下可用。该模式谨慎打开，一般供维护人员排查问题使用，一般用户不应使用该模式。</li><li id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_la43f7bebddfd46d09425abfec015cd83">要想回滚一个预备事务，必须是最初发起事务的用户，或者是系统管理员。</li><li id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_l23cce452c4014d6e877d6d2cf1153b1c">事务功能由数据库自动维护，不应显式使用事务功能。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_s49ac8128a104468d8b90d7c031b56bf0">ROLLBACK PREPARED transaction_id ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_aac77c2be12af4e41b731d9ed35104dbd"><strong id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_aaf1ecf556f7a483388e766bdaf80d9ee">transaction_id</strong></p>
<p id="ZH-CN_TOPIC_0242370645__zh-cn_topic_0237122181_zh-cn_topic_0059779108_zh-cn_topic_0058966273_p648649171555">待提交事务的标识符。它不能和任何当前预备事务已经使用了的标识符同名。</p>
</div>]]></suggestion>
  </command>
  <command id="ROLLBACK TO SAVEPOINT" alias="ROLLBACK TO SAVEPOINT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_p82381552124217">ROLLBACK TO SAVEPOINT用于回滚到一个保存点，隐含地删除所有在该保存点之后建立的保存点。</p>
<p id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_zh-cn_topic_0059778869_p10844164112158">回滚所有指定保存点建立之后执行的命令。保存点仍然有效，并且需要时可以再次回滚到该点。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_ul1764286153911"><li id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_li764213693919">不能回滚到一个未定义的保存点，语法上会报错。</li><li id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_li7642169391">在保存点方面，游标有一些非事务性的行为。任何在保存点里打开的游标都会在回滚掉这个保存点之后关闭。如果一个前面打开了的游标在保存点里面，并且游标被一个FETCH命令影响，而这个保存点稍后回滚了，那么这个游标的位置仍然在FETCH让它指向的位置(也就是FETCH不会被回滚)。关闭一个游标的行为也不会被回滚给撤消掉。如果一个游标的操作导致事务回滚，那么这个游标就会置于不可执行状态，所以，尽管一个事务可以用ROLLBACK TO SAVEPOINT重新恢复，但是游标不能再使用了。</li><li id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_li116421620399">使用ROLLBACK TO SAVEPOINT回滚到一个保存点。使用RELEASE SAVEPOINT删除一个保存点，但是保留该保存点建立后执行的命令的效果。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--撤销 my_savepoint 建立之后执行的命令的影响。
postgres=# START TRANSACTION ; 
postgres=# SAVEPOINT my_savepoint;
postgres=# ROLLBACK TO SAVEPOINT my_savepoint;

--游标位置不受保存点回滚的影响。
postgres=# DECLARE foo CURSOR FOR SELECT 1 UNION SELECT 2 ; 
postgres=# SAVEPOINT foo ; 
postgres=# FETCH 1 FROM foo ; 
?column?
----------
1
postgres=# ROLLBACK TO SAVEPOINT foo ; 
postgres=# FETCH 1 FROM foo ; 
?column?
----------
2
postgres=# RELEASE SAVEPOINT my_savepoint;
postgres=# COMMIT ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_zh-cn_topic_0059778869_screen7862152171516">ROLLBACK [ WORK | TRANSACTION ] TO [ SAVEPOINT ] <em id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_zh-cn_topic_0059778869_i7656876172744">savepoint_name;</em></pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_zh-cn_topic_0059778869_p5862121201514">savepoint_name</p>
<p id="ZH-CN_TOPIC_0242370646__zh-cn_topic_0237122182_zh-cn_topic_0059778869_p486213219158">回滚截至的保存点</p>
</div>]]></suggestion>
  </command>
  <command id="SAVEPOINT" alias="SAVEPOINT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_zh-cn_topic_0059777880_p88037451270">SAVEPOINT用于在当前事务里建立一个新的保存点。</p>
<p id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_zh-cn_topic_0059777880_p10803104518713">保存点是事务中的一个特殊记号，它允许将那些在它建立后执行的命令全部回滚，把事务的状态恢复到保存点所在的时刻。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_ul5749173618471"><li id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_li2749133654710">使用ROLLBACK TO SAVEPOINT回滚到一个保存点。使用RELEASE SAVEPOINT删除一个保存点，但是保留该保存点建立后执行的命令的效果。</li><li id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_li1274919368471">保存点只能在一个事务块里面建立。在一个事务里面可以定义多个保存点。</li><li id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_li157499367478">函数、匿名块和存储过程中不支持使用SAVEPOINT语法。</li><li id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_li2750336114713">由于节点故障或者通信故障引起的分布式节点线程或进程退出导致的报错，以及由于COPY FROM操作中源数据与目标表的表结构不一致导致的报错，均不能正常回滚到保存点之前，而是整个事务回滚。</li><li id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_li0750736124710">SQL标准要求，使用savepoint建立一个同名保存点时，需要自动删除前面那个同名保存点。在<span id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_text1039874194512"><span id="ZH-CN_TOPIC_0242370647__text1154041110216">openGauss</span></span>数据库里，我们将保留旧的保存点，但是在回滚或者释放的时候，只使用最近的那个。释放了新的保存点将导致旧的再次成为ROLLBACK TO SAVEPOINT和RELEASE SAVEPOINT可以访问的保存点。除此之外，SAVEPOINT是完全符合SQL标准的。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--建立保存点。
postgres=# SAVEPOINT my_savepoint;

--回滚保存点。
postgres=# ROLLBACK TO SAVEPOINT my_savepoint;

--建立保存点。
postgres=# SAVEPOINT my_savepoint;

--回滚保存点。
postgres=# RELEASE SAVEPOINT my_savepoint;
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_zh-cn_topic_0059777880_screen332678178">SAVEPOINT savepoint_name;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_zh-cn_topic_0059777880_p1246962651116">savepoint_name</p>
<p id="ZH-CN_TOPIC_0242370647__zh-cn_topic_0237122183_zh-cn_topic_0059777880_p1023744017118">新建保存点的名称。</p>
</div>]]></suggestion>
  </command>
  <command id="SELECT" alias="SELECT">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_p7867173714616">SELECT用于从表或视图中取出数据。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a2e39e83a316e4f77976a69503912ea50">SELECT语句就像叠加在数据库表上的过滤器，利用SQL关键字从数据表中过滤出用户需要的数据。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ue550cb7c4c1443bd81a940229e390510"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lc2532baba9084ebfbf63bd76011140a9">必须对每个在SELECT命令中使用的字段有SELECT权限。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--先通过子查询得到一张临时表temp_t，然后查询表temp_t中的所有数据。
postgres=# WITH temp_t ( name , isdba ) AS ( SELECT usename , usesuper FROM pg_user ) SELECT * FROM temp_t;

--查询tpcds.reason表的所有r_reason_sk记录，且去除重复。
postgres=# SELECT DISTINCT ( r_reason_sk ) FROM tpcds.reason ; 

--LIMIT子句示例：获取表中一条记录。
postgres=# SELECT * FROM tpcds.reason LIMIT 1 ; 

--查询所有记录，且按字母升序排列。
postgres=# SELECT r_reason_desc FROM tpcds.reason ORDER BY r_reason_desc ; 

--通过表别名，从pg_user和pg_user_status这两张表中获取数据。
postgres=# SELECT a.usename , b.locktime FROM pg_user a , pg_user_status b WHERE a.usesysid=b.roloid ; 

--FULL JOIN子句示例：将pg_user和pg_user_status这两张表的数据进行全连接显示，即数据的合集。
postgres=# SELECT a.usename , b.locktime , a.usesuper FROM pg_user a FULL JOIN pg_user_status b on a.usesysid=b.roloid ; 

--GROUP BY子句示例：根据查询条件过滤，并对结果进行分组。
postgres=# SELECT r_reason_id , AVG ( r_reason_sk ) FROM tpcds.reason GROUP BY r_reason_id HAVING AVG ( r_reason_sk ) &gt; 25 ; 

--GROUP BY CUBE子句示例：根据查询条件过滤，并对结果进行分组汇总。
postgres=# SELECT r_reason_id , AVG ( r_reason_sk ) FROM tpcds.reason GROUP BY CUBE ( r_reason_id , r_reason_sk ) ; 

--GROUP BY GROUPING SETS子句示例:根据查询条件过滤，并对结果进行分组汇总。
postgres=# SELECT r_reason_id , AVG ( r_reason_sk ) FROM tpcds.reason GROUP BY GROUPING SETS ( ( r_reason_id , r_reason_sk ) , r_reason_sk ) ; 

--UNION子句示例：将表tpcds.reason里r_reason_desc字段中的内容以W开头和以N开头的进行合并。
postgres=# SELECT r_reason_sk , tpcds.reason.r_reason_desc
FROM tpcds.reason
WHERE tpcds.reason.r_reason_desc LIKE ' W% ' 
UNION
SELECT r_reason_sk , tpcds.reason.r_reason_desc
FROM tpcds.reason
WHERE tpcds.reason.r_reason_desc LIKE ' N% ' ; 

--NLS_SORT子句示例：中文拼音排序。
postgres=# SELECT * FROM tpcds.reason ORDER BY NLSSORT ( r_reason_desc , ' NLS_SORT = SCHINESE_PINYIN_M ' ) ; 

--不区分大小写排序:
postgres=# SELECT * FROM tpcds.reason ORDER BY NLSSORT ( r_reason_desc , ' NLS_SORT = generic_m_ci ' ) ; 

--PARTITION子句示例：从tpcds.reason_p的表分区P_05_BEFORE中获取数据。
postgres=# SELECT * FROM tpcds.reason_p PARTITION ( P_05_BEFORE ) ; 
r_reason_sk | r_reason_id | r_reason_desc
-------------+------------------+------------------------------------
4 | AAAAAAAABAAAAAAA | reason 3
3 | AAAAAAAABAAAAAAA | reason 1
 ( 2 rows ) 

--GROUP BY子句示例：按r_reason_id分组统计tpcds.reason_p表中的记录数。
postgres=# SELECT COUNT ( * ) , r_reason_id FROM tpcds.reason_p GROUP BY r_reason_id ; 
count | r_reason_id
-------+------------------
2 | AAAAAAAACAAAAAAA
5 | AAAAAAAABAAAAAAA
 ( 2 rows ) 

--GROUP BY CUBE子句示例：根据查询条件过滤，并对查询结果分组汇总。
postgres=# SELECT * FROM tpcds.reason GROUP BY CUBE ( r_reason_id , r_reason_sk , r_reason_desc ) ; 

--GROUP BY GROUPING SETS子句示例：根据查询条件过滤，并对查询结果分组汇总。
postgres=# SELECT * FROM tpcds.reason GROUP BY GROUPING SETS ( ( r_reason_id , r_reason_sk ) , r_reason_desc ) ; 

--HAVING子句示例：按r_reason_id分组统计tpcds.reason_p表中的记录，并只显示r_reason_id个数大于2的信息。
postgres=# SELECT COUNT ( * ) c , r_reason_id FROM tpcds.reason_p GROUP BY r_reason_id HAVING c&gt;2 ; 
c | r_reason_id

--IN子句示例：按r_reason_id分组统计tpcds.reason_p表中的r_reason_id个数，并只显示r_reason_id值为 AAAAAAAABAAAAAAA或AAAAAAAADAAAAAAA的个数。
postgres=# SELECT COUNT ( * ) , r_reason_id FROM tpcds.reason_p GROUP BY r_reason_id HAVING r_reason_id IN ( ' AAAAAAAABAAAAAAA ' , ' AAAAAAAADAAAAAAA ' ) ; 
count | r_reason_id
-------+------------------
5 | AAAAAAAABAAAAAAA
 ( 1 row ) 

--INTERSECT子句示例：查询r_reason_id等于AAAAAAAABAAAAAAA，并且r_reason_sk小于5的信息。
postgres=# SELECT * FROM tpcds.reason_p WHERE r_reason_id= ' AAAAAAAABAAAAAAA ' INTERSECT SELECT * FROM tpcds.reason_p WHERE r_reason_sk&lt;5 ; 
r_reason_sk | r_reason_id | r_reason_desc
-------------+------------------+------------------------------------
4 | AAAAAAAABAAAAAAA | reason 3
3 | AAAAAAAABAAAAAAA | reason 1
 ( 2 rows ) 

--EXCEPT子句示例：查询r_reason_id等于AAAAAAAABAAAAAAA，并且去除r_reason_sk小于4的信息。
postgres=# SELECT * FROM tpcds.reason_p WHERE r_reason_id= ' AAAAAAAABAAAAAAA ' EXCEPT SELECT * FROM tpcds.reason_p WHERE r_reason_sk&lt;4 ; 
r_reason_sk | r_reason_id | r_reason_desc
-------------+------------------+------------------------------------
10 | AAAAAAAABAAAAAAA | reason 2
10 | AAAAAAAABAAAAAAA | reason 5
10 | AAAAAAAABAAAAAAA | reason 4
4 | AAAAAAAABAAAAAAA | reason 3
 ( 4 rows ) 

--通过在where子句中指定" ( + ) "来实现左连接。
postgres=# select t1.sr_item_sk , t2.c_customer_id from store_returns t1 , customer t2 where t1.sr_customer_sk = t2.c_customer_sk ( + ) 
order by 1 desc limit 1 ; 
sr_item_sk | c_customer_id
------------+---------------
18000 |
 ( 1 row ) 

--通过在where子句中指定" ( + ) "来实现右连接。
postgres=# select t1.sr_item_sk , t2.c_customer_id from store_returns t1 , customer t2 where t1.sr_customer_sk ( + ) = t2.c_customer_sk
order by 1 desc limit 1 ; 
sr_item_sk | c_customer_id
------------+------------------
| AAAAAAAAJNGEBAAA
 ( 1 row ) 

--通过在where子句中指定" ( + ) "来实现左连接，并且增加连接条件。
postgres=# select t1.sr_item_sk , t2.c_customer_id from store_returns t1 , customer t2 where t1.sr_customer_sk = t2.c_customer_sk ( + ) and t2.c_customer_sk ( + ) &lt; 1 order by 1 limit 1 ; 
sr_item_sk | c_customer_id
------------+---------------
1 |
 ( 1 row ) 

--不支持在where子句中指定" ( + ) "的同时使用内层嵌套AND/OR的表达式。
postgres=# select t1.sr_item_sk , t2.c_customer_id from store_returns t1 , customer t2 where not ( t1.sr_customer_sk = t2.c_customer_sk ( + ) and t2.c_customer_sk ( + ) &lt; 1 ) ; 
ERROR: Operator " ( + ) " can not be used in nesting expression.
LINE 1: ...tomer_id from store_returns t1 , customer t2 where not ( t1.sr_...
^

--where子句在不支持表达式宏指定" ( + ) "会报错。
postgres=# select t1.sr_item_sk , t2.c_customer_id from store_returns t1 , customer t2 where ( t1.sr_customer_sk = t2.c_customer_sk ( + ) ) ::bool ; 
ERROR: Operator " ( + ) " can only be used in common expression.

--where子句在表达式的两边都指定" ( + ) "会报错。
postgres=# select t1.sr_item_sk , t2.c_customer_id from store_returns t1 , customer t2 where t1.sr_customer_sk ( + ) = t2.c_customer_sk ( + ) ; 
ERROR: Operator " ( + ) " can ' t be specified on more than one relation in one join condition
HINT: "t1" , "t2"...are specified Operator " ( + ) " in one condition.
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ubaa79fc2e8104e8db76cc37de7e35516"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lc6170309c0ff43cb99a71f1d6f3774bf">查询数据</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_s8f728d7ae93a4dfc8440f94c62ff50c6">[ WITH [ RECURSIVE ] with_query [, ...] ]
SELECT [/*+ plan_hint */] [ ALL | DISTINCT [ ON ( expression [, ...] ) ] ]
{ * | {expression [ [ AS ] output_name ]} [, ...] }
[ FROM from_item [, ...] ]
[ WHERE condition ]
[ GROUP BY grouping_element [, ...] ]
[ HAVING condition [, ...] ]
[ WINDOW {window_name AS ( window_definition )} [, ...] ]
[ { UNION | INTERSECT | EXCEPT | MINUS } [ ALL | DISTINCT ] select ]
[ ORDER BY {expression [ [ ASC | DESC | USING operator ] | nlssort_expression_clause ] [ NULLS { FIRST | LAST } ]} [, ...] ]
[ LIMIT { [offset,] count | ALL } ]
[ OFFSET start [ ROW | ROWS ] ]
[ FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } ONLY ]
[ {FOR { UPDATE | SHARE } [ OF table_name [, ...] ] [ NOWAIT ]} [...] ];</pre>
<div class="note" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_note4271286795719"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_p2555353795724">condition和expression中可以使用targetlist中表达式的别名。</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ul2865524695724"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li5657062795724">只能同一层引用。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li3937360295724">只能引用targetlist中的别名。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li1881809895724">只能是后面的表达式引用前面的表达式。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li3514515795724">不能包含volatile函数。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li4787096595724">不能包含Window function函数。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li2818550695724">不支持在join on条件中引用别名。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li5234296595724">targetlist中有多个要应用的别名则报错。</li></ul>
</div></div>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_udfd9bebbef6c4f43a6d389b13bce7e70"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l1ce1c55aa40042a1869b485e89121d90">其中子查询with_query为：<pre class="screen" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_sc1941330784b4a9590bcd8591abad729">with_query_name [ ( column_name [, ...] ) ]
    AS ( {select | values | insert | update | delete} )</pre>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l3f966ddf365c41ebb3b6cedc43b55a37">其中指定查询源from_item为：<pre class="screen" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_s759be91effe34e0a95b9357ca75b263f">{[ ONLY ] table_name [ * ] [ partition_clause ] [ [ AS ] alias [ ( column_alias [, ...] ) ] ]
[ TABLESAMPLE sampling_method ( argument [, ...] ) [ REPEATABLE ( seed ) ] ]
|( select ) [ AS ] alias [ ( column_alias [, ...] ) ]
|with_query_name [ [ AS ] alias [ ( column_alias [, ...] ) ] ]
|function_name ( [ argument [, ...] ] ) [ AS ] alias [ ( column_alias [, ...] | column_definition [, ...] ) ]
|function_name ( [ argument [, ...] ] ) AS ( column_definition [, ...] )
|from_item [ NATURAL ] join_type from_item [ ON join_condition | USING ( join_column [, ...] ) ]}</pre>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l25a3b66a9738403696a4e529838da46f">其中group子句为：<pre class="screen" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_s5a6ecf133f514a358c655983301d20a5">( )
| expression
| ( expression [, ...] )
| ROLLUP ( { expression | ( expression [, ...] ) } [, ...] )
| CUBE ( { expression | ( expression [, ...] ) } [, ...] )
| GROUPING SETS ( grouping_element [, ...] )</pre>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lbaddebd94b2141a99f484c74fc37bcec">其中指定分区partition_clause为：<pre class="screen" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_s997ea5bf6b3d47adb5df0776519758a5">PARTITION { ( partition_name ) | 
        FOR (  partition_value [, ...] ) }</pre>
<div class="note" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_n0066bf6820044553bf4d30ccd2d591e0"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a6f1651859362445db7fcaf8d8ab81a31">指定分区只适合普通表。</p>
</div></div>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l393fc12cf412407d9a85d3b670090340">其中设置排序方式nlssort_expression_clause为：<pre class="screen" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_sc91d11991d4a459cb6513adfd07f279d">NLSSORT ( column_name, ' NLS_SORT = { SCHINESE_PINYIN_M | generic_m_ci } ' )</pre>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l6514f90ab295495ea59ff1931ee1e465">简化版查询语法，功能相当于select * from table_name。<pre class="screen" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_sf15ec3e1664b470299d87bcba4ac1890">TABLE { ONLY {(table_name)| table_name} | table_name [ * ]};</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a6c28320117d24c768269f2ee2159bdcf">WITH [ RECURSIVE ] with_query [, ...]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_zh-cn_topic_0058966196_p321442519243">用于声明一个或多个可以在主查询中通过名称引用的子查询，相当于临时表。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aad08431efa934b5dbd30665aacc22827">如果声明了RECURSIVE，那么允许SELECT子查询通过名称引用它自己。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a0172724a6d8e4599bbf70f043a07b4c6">其中with_query的详细格式为：with_query_name [ ( column_name [, ...] ) ] AS ( {select | values | insert | update | delete} )</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_u877dec8981494ecd90072926c5605e18"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l3dedc113d22140ca8c7149db17d18039">with_query_name指定子查询生成的结果集名称，在查询中可使用该名称访问子查询的结果集。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l67370676c59e42daaa96b06564286a57">column_name指定子查询结果集中显示的列名。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l3afc39140966444ba59db1178a78b390">每个子查询可以是SELECT，VALUES，INSERT，UPDATE或DELETE语句。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_b4444206395447">plan_hint子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_p4005798022743">以/*+ */的形式在SELECT关键字后，用于对SELECT对应的语句块生成的计划进行hint调优。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a9a6946f657bd4ad7ad23d2c4393b0272">ALL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_zh-cn_topic_0058966196_p92693192416">声明返回所有符合条件的行，是默认行为，可以省略该关键字。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a45260b99f9df49039ea85c40a9ebcbd3">DISTINCT [ ON ( expression [, ...] ) ]</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a8ad617b0fdcf4792acbfee521593c354">从SELECT的结果集中删除所有重复的行，使结果集中的每行都是唯一的。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a4e659258e47b438098e46bddc5580436">ON ( expression [, ...] ) 只保留那些在给出的表达式上运算出相同结果的行集合中的第一行。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ncd683d0ddf9e454e8d5a559bfd931b87"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_addcfddb4bf3743f68442c9f92aed1830">DISTINCT ON表达式是使用与ORDER BY相同的规则进行解释的。除非使用了ORDER BY来保证需要的行首先出现，否则，"第一行" 是不可预测的。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_afc65ee9aed024d6e9cfc8e8b84422625">SELECT列表</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a0046a8f3f4c949a4bae2a6b9f61720af">指定查询表中列名，可以是部分列或者是全部（使用通配符*表示）。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_af79a6d4db631483f83ba1dbda8445d5e">通过使用子句AS output_name可以为输出字段取个别名，这个别名通常用于输出字段的显示。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a46771c95b76a4dd0ac6cb2682dac186e">列名可以用下面几种形式表达：</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_u5898eec6d4704b79a1836febb0bc6fc0"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l20518f732a164c9b9e2b1b9d1c019fb9">手动输入列名，多个列之间用英文逗号（,）分隔。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l46b48ad0890743118d30093f0a18950c">可以是FROM子句里面计算出来的字段。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aa5ddb2004bae487bb635582362b22e64">FROM子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a30f4ae43d240485c81b695ae2bed0eda">为SELECT声明一个或者多个源表。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ae9dc54321d25499eb88466447857aa3e">FROM子句涉及的元素如下所示。</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_uce37395bd8d64dc6890c28e8dd57d28c"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ld8b0267def4345218ae3e7508e6bd6ea">table_name<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aa007cbc37fab406e9748a77a9f8a8be1">表名或视图名，名称前可加上模式名，如：schema_name.table_name。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lb611471c15244d96a4ed7d20b970231e">alias<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_af1bad44f7a3d433996a4d42b1fe32c2f">给表或复杂的表引用起一个临时的表别名，以便被其余的查询引用。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aac1368149ac54687b22856cdb2f49612">别名用于缩写或者在自连接中消除歧义。如果提供了别名，它就会完全隐藏表的实际名称。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li28746466268">TABLESAMPLE <em id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_i03751153203818">sampling_method</em> ( <em id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_i143751153163812">argument</em> [, ...] ) [ REPEATABLE ( <em id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_i337555319389">seed</em> ) ]<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_p10302173492711"><em id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_i2302143492710">table_name</em>之后的TABLESAMPLE子句表示应该用指定的<em id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_i1302193462719">sampling_method</em>来检索表中行的子集。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_p226194584711">可选的REPEATABLE子句指定一个用于产生采样方法中随机数的<em id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_i172611845104714">种子</em>数。种子值可以是任何非空常量值。如果查询时表没有被更改，指定相同种子和<em id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_i1726111454472">argument</em>值的两个查询将会选择该表相同的采样。但是不同的种子值通常将会产生不同的采样。如果没有给出REPEATABLE，则会基于一个系统产生的种子为每一个查询选择一个新的随机采样。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l552d03fe3236472cbee212fa613b60b2">column_alias<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a42e4110257de4be08f315da3db31668a">列别名</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lb5cc57dc313a44478e885caee94d4009">PARTITION<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a1d7e0dade3ee473d8b69680c17a80f67">查询分区表的某个分区的数据。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l2ceaa825856346e6b84a048f064be6e4">partition_name<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a16b234775add4c0f92882c9086487860">分区名。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l47fa99c1147d4517b2f3ee144669479b">partition_value<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a717afec92f644afdb32f4707746f7a53">指定的分区键值。在创建分区表时，如果指定了多个分区键，可以通过PARTITION FOR子句指定的这一组分区键的值，唯一确定一个分区。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l160e0de64d4448c28150b1bf82597283">subquery<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a10c879924b5f49178c1f11d19e0987f1">FROM子句中可以出现子查询，创建一个临时表保存子查询的输出。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l7a638627c62b49de88c192dbcec51ecd">with_query_name<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a14032d5f51bb4a15802fe7f0b6ed0c38">WITH子句同样可以作为FROM子句的源，可以通过WITH查询的名称对其进行引用。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ld319114b721541639a3144d09eb979b3">function_name<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ac589a2073c424953b55066e7ebf26701">函数名称。函数调用也可以出现在FROM子句中。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ld71fab53e68547f781751e3a7d564908">join_type<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a4c3c5803dafb41239233fab0409a9003">有5种类型，如下所示。</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ud201ec75dc6c45c1a7a17ad6d05b2d39"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l8e2c4a571ca64c8fbbdce8f362294179">[ INNER ] JOIN<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ab21c9775c3e1415eab9570aaa67dcd18">一个JOIN子句组合两个FROM项。可使用圆括弧以决定嵌套的顺序。如果没有圆括弧，JOIN从左向右嵌套。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a7072a1d49108481eb17bcb25016005b1">在任何情况下，JOIN都比逗号分隔的FROM项绑定得更紧。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l179664d90e0c4caeaf47175397ef8634">LEFT [ OUTER ] JOIN<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_abdbe76a2aecf428989a4f17fb2e4d557">返回笛卡尔积中所有符合连接条件的行，再加上左表中通过连接条件没有匹配到右表行的那些行。这样，左边的行将扩展为生成表的全长，方法是在那些右表对应的字段位置填上NULL。请注意，只在计算匹配的时候，才使用JOIN子句的条件，外层的条件是在计算完毕之后施加的。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l792619c9dcb74d2e9928e666027f42ae">RIGHT [ OUTER ] JOIN<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_zh-cn_topic_0058966196_p477807519357">返回所有内连接的结果行，加上每个不匹配的右边行（左边用NULL扩展）。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aef23137dcbd149308f7646678ffafa65">这只是一个符号上的方便，因为总是可以把它转换成一个LEFT OUTER JOIN，只要把左边和右边的输入互换位置即可。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l1f83fd66ee944cce95b922deee17a508">FULL [ OUTER ] JOIN<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a68c4736754314956ac3f33f4e083771b">返回所有内连接的结果行，加上每个不匹配的左边行（右边用NULL扩展），再加上每个不匹配的右边行（左边用NULL扩展）。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lc12ca1651d664a21a2ba9fbaf602b072">CROSS JOIN<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a660ec2611c71456f8a9c9219f740b380">CROSS JOIN等效于INNER JOIN ON（TRUE） ，即没有被条件删除的行。这种连接类型只是符号上的方便，因为它们与简单的FROM和WHERE的效果相同。</p>
<div class="note" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ne6d84d1c2a0143f0ae0538f1ea6938aa"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a30599f3516ed4b5590479260600b1955">必须为INNER和OUTER连接类型声明一个连接条件，即NATURAL ON，join_condition，USING (join_column [， ...]) 之一。但是它们不能出现在CROSS JOIN中。</p>
</div></div>
</li></ul>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_af13c8091426e4248a9ebbb5bab987012">其中CROSS JOIN和INNER JOIN生成一个简单的笛卡尔积，和在FROM的顶层列出两个项的结果相同。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l74d8cee6e0be4ad4b620c8b5aa4ff5e4">ON join_condition<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a00c7d22d949e44d2afee4a909d31b238">连接条件，用于限定连接中的哪些行是匹配的。如：ON left_table.a = right_table.a。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l0d61215d0b6a4bc7973fa12487f436ef">USING(join_column[，...])<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a03c60a29cd844d9da6cef99b7c63b183">ON left_table.a = right_table.a AND left_table.b = right_table.b ... 的简写。要求对应的列必须同名。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l0975a24cb2ac405fbc0ed6bc07c7ebf0">NATURAL<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a6164b26180814df0a9a6829f5becbb03">NATURAL是具有相同名称的两个表的所有列的USING列表的简写。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l812d04e49b544813ac9682cffe2ea26d">from item<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a121e58da97df4f2babc7fa35853dbd7d">用于连接的查询源对象的名称。</p>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ab092ae6f80ed44c2a1d825c9e1c4711c">WHERE子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a70b1d88ca2d449edae8d93bab8bd9271">WHERE子句构成一个行选择表达式，用来缩小SELECT查询的范围。condition是返回值为布尔型的任意表达式，任何不满足该条件的行都不会被检索。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_p451911248217">WHERE子句中可以通过指定"(+)"操作符的方法将表的连接关系转换为外连接。但是不建议用户使用这种用法，因为这并不是SQL的标准语法，在做平台迁移的时候可能面临语法兼容性的问题。同时，使用"(+)"有很多限制：</p>
<ol id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_ol747718983910"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li18477899391">"(+)"只能出现在where子句中。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li1778175219393">如果from子句中已经有指定表连接关系，那么不能再在where子句中使用"(+)"。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li4171204654016">"(+)"只能作用在表或者视图的列上，不能作用在表达式上。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li7843161720419">如果表A和表B有多个连接条件，那么必须在所有的连接条件中指定"(+)"，否则"(+)"将不会生效，表连接会转化成内连接，并且不给出任何提示信息。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li67091645184214">"(+)"作用的连接条件中的表不能跨查询或者子查询。如果"(+)"作用的表，不在当前查询或者子查询的from子句中，则会报错。如果"(+)"作用的对端的表不存在，则不报错，同时连接关系会转化为内连接。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li956851994516">"(+)"作用的表达式不能直接通过"OR"连接。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li877821795115">如果"(+)"作用的列是和一个常量的比较关系， 那么这个表达式会成为join条件的一部分。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li181271736185611">同一个表不能对应多个外表。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li11775290617">"(+)"只能出现"比较表达式"，"NOT表达式"，“ANY表达式”，“ALL表达式”，“IN表达式”，“NULLIF表达式”，“IS DISTINCT FROM表达式”，“IS OF”表达式。"(+)"不能出现在其他类型表达式中，并且这些表达式中不允许出现通过“AND”和“OR”连接的表达式。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_li19826194173715">"(+)"只能转化为左外连接或者右外连接，不能转化为全连接，即不能在一个表达式的两个表上同时指定"(+)"</li></ol>
<div class="notice" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_na6f6b3da5e4a424e802a93028d5ca025"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a9b238d1abd38479e840da57030a81bcd">对于WHERE子句的LIKE操作符，当LIKE中要查询特殊字符“%”、“_”、“\”的时候需要使用反斜杠“\”来进行转义。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a5526005a5a2944b2a66ac916b8c6fc84">GROUP BY子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a5976ddc0c28d4ae08d358461e9079201">将查询结果按某一列或多列的值分组，值相等的为一组。</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ul1382558983949"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li5397808483946">CUBE ( { expression | ( expression [, ...] ) } [, ...] )<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_p3514356883941">CUBE是自动对group by子句中列出的字段进行分组汇总，结果集将包含维度列中各值的所有可能组合，以及与这些维度值组合相匹配的基础行中的聚合值。它会为每个分组返回一行汇总信息， 用户可以使用CUBE来产生交叉表值。比如，在CUBE子句中给出三个表达式（n = 3），运算结果为2<sup id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_sup5904338911212">n</sup> = 2<sup id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_sup37925156112058">3</sup> = 8组。 以n个表达式的值分组的行称为常规行，其余的行称为超级聚集行。</p>
</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_li5093940983957">GROUPING SETS ( grouping_element [, ...] )<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_p2805675383941">GROUPING SETS子句是GROUP BY子句的进一步扩展，它可以使用户指定多个GROUP BY选项。 这样做可以通过裁剪用户不需要的数据组来提高效率。 当用户指定了所需的数据组时，数据库不需要执行完整CUBE或ROLLUP生成的聚合集合。</p>
</li></ul>
<div class="notice" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_nb37cff331976415682378f5407399074"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a19190e5e5b034e7d948aaabcf396ae93">如果SELECT列表的表达式中引用了那些没有分组的字段，则会报错，除非使用了聚集函数，因为对于未分组的字段，可能返回多个数值。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_zh-cn_topic_0058966196_b569525192310">HAVING子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ab12037614c2f4daaafabf4ed182aa407">与GROUP BY子句配合用来选择特殊的组。HAVING子句将组的一些属性与一个常数值比较，只有满足HAVING子句中的逻辑表达式的组才会被提取出来。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_adf16ecb2293a4e648cdce1e15b691185">WINDOW子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a43d916084412408585e3b7efbc5e71fe">一般形式为WINDOW window_name AS ( window_definition ) [， ...]，window_name是可以被随后的窗口定义所引用的名称，window_definition可以是以下的形式：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a8f7cca4bcb5b48ce87ea4c824ea8dae3">[ existing_window_name ]</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a4da820b1ff104344911503905176a152">[ PARTITION BY expression [, ...] ]</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a8566931c91ca4d93a0d5a924fb0e8c56">[ ORDER BY expression [ ASC | DESC | USING operator ] [ NULLS { FIRST | LAST } ] [, ...] ]</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a2a7de61b12344fc59d75547e9f74ffbb">[ frame_clause ]</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a7aa63d73fbf84dd1a6ea0fa4d8e8bc56">frame_clause为窗函数定义一个窗口框架window frame，窗函数（并非所有）依赖于框架，window frame是当前查询行的一组相关行。frame_clause可以是以下的形式：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a35b66e6f5409459d912bf6984967222e">[ RANGE | ROWS ] frame_start</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a6dc035f5b1954fa2ac1299065e736ec7">[ RANGE | ROWS ] BETWEEN frame_start AND frame_end</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aec47205cff7143b08def34ccf0c5a8d1">frame_start和frame_end可以是：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aea3d45f4d42041ab9962fa2b8ed6b5b7">UNBOUNDED PRECEDING</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a174fb3047d134d13abc08028a5b49658">value PRECEDING</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ac71ea8e9140c4d239623ff82447514e8">CURRENT ROW</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a24c2f08ad573404f81719a62148c5f5e">value FOLLOWING</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a2e6b631ddcee447cab2cb48d3fb4511f">UNBOUNDED FOLLOWING</p>
<div class="notice" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_nd1b48eb690a1485cb91b02ae5376da38"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a3ba07b24b71e4b54a95d1fde691083a7">对列存表的查询目前只支持row_number窗口函数，不支持frame_clause。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a8de7d398c0474e199d83693f7210e221">UNION子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a524f584037064d32a744d20c99ab9d69">UNION计算多个SELECT语句返回行集合的并集。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a7cb7a6b3ad2946e9979d9c00a6631a31">UNION子句有如下约束条件：</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_uc64bc82808424fe0a7099ada1f64e772"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lfad9fdfbea9849d4a976ee13979325cd">除非声明了ALL子句，否则缺省的UNION结果不包含重复的行。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l4dae1cd7943a4fcd9f938631d3e0d6e8">同一个SELECT语句中的多个UNION操作符是从左向右计算的，除非用圆括弧进行了标识。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_la07d9ea397444054861592f59011916e">FOR UPDATE不能在UNION的结果或输入中声明。</li></ul>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a28a870be330a4568946b5b23082cfe71">一般表达式：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a2f8188c1cc9641bebee67917da2f873c">select_statement UNION [ALL] select_statement</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_udf8df616b59145c5ab1c268a213f7633"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_le9db3e01a2ca4153b150dfc82820badc">select_statement可以是任何没有ORDER BY、LIMIT、FOR UPDATE子句的SELECT语句。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_lb4dd5d711cfd425694b1679e8b295f5c">如果用圆括弧包围，ORDER BY和LIMIT可以附着在子表达式里。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a23005d3a4f4b49f088a473c8f9f515b4">INTERSECT子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a85d847a4787e46c89ea2d1fc4921c3d0">INTERSECT计算多个SELECT语句返回行集合的交集，不含重复的记录。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ace21f31cfe6f44e29e722a43a33eb4f7">INTERSECT子句有如下约束条件：</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_u48e1792fb40644d686c8068bc5b7797c"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_led587c97df8646eebde56bc6f692e734">同一个SELECT语句中的多个INTERSECT操作符是从左向右计算的，除非用圆括弧进行了标识。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_la2691904972a43eca7333d944b62c577">当对多个SELECT语句的执行结果进行UNION和INTERSECT操作的时候，会优先处理INTERSECT。</li></ul>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_af0349f8c2b844957960cc9809cf0c28b">一般形式：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a1119baac46474b82a8395a116de5a828">select_statement INTERSECT select_statement</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a6127a9ab0af049ee879c41415a92495b">select_statement可以是任何没有FOR UPDATE子句的SELECT语句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ae32457c88d66412cad9a4d3b14e0a6a6">EXCEPT子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ae3f7c698600c454f995eb0f08a97c6f4">EXCEPT子句有如下的通用形式：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a059d6fa9532f44a780ad80828fa4a345">select_statement EXCEPT [ ALL ] select_statement</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a9a03ceca285846a6952700a449d89196">select_statement是任何没有FOR UPDATE子句的SELECT表达式。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_afa8a1fa1b5bd43938bd46d42041a6757">EXCEPT操作符计算存在于左边SELECT语句的输出而不存在于右边SELECT语句输出的行。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a9c6fce76dafb4726a9612e251a3c471c">EXCEPT的结果不包含任何重复的行，除非声明了ALL选项。使用ALL时，一个在左边表中有m个重复而在右边表中有n个重复的行将在结果中出现max(m-n,0) 次。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a9b177036b35b4147a400397a19052257">除非用圆括弧指明顺序，否则同一个SELECT语句中的多个EXCEPT操作符是从左向右计算的。EXCEPT和UNION的绑定级别相同。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aba31d7bd2dbc41d2a52aa28482c561ae">目前，不能给EXCEPT的结果或者任何EXCEPT的输入声明FOR UPDATE子句。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aea9bede2e860482a84f84a6a96526a0a">MINUS子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a90151b6aabd04b1281b323c1d1a100d3">与EXCEPT子句具有相同的功能和用法。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a1d83967957074567a52a5c04221139b8">ORDER BY子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a806eeb39225b44a6b831b9bb378d5254">对SELECT语句检索得到的数据进行升序或降序排序。对于ORDER BY表达式中包含多列的情况：</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_uf2dcdf2967634e01b6c1a3c08f92935c"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l125617bebc4943cfa2e0fb240f0194c5">首先根据最左边的列进行排序，如果这一列的值相同，则根据下一个表达式进行比较，依此类推。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l027e210e993d4508ad40bf5923e5db1b">如果对于所有声明的表达式都相同，则按随机顺序返回。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l268d808497674d1fae6c9bea8031fcbe">ORDER BY中排序的列必须包括在SELECT语句所检索的结果集的列中。</li></ul>
<div class="notice" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_n6875a2daa9b4440a830f29b026947c51"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_zh-cn_topic_0058966196_p220737192654">如果要支持中文拼音排序和不区分大小写排序，需要在初始化数据库时指定编码格式为UTF-8或GBK。 命令如下:</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_afc59480795cb48a2813e4de777405291">initdb &#8211;E UTF8 &#8211;D ../data &#8211;locale=zh_CN.UTF-8或initdb &#8211;E GBK &#8211;D ../data &#8211;locale=zh_CN.GBK。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_aa98ce4170ba74ed68492db38dab72ace">LIMIT子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a548866de32b94dffb3313ba81a4ca26b">LIMIT子句由两个独立的子句组成：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a0776eb05102744469bfeb6ce8a9bb62b">LIMIT { count | ALL }</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a94ee0ed3fca44d39b447c8b8a8c574b7">OFFSET start count声明返回的最大行数，而start声明开始返回行之前忽略的行数。如果两个都指定了，会在开始计算count个返回行之前先跳过start行。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a1dc865187eea4b0c877c337961d6e680">OFFSET子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a1778e3909cf44de28cbf001c3ec72847">SQL：2008开始提出一种不同的语法：</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_affbc48bb967a41a39f6778df450f2a09">OFFSET start { ROW | ROWS }</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_af003ac8f99314dc9b906b54487ad25c9">start声明开始返回行之前忽略的行数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a0b537d4e4b62430ab4aaa1822be65c78">FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } ONLY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a13b00e1f4c5849aa95774a214f9a803c">如果不指定count，默认值为1，FETCH子句限定返回查询结果从第一行开始的总行数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ab96620103b244b2e89a26822674b3efa">FOR UPDATE子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a22895ae7a0c44532874767ca285da4d1">FOR UPDATE子句将对SELECT检索出来的行进行加锁。这样避免它们在当前事务结束前被其他事务修改或者删除，即其他企图UPDATE、 DELETE、 SELECT FOR UPDATE这些行的事务将被阻塞，直到当前事务结束。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a7baae0a7c2c44e5eb07eada7de0db872">为了避免操作等待其他事务提交，可使用NOWAIT选项，如果被选择的行不能立即被锁住，执行SELECT FOR UPDATE NOWAIT将会立即汇报一个错误，而不是等待。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a0e0f7040999e4574a21e73ca3b59b319">FOR SHARE的行为类似，只是它在每个检索出来的行上要求一个共享锁，而不是一个排他锁。一个共享锁阻塞其它事务执行UPDATE、DELETE、SELECT，不阻塞SELECT FOR SHARE。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_af98bce2b58b242699b246157a74c1dc1">如果在FOR UPDATE或FOR SHARE中明确指定了表名称，则只有这些指定的表被锁定，其他在SELECT中使用的表将不会被锁定。否则，将锁定该命令中所有使用的表。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ae19779407a2740a3ae205bb898578780">如果FOR UPDATE或FOR SHARE应用于一个视图或者子查询，它同样将锁定所有该视图或子查询中使用到的表。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_af1c0ea0c2e574ab3bf440aef8936016e">多个FOR UPDATE和FOR SHARE子句可以用于为不同的表指定不同的锁定模式。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a42674a6514194b61926b4458dcb844a8">如果一个表中同时出现（或隐含同时出现）在FOR UPDATE和FOR SHARE子句中，则按照FOR UPDATE处理。类似的，如果影响一个表的任意子句中出现了NOWAIT，该表将按照NOWAIT处理。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_nbe73774ee6dc4484a453cfdb9e94dbe1"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370648__p132231534555">对列存表的查询不支持for update/share。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a7acd1a0069cd453891e7f46294e69211">NLS_SORT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a396028e263d649b886c08b41a58a37ee">指定某字段按照特殊方式排序。目前仅支持中文拼音格式排序和不区分大小写排序。</p>
<p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a35ba748f114448ada7a499550b2561bd">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_ubf80861b0daa4361a3664d340aaf921f"><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l211bf88648634c11ba3b30982a4a254b">SCHINESE_PINYIN_M，按照中文拼音排序。如果要支持此排序方式，在创建数据库时需要指定编码格式为“GBK”，否则排序无效。</li><li id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_l5451881454fd49399b64ac159a74e925">generic_m_ci，不区分大小写排序。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a5be0bc1fbbf64c788efd07c56efb25d6">PARTITION子句</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370648__zh-cn_topic_0237122184_zh-cn_topic_0059777449_a387b6a5827704cbe81d1731821e3383f">查询某个分区表中相应分区的数据。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="SELECT INTO" alias="SELECT INTO">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_p45701942134918">SELECT INTO用于根据查询结果创建一个新表，并且将查询到的数据插入到新表中。</p>
<p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_zh-cn_topic_0058965571_p745841116193">数据并不返回给客户端，这一点和普通的SELECT不同。新表的字段具有和SELECT的输出字段相同的名称和数据类型。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_a37c3a156fe9945cab414681ccf5f2d62">CREATE TABLE AS的作用和SELECT INTO类似，且提供了SELECT INTO所提供功能的超集。建议使用CREATE TABLE AS语法替代SELECT INTO，因为SELECT INTO不能在存储过程中使用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--将tpcds.reason表中r_reason_sk小于5的值加入到新建表中。
postgres=# SELECT * INTO tpcds.reason_t1 FROM tpcds.reason WHERE r_reason_sk &lt; 5 ; 
INSERT 0 6
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_s98d1026344b2463f83737dd9447e830e">[ WITH [ RECURSIVE ] with_query [, ...] ]
SELECT [ ALL | DISTINCT [ ON ( expression [, ...] ) ] ]
    { * | {expression [ [ AS ] output_name ]} [, ...] }
    INTO [ UNLOGGED ] [ TABLE ] new_table
    [ FROM from_item [, ...] ]
    [ WHERE condition ]
    [ GROUP BY expression [, ...] ]
    [ HAVING condition [, ...] ]
    [ WINDOW {window_name AS ( window_definition )} [, ...] ]
    [ { UNION | INTERSECT | EXCEPT | MINUS } [ ALL | DISTINCT ] select ]
    [ ORDER BY {expression [ [ ASC | DESC | USING operator ] | nlssort_expression_clause ] [ NULLS { FIRST | LAST } ]} [, ...] ]
    [ LIMIT { count | ALL } ]
    [ OFFSET start [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } ONLY ]
    [ {FOR { UPDATE | SHARE } [ OF table_name [, ...] ] [ NOWAIT ]} [...] ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_a6546af8c69ab4858baaaea23aa22ea9c"><strong id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_a06dd5e1ef9be4faa936d1fae8c00b2f3">INTO [ UNLOGGED ] [ TABLE ] new_table</strong></p>
<p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_aad53aad91ec04f308a89b2febcca343a">UNLOGGED指定表为非日志表。在非日志表中写入的数据不会被写入到预写日志中，这样就会比普通表快很多。但是，它也是不安全的，非日志表在冲突或异常关机后会被自动删截。非日志表中的内容也不会被复制到备用服务器中。在该类表中创建的索引也不会被自动记录。</p>
<p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_a6448d8eddda741d9a879e9a5119a7c97">new_table指定新建表的名称。</p>
<div class="note" id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_n3a0152bad2de4ca3bc7014e3111bd384"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_adf855a027a934f69b009dd19de67c852">SELECT INTO的其它参数可参考SELECT的<a>参数说明</a>。</p>
</div></div>
</div>]]></suggestion>
    <sub id="DATABASE">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_p45802117152326">不建议在事务中reindex database。</p>
]]></suggestion>
    </sub>
    <sub id="SYSTEM">
      <suggestion><![CDATA[<p id="ZH-CN_TOPIC_0242370649__zh-cn_topic_0237122185_zh-cn_topic_0059779381_p25015007152422">不建议在事务中reindex系统表。</p>
]]></suggestion>
    </sub>
  </command>
  <command id="SET" alias="SET">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_af1e3e806828440d996a5e2fe6143306e">用于修改运行时配置参数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a373645b3ad874027986a7cf06ec81c9e">大多数运行时参数都可以用SET在运行时设置，但有些则在服务运行过程中或会话开始之后不能修改。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--设置模式搜索路径。
postgres=# SET search_path TO tpcds , public ; 

--把日期时间风格设置为传统的 POSTGRES 风格 ( 日在月前 ) 。
postgres=# SET datestyle TO postgres ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_u8b5856d1a9174bedb246705182ff711d"><li id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_l37804e2af0224c7eb76478fcbc57a8f5">设置所处的时区。<pre class="screen" id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_s82fc5dc72f65410b9cd4685e967257b5">SET [ SESSION | LOCAL ] TIME ZONE { timezone | LOCAL | DEFAULT };</pre>
</li><li id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_l11868c5134d346cf90a77b9e62d1d29c">设置所属的模式。<pre class="screen" id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_s81d3bdd8692e49db9bb7b8acf604c158">SET [ SESSION | LOCAL ] 
    {CURRENT_SCHEMA { TO | = } { schema | DEFAULT }
    | SCHEMA 'schema'};</pre>
</li><li id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_l4c0fb10fed6f4e1294d34a9cfaade05f">设置客户端编码集。<pre class="screen" id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_s1690db5b3150489f8051b8c7fae53fc5">SET [ SESSION | LOCAL ] NAMES encoding_name;</pre>
</li><li id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_le09e9abf708f498faca22e6e35a53429">设置XML的解析方式。<pre class="screen" id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_s2d18c3954155418cb910c6115bf638a6">SET [ SESSION | LOCAL ] XML OPTION { DOCUMENT | CONTENT };</pre>
</li><li id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_l08ebce93ae5b40dc92bb192cb74bc2e7">设置其他运行时参数。<pre class="screen" id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_s5367e1fd9a854d8bb0acd9ae43329fb8">SET [ LOCAL | SESSION ]
    { {config_parameter { { TO | = } { value | DEFAULT } 
                        | FROM CURRENT }}};</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a5f16291453b044d69a75a2e831e3beb6">SESSION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a251021c049f646788a85d7d149491bc2">声明的参数只对当前会话起作用。如果SESSION和LOCAL都没出现，则SESSION为缺省值。</p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_ad271f3756c1e48939dbad9fd611ecd67">如果在事务中执行了此命令，命令的产生影响将在事务回滚之后消失。如果该事务已提交，影响将持续到会话的结束，除非被另外一个SET命令重置参数。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a3b0e20a8cd48422d8729994ac4909598">LOCAL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_ae1c40feae0a044dbb6431f9a2a8a9675">声明的参数只在当前事务中有效。在COMMIT或ROLLBACK之后，会话级别的设置将再次生效。</p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a4e4bb598ab494a69a558f24b28690e22">不论事务是否提交，此命令的影响只持续到当前事务结束。一个特例是：在一个事务里面，即有SET命令，又有SET LOCAL命令，且SET LOCAL在SET后面，则在事务结束之前，SET LOCAL命令会起作用，但事务提交之后，则是SET命令会生效。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a2b3efbf3673c47ad87f097c55a2a1cbb">TIME ZONE timezone</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a8bc6df6a928741e691bfbc0e9dbfee17">用于指定当前会话的本地时区。</p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a3822fe371b7c4117b14506e3ac049511">取值范围：有效的本地时区。该选项对应的运行时参数名称为TimeZone，DEFAULT缺省值为PRC。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a5f6c51abf7a74586812bcdc1dba2c190">CURRENT_SCHEMA</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_abf883f8073aa4bb194351e0801cca083"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a1acf8ca2a50b48afa82e9cae63796ac1">schema</strong></p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a7d09ddbce226496982ee0c8709b8a366">CURRENT_SCHEMA用于指定当前的模式。</p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a029e57d381054337baaa1f43b75d482e">取值范围：已存在模式名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a5c244616055843f5bdfa29b6a6ac1fcf">SCHEMA schema</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_aba3a557142364f1a950f64d5b95842eb">同CURRENT_SCHEMA。此处的schema是个字符串。</p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a5bb4f4946a3d4673bf0b16db9a08ae6b">例如：set schema  'public';</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a1c932888c83442c59ba224e61eec2db4">NAMES encoding_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a42542db713194d37801665a38f08e7c0">用于设置客户端的字符编码。等价于set client_encoding to encoding_name。</p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a4c950ddc48544079b1ec3ac4a37239bc">取值范围：有效的字符编码。该选项对应的运行时参数名称为client_encoding，默认编码为SQL_ASCII。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a672075f10db94e90842a5ecc9be92ade">XML OPTION option</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_zh-cn_topic_0058966091_p541579319417">用于设置XML的解析方式。</p>
<p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_ad6bbaa2ada8d46fd8c0c182b98a9fad7">取值范围：CONTENT（缺省）、DOCUMENT</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a2f5547a2bf354ed8b550bf10e904d782">config_parameter</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a7bdfb523a17647e08fd13ad02af7180b">可设置的运行时参数的名称。可用的运行时参数可以使用SHOW ALL命令查看。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_afa1f585cad3d4729a33e8af097fc91a9">value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370650__zh-cn_topic_0237122186_zh-cn_topic_0059779029_a3164fadf64434bd09de65a88e60c7b02">config_parameter的新值。可以声明为字符串常量、标识符、数字，或者逗号分隔的列表。DEFAULT用于把这些参数设置为它们的缺省值。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="SET CONSTRAINTS" alias="SET CONSTRAINTS">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_p19369105415508">SET CONSTRAINTS设置当前事务检查行为的约束条件。</p>
<p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_af153a388caaf4d32b548fc237610a80f">IMMEDIATE约束是在每条语句后面进行检查。DEFERRED约束一直到事务提交时才检查。每个约束都有自己的模式。</p>
<p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_adb9e028de4244604ad6cc0df71b2dff4">从创建约束条件开始，一个约束总是设定为DEFERRABLE INITIALLY DEFERRED，DEFERRABLE INITIALLY IMMEDIATE，NOT DEFERRABLE三个特性之一。第三种总是IMMEDIATE，并且不会受SET CONSTRAINTS影响。前两种以指定的方式启动每个事务，但是其行为可以在事务里用SET CONSTRAINTS改变。</p>
<p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_aa3ad25e698ee451aa5f198212b78f135">带着一个约束名列表的SET CONSTRAINTS改变这些约束的模式（都必须是可推迟的）。如果有多个约束匹配某个名称，则所有都会被影响。SET CONSTRAINTS ALL改变所有可推迟约束的模式。</p>
<p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_a55fa0711b1f645278eb64753acede194">当SET CONSTRAINTS把一个约束从DEFERRED改成IMMEDIATE的时候，新模式反作用式地起作用：任何将在事务结束准备进行的数据修改都将在SET CONSTRAINTS的时候执行检查。如果违反了任何约束，SET CONSTRAINTS都会失败（并且不会修改约束模式）。因此，SET CONSTRAINTS可以用于强制在事务中某一点进行约束检查。</p>
<p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_acfda955907d34a4b8870e52a7ae6673d">检查和唯一约束总是不可推迟的。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_af7636017a51c407683efee2f2bb6eebd">SET CONSTRAINTS只在当前事务里设置约束的行为。因此，如果用户在事务块之外（START TRANSACTION/COMMIT对）执行这个命令，它将没有任何作用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--设置所有约束在事务提交时检查。
postgres=# SET CONSTRAINTS ALL DEFERRED ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_s3424a23db60c4dedbd459502d2f78aac">SET CONSTRAINTS  { ALL  |  { name  }  [, ...]  }  { DEFERRED  | IMMEDIATE  } ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_zh-cn_topic_0058966050_b358790019421">name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_zh-cn_topic_0058966050_p730599019426">约束名。</p>
<p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_a6f37f4ffbf8143f7ad0a0d822c38d994">取值范围：已存在的约束名。可以在系统表pg_constraint中查到。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_afb25733dad7240178c5ab2160dfeaf27">ALL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_aaeacaa080d05408b9abd90512faabb9a">所有约束。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_abe8f877b464a41588f67ddb392510e51">DEFERRED</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_a1343cb65fa66498cbb7d656abbc6bfc8">约束一直到事务提交时才检查。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_a0579750642b2486faa2df0863199838c">IMMEDIATE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370651__zh-cn_topic_0237122187_zh-cn_topic_0059779017_a9c988f65ca8945f2b60c14ae7c9ae577">约束在每条语句后进行检查。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="SET ROLE" alias="SET ROLE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_zh-cn_topic_0058966168_p322492155116">设置当前会话的当前用户标识符。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_u6276695763234f3a848512f3e3b81c12"><li id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_l34b36b92ffe844479faabffb4ebdc4d6">当前会话的用户必须是指定的rolename角色的成员，但系统管理员可以选择任何角色。</li><li id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_lf073a44896be4fe7a4400b46d3018641">使用这条命令，它可能会增加一个用户的权限，也可能会限制一个用户的权限。如果会话用户的角色有INHERITS属性，则它自动拥有它能SET ROLE变成的角色的所有权限；在这种情况下，SET ROLE实际上是删除了所有直接赋予会话用户的权限，以及它的所属角色的权限，只剩下指定角色的权限。另一方面，如果会话用户的角色有NOINHERITS属性，SET ROLE删除直接赋予会话用户的权限，而获取指定角色的权限。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--设置当前用户为paul。
postgres=# SET ROLE paul PASSWORD ' Bigdata@123 ' ; 

--重置当前用户。
postgres=# RESET role ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_uc1701342ce0e4d18809b8b1218091b5c"><li id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_la56a8ffc8bfa409b8fdad3a3c690f49b">设置当前会话的当前用户标识符。<pre class="screen" id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_sd29ce44c94fa4898915fd7e98a92ff1f">SET [ SESSION | LOCAL ] ROLE role_name PASSWORD 'password';</pre>
</li><li id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_lf6c79896a6f64d07a8e4a4befbee3350">重置当前用户标识为当前会话用户标识符。<pre class="screen" id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_s2b6c2d73f301425ca33f5a70e4aaaddb">RESET ROLE;</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a0d1403aaecc44a37a925a8bc5b19237b">SESSION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_abc06e294c6bb4e568645922a77aab84c">声明这个命令只对当前会话起作用，此参数为缺省值。</p>
<p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a0c12abab3ff44ea49744e14451b7a1f1">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a069462eeddd547afb383b17d2a3bfe38">LOCALE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a763ed14f7f7f4169adff24d96c29de25">声明该命令只在当前事务中有效。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a3476b1b0138a457b85e491dc3ea5f4b5">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_ad82fd4ca0508416987ad578e9581acad">角色名。</p>
<p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_ac4aa1a7cd860428a9e60aa750e638f18">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a6a38d4a2f31042bc8c507f31787dffa8">password</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a7ab13a2745294973a45725b6f699d62c">角色的密码。要求符合密码的命名规则。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_abc215f5527a74278b4e8974e12235bc8">RESET ROLE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370652__zh-cn_topic_0237122188_zh-cn_topic_0059777965_a79b5f19b5654458a8d30d931e2edc45e">用于重置当前用户标识。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="SET SESSION AUTHORIZATION" alias="SET SESSION AUTHORIZATION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a873bc0f279204c38a4ce0a1e2bb4ee27">把当前会话里的会话用户标识和当前用户标识都设置为指定的用户。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a3828824ebc7e4ff89ca17cbf826ee9a2">只有在初始会话用户有系统管理员权限的时候，会话用户标识符才能改变。否则，只有在指定了被认证的用户名的情况下，系统才接受该命令。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--设置当前用户为paul。
postgres=# SET SESSION AUTHORIZATION paul password ' Bigdata@123 ' ; 

--重置当前用户。
postgres=# RESET SESSION AUTHORIZATION ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_u470104cea7a341419bffa7702805d3f6"><li id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_ld12c28a047724c09b1ce8525cbba8eb6">为当前会话设置会话用户标识符和当前用户标识符。<pre class="screen" id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_s2883d5dc75f3458d84abb73029123108">SET [ SESSION | LOCAL ] SESSION AUTHORIZATION role_name PASSWORD 'password';</pre>
</li><li id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_ldb2d751832eb435ba16e2878aab5f002">重置会话和当前用户标识符为初始认证的用户名。<pre class="screen" id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_s7b70f3a1dc72431fab3463f59cbd6794">{SET [ SESSION | LOCAL ] SESSION AUTHORIZATION DEFAULT
    | RESET SESSION AUTHORIZATION};</pre>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_aa0caff8aca1b4f4d8db41d5865b58fc3">SESSION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_aaa404d7b23f548df94ed6c33ec31c628">声明这个命令只对当前会话起作用。</p>
<p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a0191e53bf4e242dfa2ef53d521d929fe">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a16cce399451a4f6a98b31927146a7d6d">LOCALE</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a1b6058086cd84b078c234c94981f3714">声明该命令只在当前事务中有效。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a215ed778ee2846a89abe6771b9cf0ae1">role_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_aab6cf030dcad45f584f05d25a9171be3">用户名。</p>
<p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a0767f335ea444134ac14d4e5ee0e1367">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a7da95922426a443395750d4d79ea740a">password</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a1175bf17ec804d749f5b38e89dbe9495">角色的密码。要求符合密码的命名规则。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a5bc7d6a2280f4b598f7a94bb1c1bb858">DEFAULT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370653__zh-cn_topic_0237122189_zh-cn_topic_0059778193_a4e44672cca1243b4b9fbe3baef23c606">重置会话和当前用户标识符为初始认证的用户名。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="SET TRANSACTION" alias="SET TRANSACTION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_a03581427daee4535bf056a6d18acb153">为当前事务设置特性。它对后面的事务没有影响。事务特性包括事务隔离级别、事务访问模式(读/写或者只读)。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--开启一个事务，设置事务的隔离级别为READ COMMITTED，访问模式为READ ONLY。
postgres=# START TRANSACTION ; 
postgres=# SET LOCAL TRANSACTION ISOLATION LEVEL READ COMMITTED READ ONLY ; 
postgres=# COMMIT ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><div class="p" id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_a699a75489aa54ccc919f33853c7c1589">设置事务的隔离级别、读写模式。<pre class="screen" id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_se72e16702520499ca8e394ec74930a1e">{ SET [ LOCAL ] TRANSACTION|SET SESSION CHARACTERISTICS AS TRANSACTION }
  { ISOLATION LEVEL { READ COMMITTED | SERIALIZABLE | REPEATABLE READ }
  | { READ WRITE | READ ONLY } } [, ...]</pre>
</div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_b1277138711339">LOCAL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_p4783362711339">声明该命令只在当前事务中有效。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_b4931855311339">SESSION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_p4121379311339">声明这个命令只对当前会话起作用。</p>
<p id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_p3537982311339">取值范围：字符串，要符合标识符的命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_b4719341411339">ISOLATION_LEVEL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><div class="p" id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_p2208754511339">指定事务隔离级别，该参数决定当一个事务中存在其他并发运行事务时能够看到什么数据。<div class="note" id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_note6457018111339"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370654__p198651914122015">在事务中第一个数据修改语句（SELECT，INSERT，DELETE，UPDATE，FETCH，COPY）执行之后，事务隔离级别就不能再次设置。</p>
</div></div>
</div>
<p id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_p2834886711339">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_ul4331886104528"><li id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_li25845441104457">READ COMMITTED：读已提交隔离级别，只能读到已经提交的数据，而不会读到未提交的数据。这是缺省值。</li><li id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_li61493231104522">REPEATABLE READ：可重复读隔离级别，仅仅能看到事务开始之前提交的数据，不能看到未提交的数据，以及在事务执行期间由其它并发事务提交的修改。</li><li id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_li26645293104525">SERIALIZABLE：<span id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_text4317114016013"><span id="ZH-CN_TOPIC_0242370654__text810451522119">openGauss</span></span>目前功能上不支持此隔离级别，等价于REPEATABLE READ。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_b4554444211339">READ WRITE | READ ONLY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370654__zh-cn_topic_0237122190_zh-cn_topic_0059778135_p724679911339">指定事务访问模式（读/写或者只读）。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="SHOW" alias="SHOW">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370655__zh-cn_topic_0237122191_zh-cn_topic_0059779163_a257cc6f11cd84f59a57ed2b749bc17bf">SHOW将显示当前运行时参数的数值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--显示 timezone 参数值。
postgres=# SHOW timezone ; 

--显示所有参数。
postgres=# SHOW ALL ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370655__zh-cn_topic_0237122191_zh-cn_topic_0059779163_s225fef9c9d4b4272bcc5a601969f5272">SHOW 
  { 
    configuration_parameter | 
    CURRENT_SCHEMA | 
    TIME ZONE | 
    TRANSACTION ISOLATION LEVEL | 
    SESSION AUTHORIZATION | 
    ALL 
  };</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"></h4><p id="ZH-CN_TOPIC_0242370655__zh-cn_topic_0237122191_zh-cn_topic_0059779163_a78c13748830e4e398469bfd1e201cf81">显示变量的参数请参见RESET的<a>参数说明</a>。</p>
</div>]]></suggestion>
  </command>
  <command id="START TRANSACTION" alias="START TRANSACTION">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_a6119fa0275cf4844bb093a1fe8c8a80c">通过START TRANSACTION启动事务。如果声明了隔离级别、读写模式，那么新事务就使用这些特性，类似执行了<a>SET TRANSACTION</a>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--以默认方式启动事务。
postgres=# START TRANSACTION ; 
postgres=# SELECT * FROM tpcds.reason ; 
postgres=# END ; 

--以隔离级别为READ COMMITTED，读/写方式启动事务。
postgres=# START TRANSACTION ISOLATION LEVEL READ COMMITTED READ WRITE ; 
postgres=# SELECT * FROM tpcds.reason ; 
postgres=# COMMIT ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_p2839029716278">格式一：START TRANSACTION格式</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_s45c4a96291574713af6203aa80d09d17">START TRANSACTION
  [ 
    { 
       ISOLATION LEVEL { READ COMMITTED | SERIALIZABLE | REPEATABLE READ }
       | { READ WRITE | READ ONLY }
     } [, ...] 
  ];</pre>
<p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_p10887162717">格式二：BEGIN格式</p>
<pre class="screen" id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_screen3649444162942">BEGIN [ WORK | TRANSACTION ]
  [ 
    { 
       ISOLATION LEVEL { READ COMMITTED | SERIALIZABLE | REPEATABLE READ }
       | { READ WRITE | READ ONLY }
      } [, ...] 
  ];</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_b1388857716573">WORK | TRANSACTION</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_p22250873165541">BEGIN格式中的可选关键字，没有实际作用。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_a097e5ccf533e4f10a3dfdf41f8e03829">ISOLATION LEVEL</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_aeff8aff183b94db7957437b4f90b8749">指定事务隔离级别，它决定当一个事务中存在其他并发运行事务时它能够看到什么数据。</p>
<div class="note" id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_ne26fdb58b5ef4c579d4bf8ce72caa113"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_a7957139497c94da0899525f12734d868">在事务中第一个数据修改语句（SELECT, INSERT，DELETE，UPDATE，FETCH，COPY）执行之后，事务隔离级别就不能再次设置。</p>
</div></div>
<p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_a255041a14ac0403bbade5f2a013b97d2">取值范围：</p>
<ul id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_u760caaad13db4c71bbe9e49f7fdc98ec"><li id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_li6251188172233">READ COMMITTED：读已提交隔离级别，只能读到已经提交的数据，而不会读到未提交的数据。这是缺省值。</li><li id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_li1797917205717">REPEATABLE READ： 可重复读隔离级别，仅仅看到事务开始之前提交的数据，它不能看到未提交的数据，以及在事务执行期间由其它并发事务提交的修改。</li><li id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_li57449633172351">SERIALIZABLE：<span id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_text1820911573456"><span id="ZH-CN_TOPIC_0242370656__text52061717122116">openGauss</span></span>目前功能上不支持此隔离级别，等价于REPEATABLE READ。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_a8b719c7466794588a9e73a23ca475b2c">READ WRITE | READ ONLY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370656__zh-cn_topic_0237122192_zh-cn_topic_0059777519_aa0afd6692e0045dcb1a950e388ec30d9">指定事务访问模式（读/写或者只读）。</p>
</div></ul></div>]]></suggestion>
  </command>
  <command id="TRUNCATE" alias="TRUNCATE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p9350410219">清理表数据，TRUNCATE快速地从表中删除所有行。</p>
<p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_zh-cn_topic_0059777694_af04a327a0c5642cba7ad7cb05d00570b">它和在目标表上进行无条件的DELETE有同样的效果，但由于TRUNCATE不做表扫描，因而快得多。在大表上操作效果更明显。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_ul878427856"><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li578417717511">TRUNCATE TABLE在功能上与不带WHERE子句DELETE语句相同：二者均删除表中的全部行。</li><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li61083133514">TRUNCATE TABLE比DELETE速度快且使用系统和事务日志资源少：<ul id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_ul102061210627"><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li1620616101527">DELETE语句每次删除一行，并在事务日志中为所删除每行记录一项。</li><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li1720711108217">TRUNCATE TABLE通过释放存储表数据所用数据页来删除数据，并且只在事务日志中记录页的释放。</li></ul>
</li><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li1465718241155">TRUNCATE，DELETE，DROP三者的差异如下：<ul id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_ul11208110828"><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li1220914101523">TRUNCATE TABLE，删除内容，释放空间，但不删除定义。</li><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li121021014220">DELETE TABLE，删除内容，不删除定义，不释放空间。</li><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li421116102219">DROP TABLE，删除内容和定义，释放空间。</li></ul>
</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--清空表tpcds.reason_t1。
postgres=# TRUNCATE TABLE tpcds.reason_t1 ; 

--清空分区p_05_before。
postgres=# ALTER TABLE tpcds.reason_p TRUNCATE PARTITION p_05_before ; 

--清空分区p_15。
postgres=# ALTER TABLE tpcds.reason_p TRUNCATE PARTITION for ( 13 ) ; 

--清空分区表。
postgres=# TRUNCATE TABLE tpcds.reason_p ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_zh-cn_topic_0059777694_ud43d625e9118451e99205acff33d8eda"><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_zh-cn_topic_0059777694_lb7ce818d8fe64d30932b465108330863">清理表数据。</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_zh-cn_topic_0059777694_s03644cbc923e406fa45d65cbefd19591">TRUNCATE [ TABLE ] [ ONLY ] {table_name [ * ]} [, ... ]
    [ CONTINUE IDENTITY ] [ CASCADE | RESTRICT ];</pre>
<ul id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_zh-cn_topic_0059777694_ub2159c6c453a42dcbd61086d3d892be7"><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_zh-cn_topic_0059777694_l1f1a451027574e828a97a68dd537798d">清理表分区的数据。</li></ul>
<pre class="screen" id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_zh-cn_topic_0059777694_s43b1f5acd8d54229957859106a69a06a">ALTER TABLE [ IF EXISTS  ] { [ ONLY  ] table_name  
                           | table_name *  
                           | ONLY ( table_name )  } 
    TRUNCATE PARTITION { partition_name  
                       | FOR (  partition_value  [, ...] )  } ;</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_b14566102833617">ONLY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p193624443916">如果声明ONLY，只有指定的表会被清空。如果没有声明ONLY，这个表以及其所有子表（若有）会被清空。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_b17566162812366">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p956772873612">目标表的名称（可以有模式修饰）。</p>
<p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p1985911269408">取值范围：已存在的表名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_b1556722873612">CONTINUE IDENTITY</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p377133104015">不改变序列的值。这是缺省值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_b175671728193613">CASCADE | RESTRICT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><ul id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_ul0567112893614"><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li105671528183613">CASCADE：级联清空所有由于CASCADE而被添加到组中的表。</li><li id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_li156228506405">RESTRICT（缺省值）：完全清空。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_b13567928193618">partition_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p19567192883611">目标分区表的分区名。</p>
<p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p6514141564115">取值范围：已存在的分区名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_b1556717283365">partition_value</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p456782814366">指定的分区键值。</p>
<p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p756772814361">通过PARTITION FOR子句指定的这一组值，可以唯一确定一个分区。</p>
<p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p19284103084116">取值范围：需要进行删除数据分区的分区键的取值范围。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_note1777254010413"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370657__zh-cn_topic_0237122193_p127721640104114">使用PARTITION FOR子句时，partition_value所在的整个分区会被清空。</p>
</div></div>
</div></ul></div>]]></suggestion>
  </command>
  <command id="UPDATE" alias="UPDATE">
    <suggestion><![CDATA[
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">功能描述&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section section-item-content"><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_zh-cn_topic_0058966033_p789149911937">更新表中的数据。UPDATE修改满足条件的所有行中指定的字段值，WHERE子句声明条件，SET子句指定的字段会被修改，没有出现的字段则保持它们的原值。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">注意事项&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><ul id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_u62278aaca9c94025b118f2a4e4f388c0"><li id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_l8e4ef197c88544799f51202162810915">要修改表，用户必须对该表有UPDATE权限。</li><li id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_l3f4ce3ae296c42e78c2b33bc23b00f87">对expression或condition条件里涉及到的任何表要有SELECT权限。</li><li id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_lf596e77b00d54c67b771feddbd1c1bd1">对于列存表，暂时不支持RETURNING子句。</li><li id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_l6d15e956e4a448a5af018b6e74e24307">列存表不支持结果不确定的更新(non-deterministic update)。试图对列存表用多行数据更新一行时会报错。</li><li id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_l8b05acf50d1c4c31970c5c4814e62f8d">列存表的更新操作，旧记录空间不会回收，需要执行VACUUM FULL table_name进行清理。</li><li id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_li035016471110">对于列存复制表，暂不支持UPDATE操作。</li></ul>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">示例&nbsp;<img src="img/openblue.png" style="valigh:middle;display:none"><img src="img/closeblue.png" style="valigh:middle;display:inline"></h4></div>
<div class="section"><pre class="screen" id="assistantExamples">--直接更新所有记录的值。
postgres=# UPDATE student1 SET classno = classno*2 ; 
</pre></div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">语法格式&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><pre class="screen" id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_s920202a1df5543b48ae1b3693b287e0e">UPDATE [ ONLY ] table_name [ * ] [ [ AS ] alias ]
SET {column_name = { expression | DEFAULT } 
    |( column_name [, ...] ) = {( { expression | DEFAULT } [, ...] ) |sub_query }}[, ...]
    [ FROM from_list] [ WHERE condition ]
    [ RETURNING {* 
                | {output_expression [ [ AS ] output_name ]} [, ...] }];

where sub_query can be:
SELECT [ ALL | DISTINCT [ ON ( expression [, ...] ) ] ]
{ * | {expression [ [ AS ] output_name ]} [, ...] }
[ FROM from_item [, ...] ]
[ WHERE condition ]
[ GROUP BY grouping_element [, ...] ]
[ HAVING condition [, ...] ]</pre>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionTitle" style="valigh: middle">参数说明&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div class="section" style="display: none"><ul>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_zh-cn_topic_0058966033_b699331315524">table_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a5aea3298c7ac40eda458279a92acddb0">要更新的表名，可以使用模式修饰。</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a8dfc5a363f304e918cb96ec3559c9235">取值范围：已存在的表名称。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a2dfc728837304df5b94c53f3dd2e81ba">alias</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_ab6967f48ff6644e88db9b168b419f8a5">目标表的别名。</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_ac11edd25b5d44f64ac7aa56ffc82ae42">取值范围：字符串，符合标识符命名规范。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a9fb968af8a934d2cb241d46e25e35f5b">column_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a17b245b61ff84c118f007a6f6250aaa8">要修改的字段名。</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a59a56c92f86f48e4aeadd1d00a6c5f04">支持使用目标表的别名加字段名来引用这个字段。例如：</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_aa5ed03e6d1f84bd1a1f75151220661a9">UPDATE foo AS f SET f.col_name = 'postgres';</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a2e3730001b474c89a939126427deaaa3">取值范围：已存在的字段名。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_ad41c481db78b44b4a8aa44b4fdb90ed4">expression</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_aca156fd8ee7e41679a9606ebb9222b92">赋给字段的值或表达式。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_ae43a9271b1764441a7a218246d9c4918">DEFAULT</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_aa0898ba79ef94317b9a3fc36060d8d29">用对应字段的缺省值填充该字段。</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a5d045a219aa744ccb9ebd79828256bc2">如果没有缺省值，则为NULL。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a58b525a1d9bb46fc8762eab618e069f5">sub_query</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a512940ab9e724b7a85a703ef27a2b42a">子查询。</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a6e6effcb321641758a702fec04d60691">使用同一数据库里其他表的信息来更新一个表可以使用子查询的方法。其中SELECT子句具体介绍请参考<a>SELECT</a>。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_zh-cn_topic_0058966033_b16006715524">from_list</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_aa596d07531d044fbb346c027649c3368">一个表的表达式列表，允许在WHERE条件里使用其他表的字段。与在一个SELECT语句的FROM子句里声明表列表类似。</p>
<div class="notice" id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_n1953bd08805347509e99cac283b12c33"><span class="noticetitle"><img src="openGauss 1.0.0/zh/gramma/public_sys-resources/notice_3.0-zh-cn.png"> </span><div class="noticebody"><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a174db395b86f4b24aedebece6b96f024">目标表绝对不能出现在from_list里，除非在使用一个自连接（此时它必须以from_list的别名出现）。</p>
</div></div>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a1aefd089b5d94bc29b7167b0dc99c176">condition</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_abb207e2b0d3b4b43b3a1b6d53fd8be9b">一个返回<span id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_text158603219259">Boolean</span>类型结果的表达式。只有这个表达式返回true的行才会被更新。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_zh-cn_topic_0058966033_b144060815524">output_expression</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_afa7b28605fff4f6d9920aa4717242b9c">在所有需要更新的行都被更新之后，UPDATE命令用于计算返回值的表达式。</p>
<p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a40dc070ed5da4cffa5c543209c6886cb">取值范围：使用任何table以及FROM中列出的表的字段。*表示返回所有字段。</p>
</div>
<div style="cursor: hand; valigh: middle" onclick="isHidden(this)"><h4 class="sectionText" style="valigh: middle"><strong id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a195be70a38544007bc05bb741374b789">output_name</strong>&nbsp;<img src="img/openblue.png" style="valigh:middle;display:inline"><img src="img/closeblue.png" style="valigh:middle;display:none"></h4></div>
<div style='display:none'><p id="ZH-CN_TOPIC_0242370658__zh-cn_topic_0237122194_zh-cn_topic_0059778969_a3397512229ed47da90a611a201b30c03">字段的返回名称。</p>
</div></ul></div>]]></suggestion>
  </command>
</commands>